/*! For license information please see main.c4ae6f34.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=d(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function j(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,ze=!1,Ve=null,Ue={onError:function(e){Le=!0,Fe=e}};function je(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,It=!1,Tt=[],Ct=null,At=null,Rt=null,Nt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){zt(e)&&n.delete(t)}function Ut(){It=!1,null!==Ct&&zt(Ct)&&(Ct=null),null!==At&&zt(At)&&(At=null),null!==Rt&&zt(Rt)&&(Rt=null),Nt.forEach(Vt),Pt.forEach(Vt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return jt(t,e)}if(0<Tt.length){jt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&jt(Ct,e),null!==At&&jt(At,e),null!==Rt&&jt(Rt,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),dn=an(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Dn||Mn&&8<Mn&&11>=Mn),zn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){zr(e,0)}function $n(e){if(H(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Kn(t,Hn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),s(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Dr=Nr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(je.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,ze||(ze=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(ze)throw e=Ve,ze=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Rr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Ir:case Tr:case Cr:s=yn;break;case Ar:s=Rn;break;case"scroll":s=dn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(Kr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ki(s),h=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Hr(h))p++;for(h=0,v=d;v;v=Hr(v))h++;for(;0<p-h;)l=Hr(l),p--;for(;0<h-p;)d=Hr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Hr(l),d=Hr(d)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=jn(n))&&(b.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Vn=!0,zn);case"textInput":return(e=t.data)===zn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}zr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Ri=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ai),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ii(Ci,e)):Ei(Ai),Ii(Ai,n)}var zi=null,Vi=!1,Ui=!1;function ji(e){null===zi?zi=[e]:zi.push(e)}function Bi(){if(!Ui&&null!==zi){Ui=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Vi=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),He(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Ra=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ja={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Pi(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Pi(t)?Ri:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ja.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Mc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=zc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ii(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Do.bind(null,n,r,i,t),void 0,null),null===Rs)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function zo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function jo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return jo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:zo,useDebugValue:$o,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=zo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Rs)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Rs.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:Ro,useRef:Uo,useState:function(){return Ro(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Gs=r),du(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ds,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ds,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ds,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ds,Os),Os|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ri:Ci.current;return a=Ni(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Wu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ni(t,c=Pi(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Ra=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ai.current||Ra?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Ra||Ba(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ni(t,s=Pi(n)?Ri:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Wa(t,o,r,s),Ra=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ai.current||Ra?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(c=Ra||Ba(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ru(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ou,Du,Mu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function zu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Lu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Rs)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Vu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Hu(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ou(e,t),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Mu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ms&&(Ms=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),Ou(e,t),null===e&&Br(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Ms||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Mu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,ds=!1;function hs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=ds;fs=null,hs(e,t,n),ds=i,null!==(fs=r)&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=ds,fs=n.stateNode.containerInfo,ds=!0,hs(e,t,n),fs=r,ds=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,hs(e,t,n),Xu=r):hs(e,t,n);break;default:hs(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,ds=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,ds=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(d=Zu=f;null!==Zu;){switch(p=(h=Zu).child,h.tag){case 0:case 11:case 14:case 15:rs(4,h,h.return);break;case 1:es(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(h,h.return);break;case 22:if(null!==h.memoizedState){xs(d);continue}}null!==p?(p.return=h,Zu=p):xs(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Zu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Yu;var c=Xu;if(Yu=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Zu=s):_s(i);for(;null!==a;)Zu=a,ks(a,t,n),a=a.sibling;Zu=i,Yu=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&za(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(h){Ec(t,t.return,h)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Ss,Es=Math.ceil,Is=k.ReactCurrentDispatcher,Ts=k.ReactCurrentOwner,Cs=k.ReactCurrentBatchConfig,As=0,Rs=null,Ns=null,Ps=0,Os=0,Ds=Si(0),Ms=0,Ls=null,Fs=0,zs=0,Vs=0,Us=null,js=null,Bs=0,qs=1/0,Ws=null,Ks=!1,Gs=null,Hs=null,Qs=!1,$s=null,Ys=0,Xs=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&As)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Rs||(e===Rs&&(0===(2&As)&&(zs|=n),4===Ms&&sc(e,Ps)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Xe()+500,Vi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Rs?Ps:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,ji(e)}(cc.bind(null,e)):ji(cc.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=dt(e,e===Rs?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Rs===e&&Ps===t||(Ws=null,qs=Xe()+500,hc(e,t));;)try{bc();break}catch(s){pc(e,s)}wa(),Is.current=o,As=i,null!==Ns?t=0:(Rs=null,Ps=0,t=Ms)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ls,hc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ls,hc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,js,Ws);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,js,Ws),t);break}xc(e,js,Ws);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,js,Ws),r);break}xc(e,js,Ws);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=js,js=n,null!==t&&uc(t)),e}function uc(e){null===js?js=e:js.push.apply(js,e)}function sc(e,t){for(t&=~Vs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));_c();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ls,hc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,js,Ws),ic(e,Xe()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Xe()+500,Vi&&Bi())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&As)&&_c();var t=As;As|=1;var n=Cs.transition,r=bt;try{if(Cs.transition=null,bt=1,e)return e()}finally{bt=r,Cs.transition=n,0===(6&(As=t))&&Bi()}}function dc(){Os=Ds.current,Ei(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Rs=e,Ns=e=Dc(e.current,null),Ps=Os=t,Ms=0,Ls=null,Vs=zs=Fs=0,js=Us=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Ts.current=null,null===n||null===n.return){Ms=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ms&&(Ms=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hs||!Hs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function vc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function mc(){0!==Ms&&3!==Ms&&2!==Ms||(Ms=4),null===Rs||0===(268435455&Fs)&&0===(268435455&zs)||sc(Rs,Ps)}function yc(e,t){var n=As;As|=2;var r=vc();for(Rs===e&&Ps===t||(Ws=null,hc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Is.current=r,null!==Ns)throw Error(a(261));return Rs=null,Ps=0,Ms}function gc(){for(;null!==Ns;)kc(Ns)}function bc(){for(;null!==Ns&&!$e();)kc(Ns)}function kc(e){var t=Ss(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wc(e):Ns=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Os)))return void(Ns=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ms=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ms&&(Ms=5)}function xc(e,t,n){var r=bt,i=Cs.transition;try{Cs.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==$s);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Rs&&(Ns=Rs=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Rc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=bt;bt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Wt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bs(n,e,i),Ye(),As=s,bt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Ys=i),o=e.pendingLanes,0===o&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Gs,Gs=null,e;0!==(1&Ys)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,bt=r}return null}function _c(){if(null!==$s){var e=kt(Ys),t=Cs.transition,n=bt;try{if(Cs.transition=null,bt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Ys=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var d=f.child;if(null!==d)d.return=f,Zu=d;else for(;null!==Zu;){var h=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==h){h.return=p,Zu=h;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var b=e.current;for(Zu=b;null!==Zu;){var k=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Zu=k;else e:for(u=b;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Cs.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ps&n)===n&&(4===Ms||3===Ms&&(130023424&Ps)===Ps&&500>Xe()-Bs?hc(e,0):Vs|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Rc(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=o,e;case R:return(e=Pc(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Ru(t),ha();break;case 5:ao(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zu(e,t,n):(Ii(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Ku(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=ja,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ru(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return zu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Wu(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Sa(t,n),qa(t,r,i),Ka(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&As)&&(qs=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,d=60115,h=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),u=b("react.provider"),s=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),y=b("react.debug_trace_mode"),g=b("react.legacy_hidden")}function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case h:case d:case u:return e;default:return t}}case r:return t}}}},441:function(e,t,n){n(372)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function R(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof b)_=function(){b(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=R,_=function(){P.postMessage(null)}}else _=function(){y(R,0)};function O(e){E=e,S||(S=!0,_())}function D(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){n.d(r,{_y:function(){return sV}});var e={};n.r(e),n.d(e,{FirebaseError:function(){return gu},SDK_VERSION:function(){return As},_DEFAULT_ENTRY_NAME:function(){return ms},_addComponent:function(){return ks},_addOrOverwriteComponent:function(){return ws},_apps:function(){return gs},_clearComponents:function(){return Es},_components:function(){return bs},_getProvider:function(){return _s},_registerComponent:function(){return xs},_removeServiceInstance:function(){return Ss},deleteApp:function(){return Os},getApp:function(){return Ns},getApps:function(){return Ps},initializeApp:function(){return Rs},onLog:function(){return Ls},registerVersion:function(){return Ms},setLogLevel:function(){return Fs}});var t,i=n(791),a=n.t(i,2),o=n(250);function u(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||c(e,t)||l()}function d(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||d(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){var t=x();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function E(e,t,n){return E=x()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},E.apply(null,arguments)}function I(e){var t="function"===typeof Map?new Map:void 0;return I=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return E(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,e)},I(e)}function T(e){return u(e)||d(e)||c(e)||l()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var R,N="popstate";function P(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function O(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function M(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function F(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function z(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,d=null,h=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-h;h=e,d&&d({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:L(e);return P(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(A({},l.state,{idx:h}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return u.addEventListener(N,v),d=e,function(){u.removeEventListener(N,v),d=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=M(y.location,e,n);r&&r(i,e);var a=D(i,h=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;u.location.assign(o)}c&&d&&d({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=M(y.location,e,n);r&&r(i,e);var a=D(i,h=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&d&&d({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(R||(R={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function V(e,t,n){void 0===n&&(n="/");var r=Z(("string"===typeof t?F(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Y(i[o],J(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(P(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=re([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(P(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),U(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:$(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(j(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function j(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=j(i.join("/")),s=[];return s.push.apply(s,h(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,h(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:\w+$/,q=3,W=2,K=1,G=10,H=-2,Q=function(e){return"*"===e};function $(e,t){var n=e.split("/"),r=n.length;return n.some(Q)&&(r+=H),t&&(r+=W),n.filter((function(e){return!Q(e)})).reduce((function(e,t){return e+(B.test(t)?q:""===t?K:G)}),r)}function Y(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=X({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:re([i,l.pathname]),pathnameBase:ie(re([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=re([i,l.pathnameBase]))}return a}function X(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);O("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=f(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return O(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function J(e){try{return decodeURI(e)}catch(t){return O(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function te(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ne(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=F(e):(P(!(i=A({},e)).pathname||!i.pathname.includes("?"),ee("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),ee("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),ee("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?F(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ae(a),hash:oe(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),d=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var re=function(e){return e.join("/").replace(/\/\/+/g,"/")},ie=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ae=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},oe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ue=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(I(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ce=["post","put","patch","delete"],le=(new Set(ce),["get"].concat(ce));new Set(le),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}var de=i.createContext(null);var he=i.createContext(null);var pe=i.createContext(null);var ve=i.createContext(null);var me=i.createContext(null);var ye=i.createContext({outlet:null,matches:[],isDataRoute:!1});var ge=i.createContext(null);function be(){return null!=i.useContext(me)}function ke(){return be()||P(!1),i.useContext(me).location}function we(e){i.useContext(ve).static||i.useLayoutEffect(e)}function xe(){return i.useContext(ye).isDataRoute?function(){var e=Pe(Re.UseNavigateStable).router,t=De(Ne.UseNavigateStable),n=i.useRef(!1);we((function(){n.current=!0}));var r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,fe({fromRouteId:t},i)))}),[e,t]);return r}():function(){be()||P(!1);var e=i.useContext(de),t=i.useContext(ve),n=t.basename,r=t.navigator,a=i.useContext(ye).matches,o=ke().pathname,u=JSON.stringify(te(a).map((function(e){return e.pathnameBase}))),s=i.useRef(!1);return we((function(){s.current=!0})),i.useCallback((function(t,i){if(void 0===i&&(i={}),s.current)if("number"!==typeof t){var a=ne(t,JSON.parse(u),o,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:re([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}else r.go(t)}),[n,r,u,o,e])}()}function _e(e,t){var n=(void 0===t?{}:t).relative,r=i.useContext(ye).matches,a=ke().pathname,o=JSON.stringify(te(r).map((function(e){return e.pathnameBase})));return i.useMemo((function(){return ne(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Se(e,n,r){be()||P(!1);var a,o=i.useContext(ve).navigator,u=i.useContext(ye).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,ke());if(n){var d,h="string"===typeof n?F(n):n;"/"===l||(null==(d=h.pathname)?void 0:d.startsWith(l))||P(!1),a=h}else a=f;var p=a.pathname||"/",v=V(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ae(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:re([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:re([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,r);return n&&m?i.createElement(me.Provider,{value:{location:fe({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Ee(){var e=function(){var e,t=i.useContext(ge),n=Oe(Ne.UseRouteError),r=De(Ne.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}var Ie=i.createElement(Ee,null),Te=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?i.createElement(ye.Provider,{value:this.props.routeContext},i.createElement(ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(i.Component);function Ce(e){var t=e.routeContext,n=e.match,r=e.children,a=i.useContext(de);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(ye.Provider,{value:t},r)}function Ae(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(r=n)?void 0:r.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||P(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,r,a){var s=r.route.id?null==u?void 0:u[r.route.id]:null,c=null;n&&(c=r.route.errorElement||Ie);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=s?c:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(Ce,{match:r,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(Te,{location:n.location,revalidation:n.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Re=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Re||{}),Ne=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ne||{});function Pe(e){var t=i.useContext(de);return t||P(!1),t}function Oe(e){var t=i.useContext(he);return t||P(!1),t}function De(e){var t=function(e){var t=i.useContext(ye);return t||P(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||P(!1),n.route.id}a.startTransition;function Me(e){var t=e.to,n=e.replace,r=e.state,a=e.relative;be()||P(!1);var o=i.useContext(ye).matches,u=ke().pathname,s=xe(),c=ne(t,te(o).map((function(e){return e.pathnameBase})),u,"path"===a),l=JSON.stringify(c);return i.useEffect((function(){return s(JSON.parse(l),{replace:n,state:r,relative:a})}),[s,l,a,n,r]),null}function Le(e){P(!1)}function Fe(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,d=void 0!==f&&f;be()&&P(!1);var h=r.replace(/^\/*/,"/"),p=i.useMemo((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof u&&(u=F(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,b=void 0===g?"":g,k=v.hash,w=void 0===k?"":k,x=v.state,_=void 0===x?null:x,S=v.key,E=void 0===S?"default":S,I=i.useMemo((function(){var e=Z(y,h);return null==e?null:{location:{pathname:e,search:b,hash:w,state:_,key:E},navigationType:c}}),[h,y,b,w,_,E,c]);return null==I?null:i.createElement(ve.Provider,{value:p},i.createElement(me.Provider,{children:o,value:I}))}function ze(e){var t=e.children,n=e.location;return Se(je(t),n)}var Ve=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Ve||{}),Ue=new Promise((function(){}));i.Component;function je(e,t){void 0===t&&(t=[]);var n=[];return i.Children.forEach(e,(function(e,r){if(i.isValidElement(e)){var a=[].concat(h(t),[r]);if(e.type!==i.Fragment){e.type!==Le&&P(!1),e.props.index&&e.props.children&&P(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=je(e.props.children,a)),n.push(o)}else n.push.apply(n,je(e.props.children,a))}})),n}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var We=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Ke=["aria-current","caseSensitive","className","end","style","to","children"];var Ge=a.startTransition;function He(e){var t,n=e.basename,r=e.children,a=e.future,o=e.window,u=i.useRef();null==u.current&&(u.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),z((function(e,t){var n=F(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash,s=void 0===u?"":u;return i.startsWith("/")||i.startsWith(".")||(i="/"+i),M("",{pathname:i,search:o,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:L(t))}),(function(e,t){O("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var s=u.current,c=f(i.useState({action:s.action,location:s.location}),2),l=c[0],d=c[1],h=(a||{}).v7_startTransition,p=i.useCallback((function(e){h&&Ge?Ge((function(){return d(e)})):d(e)}),[d,h]);return i.useLayoutEffect((function(){return s.listen(p)}),[s,p]),i.createElement(Fe,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}var Qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,$e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=i.forwardRef((function(e,t){var n,r=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,d=qe(e,We),h=i.useContext(ve).basename,p=!1;if("string"===typeof l&&$e.test(l)&&(n=l,Qe))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=Z(m.pathname,h);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(k){}var g=function(e,t){var n=(void 0===t?{}:t).relative;be()||P(!1);var r=i.useContext(ve),a=r.basename,o=r.navigator,u=_e(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:re([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),b=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=xe(),l=ke(),f=_e(e,{relative:s});return i.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==a?a:L(l)===L(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,r,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return i.createElement("a",Be({},d,{href:n||g,onClick:p||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Xe=i.forwardRef((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,d=e.to,h=e.children,p=qe(e,Ke),v=_e(d,{relative:p.relative}),m=ke(),y=i.useContext(he),g=i.useContext(ve).navigator,b=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,k=m.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(k=k.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase());var x,_=k===b||!l&&k.startsWith(b)&&"/"===k.charAt(b.length),S=null!=w&&(w===b||!l&&w.startsWith(b)&&"/"===w.charAt(b.length)),E=_?r:void 0;x="function"===typeof s?s({isActive:_,isPending:S}):[s,_?"active":null,S?"pending":null].filter(Boolean).join(" ");var I="function"===typeof f?f({isActive:_,isPending:S}):f;return i.createElement(Ye,Be({},p,{"aria-current":E,className:x,ref:t,style:I,to:d}),"function"===typeof h?h({isActive:_,isPending:S}):h)}));var Je,Ze;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Je||(Je={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ze||(Ze={}));function et(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}function nt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=nt(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var rt=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=nt(e))&&(r&&(r+=" "),r+=t);return r};function it(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function at(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var ot=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ut=at((function(e){return ot.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var st=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ct=Math.abs,lt=String.fromCharCode,ft=Object.assign;function dt(e){return e.trim()}function ht(e,t,n){return e.replace(t,n)}function pt(e,t){return e.indexOf(t)}function vt(e,t){return 0|e.charCodeAt(t)}function mt(e,t,n){return e.slice(t,n)}function yt(e){return e.length}function gt(e){return e.length}function bt(e,t){return t.push(e),e}var kt=1,wt=1,xt=0,_t=0,St=0,Et="";function It(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:kt,column:wt,length:o,return:""}}function Tt(e,t){return ft(It("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ct(){return St=_t>0?vt(Et,--_t):0,wt--,10===St&&(wt=1,kt--),St}function At(){return St=_t<xt?vt(Et,_t++):0,wt++,10===St&&(wt=1,kt++),St}function Rt(){return vt(Et,_t)}function Nt(){return _t}function Pt(e,t){return mt(Et,e,t)}function Ot(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Dt(e){return kt=wt=1,xt=yt(Et=e),_t=0,[]}function Mt(e){return Et="",e}function Lt(e){return dt(Pt(_t-1,Vt(91===e?e+2:40===e?e+1:e)))}function Ft(e){for(;(St=Rt())&&St<33;)At();return Ot(e)>2||Ot(St)>3?"":" "}function zt(e,t){for(;--t&&At()&&!(St<48||St>102||St>57&&St<65||St>70&&St<97););return Pt(e,Nt()+(t<6&&32==Rt()&&32==At()))}function Vt(e){for(;At();)switch(St){case e:return _t;case 34:case 39:34!==e&&39!==e&&Vt(St);break;case 40:41===e&&Vt(e);break;case 92:At()}return _t}function Ut(e,t){for(;At()&&e+St!==57&&(e+St!==84||47!==Rt()););return"/*"+Pt(t,_t-1)+"*"+lt(47===e?e:At())}function jt(e){for(;!Ot(Rt());)At();return Pt(e,_t)}var Bt="-ms-",qt="-moz-",Wt="-webkit-",Kt="comm",Gt="rule",Ht="decl",Qt="@keyframes";function $t(e,t){for(var n="",r=gt(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Yt(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ht:return e.return=e.return||e.value;case Kt:return"";case Qt:return e.return=e.value+"{"+$t(e.children,r)+"}";case Gt:e.value=e.props.join(",")}return yt(n=$t(e.children,r))?e.return=e.value+"{"+n+"}":""}function Xt(e){return Mt(Jt("",null,null,null,[""],e=Dt(e),0,[0],e))}function Jt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,d=0,h=0,p=0,v=1,m=1,y=1,g=0,b="",k=i,w=a,x=r,_=b;m;)switch(p=g,g=At()){case 40:if(108!=p&&58==vt(_,f-1)){-1!=pt(_+=ht(Lt(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=Lt(g);break;case 9:case 10:case 13:case 32:_+=Ft(p);break;case 92:_+=zt(Nt()-1,7);continue;case 47:switch(Rt()){case 42:case 47:bt(en(Ut(At(),Nt()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=yt(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:-1==y&&(_=ht(_,/\f/g,"")),h>0&&yt(_)-f&&bt(h>32?tn(_+";",r,n,f-1):tn(ht(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(bt(x=Zt(_,t,n,c,l,i,u,b,k=[],w=[],f),a),123===g)if(0===l)Jt(_,t,x,x,k,a,f,u,w);else switch(99===d&&110===vt(_,3)?100:d){case 100:case 108:case 109:case 115:Jt(e,x,x,r&&bt(Zt(e,x,x,0,0,i,u,b,i,k=[],f),w),i,w,f,u,r?k:w);break;default:Jt(_,x,x,x,[""],w,0,u,w)}}c=l=h=0,v=y=1,b=_="",f=o;break;case 58:f=1+yt(_),h=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==Ct())continue;switch(_+=lt(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(yt(_)-1)*y,y=1;break;case 64:45===Rt()&&(_+=Lt(At())),d=Rt(),l=f=yt(b=_+=jt(Nt())),g++;break;case 45:45===p&&2==yt(_)&&(v=0)}}return a}function Zt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,d=0===i?a:[""],h=gt(d),p=0,v=0,m=0;p<r;++p)for(var y=0,g=mt(e,f+1,f=ct(v=o[p])),b=e;y<h;++y)(b=dt(v>0?d[y]+" "+g:ht(g,/&\f/g,d[y])))&&(s[m++]=b);return It(e,t,n,0===i?Gt:u,s,c,l)}function en(e,t,n){return It(e,t,n,Kt,lt(St),mt(e,2,-2),0)}function tn(e,t,n,r){return It(e,t,n,Ht,mt(e,0,r),mt(e,r+1,-1),r)}var nn=function(e,t,n){for(var r=0,i=0;r=i,i=Rt(),38===r&&12===i&&(t[n]=1),!Ot(i);)At();return Pt(e,_t)},rn=function(e,t){return Mt(function(e,t){var n=-1,r=44;do{switch(Ot(r)){case 0:38===r&&12===Rt()&&(t[n]=1),e[n]+=nn(_t-1,t,n);break;case 2:e[n]+=Lt(r);break;case 4:if(44===r){e[++n]=58===Rt()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=lt(r)}}while(r=At());return e}(Dt(e),t))},an=new WeakMap,on=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||an.get(n))&&!r){an.set(e,!0);for(var i=[],a=rn(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},un=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function sn(e,t){switch(function(e,t){return 45^vt(e,0)?(((t<<2^vt(e,0))<<2^vt(e,1))<<2^vt(e,2))<<2^vt(e,3):0}(e,t)){case 5103:return Wt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Wt+e+qt+e+Bt+e+e;case 6828:case 4268:return Wt+e+Bt+e+e;case 6165:return Wt+e+Bt+"flex-"+e+e;case 5187:return Wt+e+ht(e,/(\w+).+(:[^]+)/,Wt+"box-$1$2"+Bt+"flex-$1$2")+e;case 5443:return Wt+e+Bt+"flex-item-"+ht(e,/flex-|-self/,"")+e;case 4675:return Wt+e+Bt+"flex-line-pack"+ht(e,/align-content|flex-|-self/,"")+e;case 5548:return Wt+e+Bt+ht(e,"shrink","negative")+e;case 5292:return Wt+e+Bt+ht(e,"basis","preferred-size")+e;case 6060:return Wt+"box-"+ht(e,"-grow","")+Wt+e+Bt+ht(e,"grow","positive")+e;case 4554:return Wt+ht(e,/([^-])(transform)/g,"$1"+Wt+"$2")+e;case 6187:return ht(ht(ht(e,/(zoom-|grab)/,Wt+"$1"),/(image-set)/,Wt+"$1"),e,"")+e;case 5495:case 3959:return ht(e,/(image-set\([^]*)/,Wt+"$1$`$1");case 4968:return ht(ht(e,/(.+:)(flex-)?(.*)/,Wt+"box-pack:$3"+Bt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wt+e+e;case 4095:case 3583:case 4068:case 2532:return ht(e,/(.+)-inline(.+)/,Wt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yt(e)-1-t>6)switch(vt(e,t+1)){case 109:if(45!==vt(e,t+4))break;case 102:return ht(e,/(.+:)(.+)-([^]+)/,"$1"+Wt+"$2-$3$1"+qt+(108==vt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~pt(e,"stretch")?sn(ht(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==vt(e,t+1))break;case 6444:switch(vt(e,yt(e)-3-(~pt(e,"!important")&&10))){case 107:return ht(e,":",":"+Wt)+e;case 101:return ht(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wt+(45===vt(e,14)?"inline-":"")+"box$3$1"+Wt+"$2$3$1"+Bt+"$2box$3")+e}break;case 5936:switch(vt(e,t+11)){case 114:return Wt+e+Bt+ht(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Wt+e+Bt+ht(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Wt+e+Bt+ht(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Wt+e+Bt+e+e}return e}var cn=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ht:e.return=sn(e.value,e.length);break;case Qt:return $t([Tt(e,{value:ht(e.value,"@","@"+Wt)})],r);case Gt:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $t([Tt(e,{props:[ht(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return $t([Tt(e,{props:[ht(t,/:(plac\w+)/,":"+Wt+"input-$1")]}),Tt(e,{props:[ht(t,/:(plac\w+)/,":-moz-$1")]}),Tt(e,{props:[ht(t,/:(plac\w+)/,Bt+"input-$1")]})],r)}return""}))}}],ln=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||cn;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[Yt,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=gt(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([on,un].concat(r,l));a=function(e,t,n,r){s=n,function(e){$t(Xt(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new st({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(u),d};var fn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dn=/[A-Z]|^ms/g,hn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pn=function(e){return 45===e.charCodeAt(1)},vn=function(e){return null!=e&&"boolean"!==typeof e},mn=at((function(e){return pn(e)?e:e.replace(dn,"-$&").toLowerCase()})),yn=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(hn,(function(e,t,n){return bn={name:t,styles:n,next:bn},t}))}return 1===fn[e]||pn(e)||"number"!==typeof t||0===t?t:t+"px"};function gn(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return bn={name:n.name,styles:n.styles,next:bn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)bn={name:r.name,styles:r.styles,next:bn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=gn(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":vn(o)&&(r+=mn(a)+":"+yn(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=gn(e,t,o);switch(a){case"animation":case"animationName":r+=mn(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)vn(o[s])&&(r+=mn(a)+":"+yn(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=bn,a=n(e);return bn=i,gn(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var bn,kn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var wn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";bn=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=gn(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=gn(n,t,e[o]),r&&(i+=a[o]);kn.lastIndex=0;for(var u,s="";null!==(u=kn.exec(i));)s+="-"+u[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+s;return{name:c,styles:i,next:bn}},xn=!!a.useInsertionEffect&&a.useInsertionEffect,_n=xn||function(e){return e()},Sn=xn||i.useLayoutEffect,En=i.createContext("undefined"!==typeof HTMLElement?ln({key:"css"}):null);En.Provider;var In=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(En);return e(t,r,n)}))};var Tn=i.createContext({});var Cn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},An=function(e,t,n){Cn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},Rn=ut,Nn=function(e){return"theme"!==e},Pn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Rn:Nn},On=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Dn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Cn(t,n,r),_n((function(){return An(t,n,r)})),null},Mn=function e(t,n){var r,a,o=t.__emotion_real===t,u=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var s=On(t,n,o),c=s||Pn(u),l=!c("as");return function(){var f=arguments,d=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==f[0]||void 0===f[0].raw)d.push.apply(d,f);else{0,d.push(f[0][0]);for(var h=f.length,p=1;p<h;p++)d.push(f[p],f[0][p])}var v=In((function(e,t,n){var r=l&&e.as||u,o="",f=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=i.useContext(Tn)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=wn(d.concat(f),t.registered,h);o+=t.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?Pn(r):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=n,i.createElement(i.Fragment,null,i.createElement(Dn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),i.createElement(r,y))}));return v.displayName=void 0!==r?r:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=u,v.__emotion_styles=d,v.__emotion_forwardProp=s,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,r){return e(t,tt({},n,r,{shouldForwardProp:On(v,r,!0)})).apply(void 0,d)},v}}.bind();function Ln(e,t){return Mn(e,t)}function Fn(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?tt({},e):e;return Fn(e)&&Fn(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Fn(t[i])&&i in e&&Fn(e[i])?r[i]=zn(e[i],t[i],n):r[i]=t[i])})),r}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Mn[e]=Mn(e)}));var Vn=["values","unit","step"];var Un={borderRadius:4},jn={xs:0,sm:600,md:900,lg:1200,xl:1536},Bn={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(jn[e],"px)")}};function qn(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||Bn;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||Bn;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||jn).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function Wn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function Kn(e,t){return e.reduce((function(e,t){var n=e[t];return 0===Object.keys(n).length&&delete e[t],e}),t)}function Gn(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hn(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}function Qn(e){if("string"!==typeof e)throw new Error(Hn(7));return e.charAt(0).toUpperCase()+e.slice(1)}function $n(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function Yn(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:$n(e,n)||i,t&&(r=t(r)),r}var Xn=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=$n(e.theme,i)||{};return qn(e,n,(function(e){var n=Yn(o,a,e);return e===n&&"string"===typeof e&&(n=Yn(o,a,"".concat(t).concat("default"===e?"":Qn(e)),e)),!1===r?n:Gn({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var Jn=function(e,t){return t?zn(e,t,{clone:!1}):e};var Zn={m:"margin",p:"padding"},er={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},tr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},nr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!tr[e])return[e];e=tr[e]}var t=f(e.split(""),2),n=t[0],r=t[1],i=Zn[n],a=er[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),rr=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY"],ir=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"],ar=[].concat(rr,ir);function or(e,t,n,r){var i=$n(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function ur(e){return or(e,"spacing",8)}function sr(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function cr(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=sr(t,n),e}),{})}}(nr(n),r);return qn(e,e[n],i)}function lr(e,t){var n=ur(e.theme);return Object.keys(e).map((function(r){return cr(e,t,r,n)})).reduce(Jn,{})}function fr(e){return lr(e,rr)}function dr(e){return lr(e,ir)}function hr(e){return lr(e,ar)}fr.propTypes={},fr.filterProps=rr,dr.propTypes={},dr.filterProps=ir,hr.propTypes={},hr.filterProps=ar;var pr=hr;var vr=["breakpoints","palette","spacing","shape"];var mr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=et(e,vr),c=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=et(e,Vn),s=Object.keys(n);function c(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function l(e,t){var r=s.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[s[r]]?n[s[r]]:t)-o/100).concat(i,")")}return tt({keys:s,values:n,up:c,down:function(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")},between:l,only:function(e){return s.indexOf(e)+1<s.length?l(e,s[s.indexOf(e)+1]):c(e)},unit:i},u)}(n),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=ur({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),f=zn({breakpoints:c,direction:"ltr",components:{},palette:tt({mode:"light"},i),spacing:l,shape:tt({},Un,u)},s),d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];return f=h.reduce((function(e,t){return zn(e,t)}),f)};var yr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?Jn(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function gr(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var br=Xn({prop:"border",themeKey:"borders",transform:gr}),kr=Xn({prop:"borderTop",themeKey:"borders",transform:gr}),wr=Xn({prop:"borderRight",themeKey:"borders",transform:gr}),xr=Xn({prop:"borderBottom",themeKey:"borders",transform:gr}),_r=Xn({prop:"borderLeft",themeKey:"borders",transform:gr}),Sr=Xn({prop:"borderColor",themeKey:"palette"}),Er=Xn({prop:"borderTopColor",themeKey:"palette"}),Ir=Xn({prop:"borderRightColor",themeKey:"palette"}),Tr=Xn({prop:"borderBottomColor",themeKey:"palette"}),Cr=Xn({prop:"borderLeftColor",themeKey:"palette"}),Ar=function(e){if(e.borderRadius){var t=or(e.theme,"shape.borderRadius",4);return qn(e,e.borderRadius,(function(e){return{borderRadius:sr(t,e)}}))}return null};Ar.propTypes={},Ar.filterProps=["borderRadius"];var Rr=yr(br,kr,wr,xr,_r,Sr,Er,Ir,Tr,Cr,Ar),Nr=yr(Xn({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Xn({prop:"display"}),Xn({prop:"overflow"}),Xn({prop:"textOverflow"}),Xn({prop:"visibility"}),Xn({prop:"whiteSpace"})),Pr=yr(Xn({prop:"flexBasis"}),Xn({prop:"flexDirection"}),Xn({prop:"flexWrap"}),Xn({prop:"justifyContent"}),Xn({prop:"alignItems"}),Xn({prop:"alignContent"}),Xn({prop:"order"}),Xn({prop:"flex"}),Xn({prop:"flexGrow"}),Xn({prop:"flexShrink"}),Xn({prop:"alignSelf"}),Xn({prop:"justifyItems"}),Xn({prop:"justifySelf"})),Or=function(e){if(e.gap){var t=or(e.theme,"spacing",8);return qn(e,e.gap,(function(e){return{gap:sr(t,e)}}))}return null};Or.propTypes={},Or.filterProps=["gap"];var Dr=function(e){if(e.columnGap){var t=or(e.theme,"spacing",8);return qn(e,e.columnGap,(function(e){return{columnGap:sr(t,e)}}))}return null};Dr.propTypes={},Dr.filterProps=["columnGap"];var Mr=function(e){if(e.rowGap){var t=or(e.theme,"spacing",8);return qn(e,e.rowGap,(function(e){return{rowGap:sr(t,e)}}))}return null};Mr.propTypes={},Mr.filterProps=["rowGap"];var Lr=yr(Or,Dr,Mr,Xn({prop:"gridColumn"}),Xn({prop:"gridRow"}),Xn({prop:"gridAutoFlow"}),Xn({prop:"gridAutoColumns"}),Xn({prop:"gridAutoRows"}),Xn({prop:"gridTemplateColumns"}),Xn({prop:"gridTemplateRows"}),Xn({prop:"gridTemplateAreas"}),Xn({prop:"gridArea"})),Fr=yr(Xn({prop:"position"}),Xn({prop:"zIndex",themeKey:"zIndex"}),Xn({prop:"top"}),Xn({prop:"right"}),Xn({prop:"bottom"}),Xn({prop:"left"})),zr=yr(Xn({prop:"color",themeKey:"palette"}),Xn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),Xn({prop:"backgroundColor",themeKey:"palette"})),Vr=Xn({prop:"boxShadow",themeKey:"shadows"});function Ur(e){return e<=1?"".concat(100*e,"%"):e}var jr=Xn({prop:"width",transform:Ur}),Br=function(e){if(e.maxWidth){return qn(e,e.maxWidth,(function(t){return{maxWidth:e.theme.breakpoints.values[t]||Ur(t)}}))}return null};Br.filterProps=["maxWidth"];var qr=Xn({prop:"minWidth",transform:Ur}),Wr=Xn({prop:"height",transform:Ur}),Kr=Xn({prop:"maxHeight",transform:Ur}),Gr=Xn({prop:"minHeight",transform:Ur}),Hr=(Xn({prop:"size",cssProperty:"width",transform:Ur}),Xn({prop:"size",cssProperty:"height",transform:Ur}),yr(jr,Br,qr,Wr,Kr,Gr,Xn({prop:"boxSizing"}))),Qr=Xn({prop:"fontFamily",themeKey:"typography"}),$r=Xn({prop:"fontSize",themeKey:"typography"}),Yr=Xn({prop:"fontStyle",themeKey:"typography"}),Xr=Xn({prop:"fontWeight",themeKey:"typography"}),Jr=Xn({prop:"letterSpacing"}),Zr=Xn({prop:"lineHeight"}),ei=Xn({prop:"textAlign"}),ti=yr(Xn({prop:"typography",cssProperty:!1,themeKey:"typography"}),Qr,$r,Yr,Xr,Jr,Zr,ei),ni={borders:Rr.filterProps,display:Nr.filterProps,flexbox:Pr.filterProps,grid:Lr.filterProps,positions:Fr.filterProps,palette:zr.filterProps,shadows:Vr.filterProps,sizing:Hr.filterProps,spacing:pr.filterProps,typography:ti.filterProps},ri={borders:Rr,display:Nr,flexbox:Pr,grid:Lr,positions:Fr,palette:zr,shadows:Vr,sizing:Hr,spacing:pr,typography:ti},ii=Object.keys(ni).reduce((function(e,t){return ni[t].forEach((function(n){e[n]=ri[t]})),e}),{});var ai=function(e,t,n){var r,i=(Gn(r={},e,t),Gn(r,"theme",n),r),a=ii[e];return a?a(i):Gn({},e,t)};function oi(e){var t=e||{},n=t.sx,r=t.theme,i=void 0===r?{}:r;if(!n)return null;if("function"===typeof n)return n(i);if("object"!==typeof n)return n;var a=Wn(i.breakpoints),o=Object.keys(a),u=a;return Object.keys(n).forEach((function(e){var t,r,a=(t=n[e],r=i,"function"===typeof t?t(r):t);if("object"===typeof a)if(ii[e])u=Jn(u,ai(e,a,i));else{var o=qn({theme:i},a,(function(t){return Gn({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(o,a)?u=Jn(u,o):u[e]=oi({sx:a,theme:i})}else u=Jn(u,ai(e,a,i))})),Kn(o,u)}oi.filterProps=["sx"];var ui=oi,si=["variant"];function ci(e){return 0===e.length}function li(e){var t=e.variant,n=et(e,si),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?ci(r)?e[t]:Qn(e[t]):"".concat(ci(r)?t:Qn(t)).concat(Qn(e[t].toString()))})),r}var fi=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],di=["theme"],hi=["theme"];function pi(e){return 0===Object.keys(e).length}function vi(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var mi=mr();function yi(e,t,n){var r;return tt({toolbar:(r={minHeight:56},Gn(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Gn(r,e.up("sm"),{minHeight:64}),r)},n)}function gi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function bi(e){if(e.type)return e;if("#"===e.charAt(0))return bi(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Hn(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Hn(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function ki(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function wi(e){var t="hsl"===(e=bi(e)).type?bi(function(e){var t=(e=bi(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),ki({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function xi(e,t){return e=bi(e),t=gi(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,ki(e)}function _i(e,t){if(e=bi(e),t=gi(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return ki(e)}function Si(e,t){if(e=bi(e),t=gi(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return ki(e)}var Ei={black:"#000",white:"#fff"},Ii={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ti={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ci={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ai={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ri={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ni={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Pi={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Oi=["mode","contrastThreshold","tonalOffset"],Di={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ei.white,default:Ei.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Mi={text:{primary:Ei.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ei.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Li(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Si(e.main,i):"dark"===t&&(e.dark=_i(e.main,a)))}function Fi(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=et(e,Oi),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ri[200],light:Ri[50],dark:Ri[400]}:{main:Ri[700],light:Ri[400],dark:Ri[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ti[200],light:Ti[50],dark:Ti[400]}:{main:Ti[500],light:Ti[300],dark:Ti[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ci[500],light:Ci[300],dark:Ci[700]}:{main:Ci[700],light:Ci[400],dark:Ci[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ni[400],light:Ni[300],dark:Ni[700]}:{main:Ni[700],light:Ni[500],dark:Ni[900]}}(n),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Pi[400],light:Pi[300],dark:Pi[700]}:{main:Pi[800],light:Pi[500],dark:Pi[900]}}(n),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ai[400],light:Ai[300],dark:Ai[700]}:{main:"#ED6C02",light:Ai[500],dark:Ai[900]}}(n);function p(e){var t=function(e,t){var n=wi(e),r=wi(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Mi.text.primary)>=i?Mi.text.primary:Di.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=tt({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Hn(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Hn(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Li(t,"light",u,o),Li(t,"dark",c,o),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:Mi,light:Di};return zn(tt({common:Ei,mode:n,primary:v({color:s,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:Ii,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:o},m[n]),u)}var zi=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Vi={textTransform:"uppercase"},Ui='"Roboto", "Helvetica", "Arial", sans-serif';function ji(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Ui:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,d=void 0===f?500:f,h=n.fontWeightBold,p=void 0===h?700:h,v=n.htmlFontSize,m=void 0===v?16:v,y=n.allVariants,g=n.pxToRem,b=et(n,zi);var k=o/14,w=g||function(e){return"".concat(e/m*k,"rem")},x=function(e,t,n,r,a){return tt({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===Ui?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,y);var o},_={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(d,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(d,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(d,14,1.75,.4,Vi),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,Vi)};return zn(tt({htmlFontSize:m,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:d,fontWeightBold:p},_),b,{clone:!1})}function Bi(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var qi=["none",Bi(0,2,1,-1,0,1,1,0,0,1,3,0),Bi(0,3,1,-2,0,2,2,0,0,1,5,0),Bi(0,3,3,-2,0,3,4,0,0,1,8,0),Bi(0,2,4,-1,0,4,5,0,0,1,10,0),Bi(0,3,5,-1,0,5,8,0,0,1,14,0),Bi(0,3,5,-1,0,6,10,0,0,1,18,0),Bi(0,4,5,-2,0,7,10,1,0,2,16,1),Bi(0,5,5,-3,0,8,10,1,0,3,14,2),Bi(0,5,6,-3,0,9,12,1,0,3,16,2),Bi(0,6,6,-3,0,10,14,1,0,4,18,3),Bi(0,6,7,-4,0,11,15,1,0,4,20,3),Bi(0,7,8,-4,0,12,17,2,0,5,22,4),Bi(0,7,8,-4,0,13,19,2,0,5,24,4),Bi(0,7,9,-4,0,14,21,2,0,5,26,4),Bi(0,8,9,-5,0,15,22,2,0,6,28,5),Bi(0,8,10,-5,0,16,24,2,0,6,30,5),Bi(0,8,11,-5,0,17,26,2,0,6,32,5),Bi(0,9,11,-5,0,18,28,2,0,7,34,6),Bi(0,9,12,-6,0,19,29,2,0,7,36,6),Bi(0,10,13,-6,0,20,31,3,0,8,38,7),Bi(0,10,13,-6,0,21,33,3,0,8,40,7),Bi(0,10,14,-6,0,22,35,3,0,8,42,7),Bi(0,11,14,-7,0,23,36,3,0,9,44,8),Bi(0,11,15,-7,0,24,38,3,0,9,46,8)],Wi=["duration","easing","delay"],Ki={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Gi={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Hi(e){return"".concat(Math.round(e),"ms")}function Qi(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function $i(e){var t=tt({},Ki,e.easing),n=tt({},Gi,e.duration);return tt({getAutoHeightDuration:Qi,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;et(r,Wi);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Hi(a)," ").concat(u," ").concat("string"===typeof c?c:Hi(c))})).join(",")}},e,{easing:t,duration:n})}var Yi={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Xi=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=et(e,Xi),l=Fi(i),f=mr(e),d=zn(f,{mixins:yi(f.breakpoints,f.spacing,n),palette:l,shadows:qi.slice(),typography:ji(l,s),transitions:$i(o),zIndex:tt({},Yi)});d=zn(d,c);for(var h=arguments.length,p=new Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];return d=p.reduce((function(e,t){return zn(e,t)}),d)}var Zi=Ji,ea=Zi(),ta=function(e){return vi(e)&&"classes"!==e},na=vi,ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?mi:t,r=e.rootShouldForwardProp,i=void 0===r?vi:r,a=e.slotShouldForwardProp,o=void 0===a?vi:a;return function(e){var t,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=a.name,s=a.slot,c=a.skipVariantsResolver,l=a.skipSx,f=a.overridesResolver,d=et(a,fi),p=void 0!==c?c:s&&"Root"!==s||!1,v=l||!1;u&&(t="".concat(u,"-").concat((r=s||"Root").charAt(0).toLowerCase()+r.slice(1)));var m=vi;"Root"===s?m=i:s&&(m=o);var y=Ln(e,tt({shouldForwardProp:m,label:t||u||""},d));return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=r?r.map((function(e){return"function"===typeof e?function(t){var r=t.theme,i=et(t,di);return e(tt({theme:pi(r)?n:r},i))}:e})):[],o=e;u&&f&&a.push((function(e){var t=pi(e.theme)?n:e.theme,r=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(u,t);return r?f(e,r):null})),u&&!p&&a.push((function(e){var t=pi(e.theme)?n:e.theme;return function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[li(n.props)])})),s}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=li(e.props);r[t]=e.style})),r}(u,t),t,u)})),v||a.push((function(e){var t=pi(e.theme)?n:e.theme;return ui(tt({},e,{theme:t}))}));var s=a.length-r.length;if(Array.isArray(e)&&s>0){var c=new Array(s).fill("");(o=[].concat(h(e),h(c))).raw=[].concat(h(e.raw),h(c))}else"function"===typeof e&&(o=function(t){var r=t.theme,i=et(t,hi);return e(tt({theme:pi(r)?n:r},i))});return y.apply(void 0,[o].concat(h(a)))}}}({defaultTheme:ea,rootShouldForwardProp:ta}),ia=ra;var aa=i.createContext(null);var oa=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=i.useContext(aa);return n&&(e=n,0!==Object.keys(e).length)?n:t},ua=mr();var sa=function(){return oa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua)};function ca(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.components||!t.components[n]||!t.components[n].defaultProps)return r;var i,a=tt({},r),o=t.components[n].defaultProps;for(i in o)void 0===a[i]&&(a[i]=o[i]);return a}({theme:sa(r),name:n,props:t});return i}function la(e){return ca({props:e.props,name:e.name,defaultTheme:ea})}var fa=Qn,da={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function ha(e,t){return da[t]||"".concat(e,"-").concat(t)}function pa(e,t){var n={};return t.forEach((function(t){n[t]=ha(e,t)})),n}function va(e){return ha("MuiPaper",e)}pa("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var ma=n(184),ya=["className","component","elevation","square","variant"],ga=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},ba=ia("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return tt({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&tt({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(xi("#fff",ga(n.elevation)),", ").concat(xi("#fff",ga(n.elevation)),")")}))})),ka=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,u=void 0===o?1:o,s=n.square,c=void 0!==s&&s,l=n.variant,f=void 0===l?"elevation":l,d=et(n,ya),h=tt({},n,{component:a,elevation:u,square:c,variant:f}),p=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return it({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},va,i)}(h);return(0,ma.jsx)(ba,tt({as:a,ownerState:h,className:rt(p.root,r),ref:t},d))})),wa=ka;function xa(e){return ha("MuiAppBar",e)}pa("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var _a=["className","color","enableColorOnDark","position"],Sa=ia(wa,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat(fa(n.position))],t["color".concat(fa(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return tt({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&tt({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"}))})),Ea=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiAppBar"}),r=n.className,i=n.color,a=void 0===i?"primary":i,o=n.enableColorOnDark,u=void 0!==o&&o,s=n.position,c=void 0===s?"fixed":s,l=et(n,_a),f=tt({},n,{color:a,position:c,enableColorOnDark:u}),d=function(e){var t=e.color,n=e.position,r=e.classes;return it({root:["root","color".concat(fa(t)),"position".concat(fa(n))]},xa,r)}(f);return(0,ma.jsx)(Sa,tt({square:!0,component:"header",ownerState:f,elevation:4,className:rt(d.root,r,"fixed"===c&&"mui-fixed"),ref:t},l))})),Ia=Ea;function Ta(e){return ha("MuiToolbar",e)}pa("MuiToolbar",["root","gutters","regular","dense"]);var Ca=["className","component","disableGutters","variant"],Aa=ia("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return tt({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&Gn({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),Ra=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiToolbar"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.disableGutters,u=void 0!==o&&o,s=n.variant,c=void 0===s?"regular":s,l=et(n,Ca),f=tt({},n,{component:a,disableGutters:u,variant:c}),d=function(e){var t=e.classes;return it({root:["root",!e.disableGutters&&"gutters",e.variant]},Ta,t)}(f);return(0,ma.jsx)(Aa,tt({as:a,className:rt(d.root,r),ref:t,ownerState:f},l))})),Na=Ra,Pa=["sx"],Oa=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){ii[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t};function Da(e){var t=e.sx,n=et(e,Pa),r=Oa(n),i=r.systemProps;return tt({},r.otherProps,{sx:tt({},i,t)})}function Ma(e){return ha("MuiTypography",e)}pa("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var La=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Fa=ia("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(fa(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return tt({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),za={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Va={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Ua=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiTypography"}),r=function(e){return Va[e]||e}(n.color),i=Da(tt({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,u=i.className,s=i.component,c=i.gutterBottom,l=void 0!==c&&c,f=i.noWrap,d=void 0!==f&&f,h=i.paragraph,p=void 0!==h&&h,v=i.variant,m=void 0===v?"body1":v,y=i.variantMapping,g=void 0===y?za:y,b=et(i,La),k=tt({},i,{align:o,color:r,className:u,component:s,gutterBottom:l,noWrap:d,paragraph:p,variant:m,variantMapping:g}),w=s||(p?"p":g[m]||za[m])||"span",x=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return it({root:["root",a,"inherit"!==e.align&&"align".concat(fa(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},Ma,o)}(k);return(0,ma.jsx)(Fa,tt({as:w,ref:t,ownerState:k,className:rt(x.root,u)},b))})),ja=Ua;function Ba(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function qa(e,t){return i.useMemo((function(){return null==e&&null==t?null:function(n){Ba(e,n),Ba(t,n)}}),[e,t])}var Wa=qa,Ka="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;function Ga(e){var t=i.useRef(e);return Ka((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}var Ha=Ga,Qa=!0,$a=!1,Ya=null,Xa={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Ja(e){e.metaKey||e.altKey||e.ctrlKey||(Qa=!0)}function Za(){Qa=!1}function eo(){"hidden"===this.visibilityState&&$a&&(Qa=!0)}function to(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Qa||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Xa[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var no=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Ja,!0),t.addEventListener("mousedown",Za,!0),t.addEventListener("pointerdown",Za,!0),t.addEventListener("touchstart",Za,!0),t.addEventListener("visibilitychange",eo,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!to(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&($a=!0,window.clearTimeout(Ya),Ya=window.setTimeout((function(){$a=!1}),100),t.current=!1,!0)},ref:e}};function ro(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function io(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b(e,t)}var ao=i.createContext(null);function oo(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function uo(e,t,n){return null!=n[t]?n[t]:e.props[t]}function so(e,t,n){var r=oo(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(a).forEach((function(o){var u=a[o];if((0,i.isValidElement)(u)){var s=o in t,c=o in r,l=t[o],f=(0,i.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,i.isValidElement)(l)&&(a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:uo(u,"exit",e),enter:uo(u,"enter",e)})):a[o]=(0,i.cloneElement)(u,{in:!1}):a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:uo(u,"exit",e),enter:uo(u,"enter",e)})}})),a}var co=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},lo=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(_(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}io(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,oo(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:uo(e,"appear",n),enter:uo(e,"enter",n),exit:uo(e,"exit",n)})}))):so(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=oo(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=tt({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=et(e,["component","childFactory"]),a=this.state.contextValue,o=co(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(ao.Provider,{value:a},o):i.createElement(ao.Provider,{value:a},i.createElement(t,r,o))},t}(i.Component);lo.propTypes={},lo.defaultProps={component:"div",childFactory:function(e){return e}};var fo=lo,ho=(n(110),In((function(e,t){var n=e.styles,r=wn([n],void 0,i.useContext(Tn)),a=i.useRef();return Sn((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,o=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(i=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),a.current=[n,i],function(){n.flush()}}),[t]),Sn((function(){var e=a.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&An(t,r.next,!0),n.tags.length){var i=n.tags[n.tags.length-1].nextElementSibling;n.before=i,n.flush()}t.insert("",r,n,!1)}}),[t,r.name]),null})));function po(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wn(t)}var vo=function(){var e=po.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var mo=function(e){var t=e.className,n=e.classes,r=e.pulsate,a=void 0!==r&&r,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,d=e.timeout,h=f(i.useState(!1),2),p=h[0],v=h[1],m=rt(t,n.ripple,n.rippleVisible,a&&n.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},g=rt(n.child,p&&n.childLeaving,a&&n.childPulsate);return c||p||v(!0),i.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,d);return function(){clearTimeout(e)}}}),[l,c,d]),(0,ma.jsx)("span",{className:m,style:y,children:(0,ma.jsx)("span",{className:g})})};var yo,go,bo,ko,wo,xo,_o,So,Eo=pa("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Io=["center","classes","className"],To=vo(wo||(wo=yo||(yo=ro(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Co=vo(xo||(xo=go||(go=ro(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Ao=vo(_o||(_o=bo||(bo=ro(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Ro=ia("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),No=ia(mo,{name:"MuiTouchRipple",slot:"Ripple"})(So||(So=ko||(ko=ro(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Eo.rippleVisible,To,550,(function(e){return e.theme.transitions.easing.easeInOut}),Eo.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Eo.child,Eo.childLeaving,Co,550,(function(e){return e.theme.transitions.easing.easeInOut}),Eo.childPulsate,Ao,(function(e){return e.theme.transitions.easing.easeInOut})),Po=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiTouchRipple"}),r=n.center,a=void 0!==r&&r,o=n.classes,u=void 0===o?{}:o,s=n.className,c=et(n,Io),l=f(i.useState([]),2),d=l[0],p=l[1],v=i.useRef(0),m=i.useRef(null);i.useEffect((function(){m.current&&(m.current(),m.current=null)}),[d]);var y=i.useRef(!1),g=i.useRef(null),b=i.useRef(null),k=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var w=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;p((function(e){return[].concat(h(e),[(0,ma.jsx)(No,{classes:{ripple:rt(u.ripple,Eo.ripple),rippleVisible:rt(u.rippleVisible,Eo.rippleVisible),ripplePulsate:rt(u.ripplePulsate,Eo.ripplePulsate),child:rt(u.child,Eo.child),childLeaving:rt(u.childLeaving,Eo.childLeaving),childPulsate:rt(u.childPulsate,Eo.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},v.current)])})),v.current+=1,m.current=a}),[u]),x=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&y.current)y.current=!1;else{"touchstart"===e.type&&(y.current=!0);var l,f,d,h=c?null:k.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,x=v.clientY;l=Math.round(m-p.left),f=Math.round(x-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var _=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(_,2)+Math.pow(S,2))}e.touches?null===b.current&&(b.current=function(){w({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},g.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,w]),_=i.useCallback((function(){x({},{pulsate:!0})}),[x]),S=i.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===e.type&&b.current)return b.current(),b.current=null,void(g.current=setTimeout((function(){S(e,t)})));b.current=null,p((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:_,start:x,stop:S}}),[_,x,S]),(0,ma.jsx)(Ro,tt({className:rt(u.root,Eo.root,s),ref:k},c,{children:(0,ma.jsx)(fo,{component:null,exit:!0,children:d})}))})),Oo=Po;function Do(e){return ha("MuiButtonBase",e)}var Mo,Lo=pa("MuiButtonBase",["root","disabled","focusVisible"]),Fo=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],zo=ia("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Gn(Mo={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(Lo.disabled),{pointerEvents:"none",cursor:"default"}),Gn(Mo,"@media print",{colorAdjust:"exact"}),Mo)),Vo=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiButtonBase"}),r=n.action,a=n.centerRipple,o=void 0!==a&&a,u=n.children,s=n.className,c=n.component,l=void 0===c?"button":c,d=n.disabled,h=void 0!==d&&d,p=n.disableRipple,v=void 0!==p&&p,m=n.disableTouchRipple,y=void 0!==m&&m,g=n.focusRipple,b=void 0!==g&&g,k=n.LinkComponent,w=void 0===k?"a":k,x=n.onBlur,_=n.onClick,S=n.onContextMenu,E=n.onDragLeave,I=n.onFocus,T=n.onFocusVisible,C=n.onKeyDown,A=n.onKeyUp,R=n.onMouseDown,N=n.onMouseLeave,P=n.onMouseUp,O=n.onTouchEnd,D=n.onTouchMove,M=n.onTouchStart,L=n.tabIndex,F=void 0===L?0:L,z=n.TouchRippleProps,V=n.type,U=et(n,Fo),j=i.useRef(null),B=i.useRef(null),q=no(),W=q.isFocusVisibleRef,K=q.onFocus,G=q.onBlur,H=q.ref,Q=f(i.useState(!1),2),$=Q[0],Y=Q[1];function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return Ha((function(r){return t&&t(r),!n&&B.current&&B.current[e](r),!0}))}h&&$&&Y(!1),i.useEffect((function(){W.current=$}),[$,W]),i.useImperativeHandle(r,(function(){return{focusVisible:function(){Y(!0),j.current.focus()}}}),[]),i.useEffect((function(){$&&b&&!v&&B.current.pulsate()}),[v,b,$]);var J=X("start",R),Z=X("stop",S),ee=X("stop",E),te=X("stop",P),ne=X("stop",(function(e){$&&e.preventDefault(),N&&N(e)})),re=X("start",M),ie=X("stop",O),ae=X("stop",D),oe=X("stop",(function(e){G(e),!1===W.current&&Y(!1),x&&x(e)}),!1),ue=Ha((function(e){j.current||(j.current=e.currentTarget),K(e),!0===W.current&&(Y(!0),T&&T(e)),I&&I(e)})),se=function(){var e=j.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ce=i.useRef(!1),le=Ha((function(e){b&&!ce.current&&$&&B.current&&" "===e.key&&(ce.current=!0,B.current.stop(e,(function(){B.current.start(e)}))),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!h&&(e.preventDefault(),_&&_(e))})),fe=Ha((function(e){b&&" "===e.key&&B.current&&$&&!e.defaultPrevented&&(ce.current=!1,B.current.stop(e,(function(){B.current.pulsate(e)}))),A&&A(e),_&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&_(e)})),de=l;"button"===de&&(U.href||U.to)&&(de=w);var he={};"button"===de?(he.type=void 0===V?"button":V,he.disabled=h):(U.href||U.to||(he.role="button"),h&&(he["aria-disabled"]=h));var pe=Wa(H,j),ve=Wa(t,pe),me=f(i.useState(!1),2),ye=me[0],ge=me[1];i.useEffect((function(){ge(!0)}),[]);var be=ye&&!v&&!h;var ke=tt({},n,{centerRipple:o,component:l,disabled:h,disableRipple:v,disableTouchRipple:y,focusRipple:b,tabIndex:F,focusVisible:$}),we=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=it({root:["root",t&&"disabled",n&&"focusVisible"]},Do,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(ke);return(0,ma.jsxs)(zo,tt({as:de,className:rt(we.root,s),ownerState:ke,onBlur:oe,onClick:_,onContextMenu:Z,onFocus:ue,onKeyDown:le,onKeyUp:fe,onMouseDown:J,onMouseLeave:ne,onMouseUp:te,onDragLeave:ee,onTouchEnd:ie,onTouchMove:ae,onTouchStart:re,ref:ve,tabIndex:h?-1:F,type:V},he,U,{children:[u,be?(0,ma.jsx)(Oo,tt({ref:B,center:o},z)):null]}))})),Uo=Vo;function jo(e){return ha("MuiButton",e)}var Bo=pa("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),qo=["children","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Wo=function(e){return tt({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Ko=ia(Uo,{shouldForwardProp:function(e){return ta(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(fa(n.color))],t["size".concat(fa(n.size))],t["".concat(n.variant,"Size").concat(fa(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,r=e.ownerState;return tt({},n.typography.button,(Gn(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":tt({textDecoration:"none",backgroundColor:xi(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===r.variant&&"inherit"!==r.color&&{backgroundColor:xi(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===r.variant&&"inherit"!==r.color&&{border:"1px solid ".concat(n.palette[r.color].main),backgroundColor:xi(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===r.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===r.variant&&"inherit"!==r.color&&{backgroundColor:n.palette[r.color].dark,"@media (hover: none)":{backgroundColor:n.palette[r.color].main}}),"&:active":tt({},"contained"===r.variant&&{boxShadow:n.shadows[8]})},"&.".concat(Bo.focusVisible),tt({},"contained"===r.variant&&{boxShadow:n.shadows[6]})),Gn(t,"&.".concat(Bo.disabled),tt({color:n.palette.action.disabled},"outlined"===r.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===r.variant&&"secondary"===r.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===r.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===r.variant&&{padding:"6px 8px"},"text"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main},"outlined"===r.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main,border:"1px solid ".concat(xi(n.palette[r.color].main,.5))},"contained"===r.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].contrastText,backgroundColor:n.palette[r.color].main},"inherit"===r.color&&{color:"inherit",borderColor:"currentColor"},"small"===r.size&&"text"===r.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"text"===r.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"outlined"===r.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"outlined"===r.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"contained"===r.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"contained"===r.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(Gn(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(Bo.focusVisible),{boxShadow:"none"}),Gn(t,"&:active",{boxShadow:"none"}),Gn(t,"&.".concat(Bo.disabled),{boxShadow:"none"}),t)})),Go=ia("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(fa(n.size))]]}})((function(e){var t=e.ownerState;return tt({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Wo(t))})),Ho=ia("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(fa(n.size))]]}})((function(e){var t=e.ownerState;return tt({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Wo(t))})),Qo=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiButton"}),r=n.children,i=n.color,a=void 0===i?"primary":i,o=n.component,u=void 0===o?"button":o,s=n.disabled,c=void 0!==s&&s,l=n.disableElevation,f=void 0!==l&&l,d=n.disableFocusRipple,h=void 0!==d&&d,p=n.endIcon,v=n.focusVisibleClassName,m=n.fullWidth,y=void 0!==m&&m,g=n.size,b=void 0===g?"medium":g,k=n.startIcon,w=n.type,x=n.variant,_=void 0===x?"text":x,S=et(n,qo),E=tt({},n,{color:a,component:u,disabled:c,disableElevation:f,disableFocusRipple:h,fullWidth:y,size:b,type:w,variant:_}),I=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return tt({},o,it({root:["root",a,"".concat(a).concat(fa(t)),"size".concat(fa(i)),"".concat(a,"Size").concat(fa(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(fa(i))],endIcon:["endIcon","iconSize".concat(fa(i))]},jo,o))}(E),T=k&&(0,ma.jsx)(Go,{className:I.startIcon,ownerState:E,children:k}),C=p&&(0,ma.jsx)(Ho,{className:I.endIcon,ownerState:E,children:p});return(0,ma.jsxs)(Ko,tt({ownerState:E,component:u,disabled:c,focusRipple:!h,focusVisibleClassName:rt(I.focusVisible,v),ref:t,type:w},S,{classes:I,children:[T,r,C]}))})),$o=Qo,Yo="/login",Xo="/chat";function Jo(){return Jo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Jo.apply(this,arguments)}function Zo(){Zo=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new I(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function d(){}function h(){}function p(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=p.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==v(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e||""===e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError(v(e)+" is not iterable")}return h.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function eu(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function tu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){eu(a,r,i,o,u,"next",e)}function u(e){eu(a,r,i,o,u,"throw",e)}o(void 0)}))}}var nu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ru={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new iu;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},iu=function(e){k(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(I(Error)),au=function(e){return function(e){var t=nu(e);return ru.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ou=function(e){try{return ru.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function uu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=uu(e[n],t[n]));return e}var su=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},cu=function(){try{return su()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/realtime_chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ou(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},lu=function(){var e;return null===(e=cu())||void 0===e?void 0:e.config},fu=function(){function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function du(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function hu(){var e,t=null===(e=cu())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function pu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function vu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function mu(){var e=du();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function yu(){try{return"object"===typeof indexedDB}catch(e){return!1}}var gu=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_(a),bu.prototype.create),a}return g(n)}(I(Error)),bu=function(){function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ku,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new gu(n,a,t)}}]),e}();var ku=/\{\$([^}]+)}/g;function wu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _u(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Su(u)&&Su(s)){if(!_u(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Su(e){return null!==e&&"object"===typeof e}function Eu(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Iu(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Tu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Cu(e,t){var n=new Au(e,t);return n.subscribe.bind(n)}var Au=function(){function e(t,n){var r=this;p(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ru),void 0===r.error&&(r.error=Ru),void 0===r.complete&&(r.complete=Ru);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ru(){}function Nu(e){return e&&e._delegate?e._delegate:e}var Pu=function(){function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ou="[DEFAULT]",Du=function(){function e(t,n){p(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new fu;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ou})}catch(s){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=tu(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=f(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Mu(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ou;return this.component?this.component.multipleInstances?e:Ou:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Mu(e){return e===Ou?void 0:e}var Lu,Fu,zu=function(){function e(t){p(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Du(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Vu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Fu||(Fu={}));var Uu={debug:Fu.DEBUG,verbose:Fu.VERBOSE,info:Fu.INFO,warn:Fu.WARN,error:Fu.ERROR,silent:Fu.SILENT},ju=Fu.INFO,Bu=(Gn(Lu={},Fu.DEBUG,"log"),Gn(Lu,Fu.VERBOSE,"log"),Gn(Lu,Fu.INFO,"info"),Gn(Lu,Fu.WARN,"warn"),Gn(Lu,Fu.ERROR,"error"),Lu),qu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Bu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Wu=function(){function e(t){p(this,e),this.name=t,this._logLevel=ju,this._logHandler=qu,this._userLogHandler=null,Vu.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Fu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Uu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fu.DEBUG].concat(t)),this._logHandler.apply(this,[this,Fu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Fu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fu.INFO].concat(t)),this._logHandler.apply(this,[this,Fu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fu.WARN].concat(t)),this._logHandler.apply(this,[this,Fu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Fu.ERROR].concat(t)),this._logHandler.apply(this,[this,Fu.ERROR].concat(t))}}]),e}();function Ku(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ku(Object(n),!0).forEach((function(t){Gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ku(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hu,Qu,$u=function(e,t){return t.some((function(t){return e instanceof t}))};var Yu=new WeakMap,Xu=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,es=new WeakMap;var ts={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ju.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ns(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Qu||(Qu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(as(this),n),is(Yu.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return is(e.apply(as(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[as(this),t].concat(r));return Ju.set(a,t.sort?t.sort():[t]),is(a)}}function rs(e){return"function"===typeof e?ns(e):(e instanceof IDBTransaction&&function(e){if(!Xu.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Xu.set(e,t)}}(e),$u(e,Hu||(Hu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ts):e)}function is(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(is(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Yu.set(t,e)})).catch((function(){})),es.set(t,e),t}(e);if(Zu.has(e))return Zu.get(e);var t=rs(e);return t!==e&&(Zu.set(e,t),es.set(t,e)),t}var as=function(e){return es.get(e)};var os,us,ss=["get","getKey","getAll","getAllKeys","count"],cs=["put","add","delete","clear"],ls=new Map;function fs(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ls.get(t))return ls.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=cs.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ss.includes(n))){var a=function(){var e=tu(Zo().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ls.set(t,a),a}}}ts=function(e){return Gu(Gu({},e),{},{get:function(t,n,r){return fs(t,n)||e.get(t,n,r)},has:function(t,n){return!!fs(t,n)||e.has(t,n)}})}(ts);var ds=function(){function e(t){p(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var hs="@firebase/app",ps="0.9.16",vs=new Wu("@firebase/app"),ms="[DEFAULT]",ys=(Gn(os={},hs,"fire-core"),Gn(os,"@firebase/app-compat","fire-core-compat"),Gn(os,"@firebase/analytics","fire-analytics"),Gn(os,"@firebase/analytics-compat","fire-analytics-compat"),Gn(os,"@firebase/app-check","fire-app-check"),Gn(os,"@firebase/app-check-compat","fire-app-check-compat"),Gn(os,"@firebase/auth","fire-auth"),Gn(os,"@firebase/auth-compat","fire-auth-compat"),Gn(os,"@firebase/database","fire-rtdb"),Gn(os,"@firebase/database-compat","fire-rtdb-compat"),Gn(os,"@firebase/functions","fire-fn"),Gn(os,"@firebase/functions-compat","fire-fn-compat"),Gn(os,"@firebase/installations","fire-iid"),Gn(os,"@firebase/installations-compat","fire-iid-compat"),Gn(os,"@firebase/messaging","fire-fcm"),Gn(os,"@firebase/messaging-compat","fire-fcm-compat"),Gn(os,"@firebase/performance","fire-perf"),Gn(os,"@firebase/performance-compat","fire-perf-compat"),Gn(os,"@firebase/remote-config","fire-rc"),Gn(os,"@firebase/remote-config-compat","fire-rc-compat"),Gn(os,"@firebase/storage","fire-gcs"),Gn(os,"@firebase/storage-compat","fire-gcs-compat"),Gn(os,"@firebase/firestore","fire-fst"),Gn(os,"@firebase/firestore-compat","fire-fst-compat"),Gn(os,"fire-js","fire-js"),Gn(os,"firebase","fire-js-all"),os),gs=new Map,bs=new Map;function ks(e,t){try{e.container.addComponent(t)}catch(n){vs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ws(e,t){e.container.addOrOverwriteComponent(t)}function xs(e){var t=e.name;if(bs.has(t))return vs.debug("There were multiple attempts to register component ".concat(t,".")),!1;bs.set(t,e);var n,r=C(gs.values());try{for(r.s();!(n=r.n()).done;){ks(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function _s(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ss(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ms;_s(e,t).clearInstance(n)}function Es(){bs.clear()}var Is=(Gn(us={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Gn(us,"bad-app-name","Illegal App name: '{$appName}"),Gn(us,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Gn(us,"app-deleted","Firebase App named '{$appName}' already deleted"),Gn(us,"no-options","Need to provide options, when not being deployed to hosting via source."),Gn(us,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Gn(us,"invalid-log-argument","First argument to `onLog` must be null or a function."),Gn(us,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Gn(us,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Gn(us,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Gn(us,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),us),Ts=new bu("app","Firebase",Is),Cs=function(){function e(t,n,r){var i=this;p(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pu("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}]),e}(),As="10.2.0";function Rs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:ms,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ts.create("bad-app-name",{appName:String(i)});if(n||(n=lu()),!n)throw Ts.create("no-options");var a=gs.get(i);if(a){if(_u(n,a.options)&&_u(r,a.config))return a;throw Ts.create("duplicate-app",{appName:i})}var o,u=new zu(i),s=C(bs.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Cs(n,r,u);return gs.set(i,l),l}function Ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms,t=gs.get(e);if(!t&&e===ms&&lu())return Rs();if(!t)throw Ts.create("no-app",{appName:e});return t}function Ps(){return Array.from(gs.values())}function Os(e){return Ds.apply(this,arguments)}function Ds(){return Ds=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!gs.has(n)){e.next=6;break}return gs.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function Ms(e,t,n){var r,i=null!==(r=ys[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void vs.warn(u.join(" "))}xs(new Pu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ls(e,t){if(null!==e&&"function"!==typeof e)throw Ts.create("invalid-log-argument");!function(e,t){var n,r=C(Vu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Uu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Fu[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Fs(e){var t;t=e,Vu.forEach((function(e){e.setLogLevel(t)}))}var zs="firebase-heartbeat-database",Vs=1,Us="firebase-heartbeat-store",js=null;function Bs(){return js||(js=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=is(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(is(u.result),e.oldVersion,e.newVersion,is(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(zs,Vs,{upgrade:function(e,t){if(0===t)e.createObjectStore(Us)}}).catch((function(e){throw Ts.create("idb-open",{originalErrorMessage:e.message})}))),js}function qs(e){return Ws.apply(this,arguments)}function Ws(){return Ws=tu(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bs();case 3:return n=e.sent,e.next=6,n.transaction(Us).objectStore(Us).get(Hs(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof gu?vs.warn(e.t0.message):(i=Ts.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),vs.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Ws.apply(this,arguments)}function Ks(e,t){return Gs.apply(this,arguments)}function Gs(){return Gs=tu(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bs();case 3:return r=e.sent,i=r.transaction(Us,"readwrite"),a=i.objectStore(Us),e.next=8,a.put(n,Hs(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof gu?vs.warn(e.t0.message):(o=Ts.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),vs.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Gs.apply(this,arguments)}function Hs(e){return"".concat(e.name,"!").concat(e.options.appId)}var Qs=function(){function e(t){var n=this;p(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Js(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=tu(Zo().mark((function e(){var t,n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=$s(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=tu(Zo().mark((function e(){var t,n,r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=$s(),n=Ys(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=au(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $s(){return(new Date).toISOString().substring(0,10)}function Ys(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Zs(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Zs(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Xs,Js=function(){function e(t){p(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yu()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=tu(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,qs(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=tu(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ks(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=tu(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ks(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Zs(e){return au(JSON.stringify({version:2,heartbeats:e})).length}Xs="",xs(new Pu("platform-logger",(function(e){return new ds(e)}),"PRIVATE")),xs(new Pu("heartbeat",(function(e){return new Qs(e)}),"PRIVATE")),Ms(hs,ps,Xs),Ms(hs,ps,"esm2017"),Ms("fire-js","");function ec(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var tc,nc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},rc="EMAIL_SIGNIN",ic="PASSWORD_RESET",ac="RECOVER_EMAIL",oc="REVERT_SECOND_FACTOR_ADDITION",uc="VERIFY_AND_CHANGE_EMAIL",sc="VERIFY_EMAIL";function cc(e){return void 0!==e&&void 0!==e.getResponse}function lc(e){return void 0!==e&&void 0!==e.enterprise}var fc=g((function e(t){if(p(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function dc(){return Gn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var hc=function(){var e;return Gn(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Gn(e,"argument-error",""),Gn(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Gn(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Gn(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Gn(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Gn(e,"cordova-not-ready","Cordova framework is not ready."),Gn(e,"cors-unsupported","This browser is not supported."),Gn(e,"credential-already-in-use","This credential is already associated with a different user account."),Gn(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Gn(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Gn(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Gn(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Gn(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Gn(e,"email-already-in-use","The email address is already in use by another account."),Gn(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Gn(e,"expired-action-code","The action code has expired."),Gn(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Gn(e,"internal-error","An internal AuthError has occurred."),Gn(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Gn(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Gn(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Gn(e,"invalid-auth-event","An internal AuthError has occurred."),Gn(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Gn(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Gn(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Gn(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Gn(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Gn(e,"invalid-email","The email address is badly formatted."),Gn(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Gn(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Gn(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Gn(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Gn(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Gn(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Gn(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Gn(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Gn(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Gn(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Gn(e,"wrong-password","The password is invalid or the user does not have a password."),Gn(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Gn(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Gn(e,"invalid-provider-id","The specified provider ID is invalid."),Gn(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Gn(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Gn(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Gn(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Gn(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Gn(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Gn(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Gn(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Gn(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Gn(e,"missing-continue-uri","A continue URL must be provided in the request."),Gn(e,"missing-iframe-start","An internal AuthError has occurred."),Gn(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Gn(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Gn(e,"missing-password","A non-empty password must be provided"),Gn(e,"missing-multi-factor-info","No second factor identifier is provided."),Gn(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Gn(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Gn(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Gn(e,"app-deleted","This instance of FirebaseApp has been deleted."),Gn(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Gn(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Gn(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Gn(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Gn(e,"no-auth-event","An internal AuthError has occurred."),Gn(e,"no-such-provider","User was not linked to an account with the given provider."),Gn(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Gn(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Gn(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Gn(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Gn(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Gn(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Gn(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Gn(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Gn(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Gn(e,"rejected-credential","The request contains malformed or mismatching credentials."),Gn(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Gn(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Gn(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Gn(e,"timeout","The operation has timed out."),Gn(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Gn(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Gn(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Gn(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Gn(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Gn(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Gn(e,"unverified-email","The operation requires a verified email."),Gn(e,"user-cancelled","The user did not grant your application the permissions it requested."),Gn(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Gn(e,"user-disabled","The user account has been disabled by an administrator."),Gn(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Gn(e,"user-signed-out",""),Gn(e,"weak-password","The password must be 6 characters long or more."),Gn(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Gn(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Gn(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Gn(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Gn(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Gn(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Gn(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Gn(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Gn(e,"invalid-req-type","Invalid request parameters."),Gn(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),Gn(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),Gn(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},pc=dc,vc=new bu("auth","Firebase",dc()),mc=new Wu("@firebase/auth");function yc(e){if(mc.logLevel<=Fu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mc.warn.apply(mc,["Auth (".concat(As,"): ").concat(e)].concat(n))}}function gc(e){if(mc.logLevel<=Fu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mc.error.apply(mc,["Auth (".concat(As,"): ").concat(e)].concat(n))}}function bc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _c.apply(void 0,[e].concat(n))}function kc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _c.apply(void 0,[e].concat(n))}function wc(e,t,n){var r=Object.assign(Object.assign({},pc()),Gn({},t,n));return new bu("auth","Firebase",r).create(t,{appName:e.name})}function xc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&bc(e,"argument-error"),wc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return vc.create.apply(vc,[e].concat(n))}function Sc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _c.apply(void 0,[t].concat(r))}}function Ec(e){var t="INTERNAL ASSERTION FAILED: "+e;throw gc(t),new Error(t)}function Ic(e,t){e||Ec(t)}function Tc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Cc(){return"http:"===Ac()||"https:"===Ac()}function Ac(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Rc=function(){function e(t,n){p(this,e),this.shortDelay=t,this.longDelay=n,Ic(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(du())||vu()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Cc()||pu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Nc(e,t){Ic(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Pc=function(){function e(){p(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ec("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ec("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ec("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Oc=(Gn(tc={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Gn(tc,"MISSING_CUSTOM_TOKEN","internal-error"),Gn(tc,"INVALID_IDENTIFIER","invalid-email"),Gn(tc,"MISSING_CONTINUE_URI","internal-error"),Gn(tc,"INVALID_PASSWORD","wrong-password"),Gn(tc,"MISSING_PASSWORD","missing-password"),Gn(tc,"EMAIL_EXISTS","email-already-in-use"),Gn(tc,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Gn(tc,"INVALID_IDP_RESPONSE","invalid-credential"),Gn(tc,"INVALID_PENDING_TOKEN","invalid-credential"),Gn(tc,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Gn(tc,"MISSING_REQ_TYPE","internal-error"),Gn(tc,"EMAIL_NOT_FOUND","user-not-found"),Gn(tc,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Gn(tc,"EXPIRED_OOB_CODE","expired-action-code"),Gn(tc,"INVALID_OOB_CODE","invalid-action-code"),Gn(tc,"MISSING_OOB_CODE","internal-error"),Gn(tc,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Gn(tc,"INVALID_ID_TOKEN","invalid-user-token"),Gn(tc,"TOKEN_EXPIRED","user-token-expired"),Gn(tc,"USER_NOT_FOUND","user-token-expired"),Gn(tc,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Gn(tc,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),Gn(tc,"INVALID_CODE","invalid-verification-code"),Gn(tc,"INVALID_SESSION_INFO","invalid-verification-id"),Gn(tc,"INVALID_TEMPORARY_PROOF","invalid-credential"),Gn(tc,"MISSING_SESSION_INFO","missing-verification-id"),Gn(tc,"SESSION_EXPIRED","code-expired"),Gn(tc,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Gn(tc,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Gn(tc,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Gn(tc,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Gn(tc,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Gn(tc,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Gn(tc,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Gn(tc,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Gn(tc,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Gn(tc,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Gn(tc,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Gn(tc,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Gn(tc,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Gn(tc,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Gn(tc,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Gn(tc,"MISSING_CLIENT_TYPE","missing-client-type"),Gn(tc,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Gn(tc,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Gn(tc,"INVALID_REQ_TYPE","invalid-req-type"),tc),Dc=new Rc(3e4,6e4);function Mc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Lc(e,t,n,r){return Fc.apply(this,arguments)}function Fc(){return Fc=tu(Zo().mark((function e(t,n,r,i){var a,o=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",zc(t,a,tu(Zo().mark((function e(){var a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Eu(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Pc.fetch()(Bc(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function zc(e,t,n){return Vc.apply(this,arguments)}function Vc(){return Vc=tu(Zo().mark((function e(t,n,r){var i,a,o,u,s,c,l,d,h,p;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Oc),n),e.prev=2,a=new qc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Wc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=f(c,2),d=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Wc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Wc(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Wc(t,"user-disabled",u);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw wc(t,p,h);case 34:bc(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof gu)){e.next=41;break}throw e.t0;case 41:bc(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Vc.apply(this,arguments)}function Uc(e,t,n,r){return jc.apply(this,arguments)}function jc(){return jc=tu(Zo().mark((function e(t,n,r,i){var a,o,u=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Lc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&bc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Bc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Nc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var qc=function(){function e(t){var n=this;p(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(kc(n.auth,"network-request-failed"))}),Dc.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Wc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=kc(e,t,r);return i.customData._tokenResponse=n,i}function Kc(e){return Gc.apply(this,arguments)}function Gc(){return Gc=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lc(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Hc(e,t){return Qc.apply(this,arguments)}function Qc(){return Qc=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"GET","/v2/recaptchaConfig",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function $c(e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Xc(e,t){return Jc.apply(this,arguments)}function Jc(){return Jc=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}function Zc(e,t){return el.apply(this,arguments)}function el(){return el=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}function tl(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function nl(){return nl=tu(Zo().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Nu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Sc((a=il(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:tl(rl(a.auth_time)),issuedAtTime:tl(rl(a.iat)),expirationTime:tl(rl(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function rl(e){return 1e3*Number(e)}function il(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return gc("JWT malformed, contained fewer than 3 sections"),null;try{var a=ou(r);return a?JSON.parse(a):(gc("Failed to decode base64 JWT payload"),null)}catch(o){return gc("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function al(e,t){return ol.apply(this,arguments)}function ol(){return ol=tu(Zo().mark((function e(t,n){var r=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof gu&&ul(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ol.apply(this,arguments)}function ul(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var sl=function(){function e(t){p(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(tu(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),cl=function(){function e(t,n){p(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ll(e){return fl.apply(this,arguments)}function fl(){return fl=tu(Zo().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,al(t,Zc(r,{idToken:i}));case 6:Sc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=ec(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=hl(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new cl(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}function dl(){return(dl=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nu(t),e.next=3,ll(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hl(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function pl(e,t){return vl.apply(this,arguments)}function vl(){return vl=tu(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zc(t,{},tu(Zo().mark((function e(){var r,i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eu({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Bc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Pc.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}var ml=function(){function e(){p(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Sc(e.idToken,"internal-error"),Sc("undefined"!==typeof e.idToken,"internal-error"),Sc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=il(e);return Sc(t,"internal-error"),Sc("undefined"!==typeof t.exp,"internal-error"),Sc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=tu(Zo().mark((function e(t){var n,r=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Sc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=tu(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pl(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ec("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Sc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Sc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Sc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function yl(e,t){Sc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var gl=function(){function e(t){p(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ec(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new cl(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Sc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return nl.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return dl.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Sc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Sc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=tu(Zo().mark((function e(t){var n,r,i=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ll(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=tu(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,al(this,$c(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Sc(b&&_,t,"internal-error");var S=ml.fromJSON(this.name,_);Sc("string"===typeof b,t,"internal-error"),yl(f,t.name),yl(d,t.name),Sc("boolean"===typeof k,t,"internal-error"),Sc("boolean"===typeof w,t,"internal-error"),yl(h,t.name),yl(p,t.name),yl(v,t.name),yl(m,t.name),yl(y,t.name),yl(g,t.name);var E=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=tu(Zo().mark((function t(n,r){var i,a,o,u=arguments;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ml).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ll(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),bl=new Map;function kl(e){Ic(e instanceof Function,"Expected a class definition");var t=bl.get(e);return t?(Ic(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bl.set(e,t),t)}var wl=function(){function e(){p(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();wl.type="NONE";var xl=wl;function _l(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Sl=function(){function e(t,n,r){p(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=_l(this.userKey,a.apiKey,o),this.fullPersistenceKey=_l("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=tu(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?gl._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=tu(Zo().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(kl(xl),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||kl(xl),u=_l(i,n.config.apiKey,n.name),s=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=gl._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function El(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Al(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Il(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Nl(t))return"Blackberry";if(Pl(t))return"Webos";if(Tl(t))return"Safari";if((t.includes("chrome/")||Cl(t))&&!t.includes("edge/"))return"Chrome";if(Rl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();return/firefox\//i.test(e)}function Tl(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:du()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();return/crios\//i.test(e)}function Al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();return/iemobile/i.test(e)}function Rl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();return/android/i.test(e)}function Nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();return/blackberry/i.test(e)}function Pl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();return/webos/i.test(e)}function Ol(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();return Ol(e)||Rl(e)||Pl(e)||Nl(e)||/windows phone/i.test(e)||Al(e)}function Ml(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=El(du());break;case"Worker":t="".concat(El(du()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(As,"/").concat(r)}var Ll=function(){function e(t){p(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=tu(Zo().mark((function e(t){var n,r,i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Fl(e){return zl.apply(this,arguments)}function zl(){return zl=tu(Zo().mark((function e(t){var n,r=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Lc(t,"GET","/v2/passwordPolicy",Mc(t,n)));case 2:case"end":return e.stop()}}),e)}))),zl.apply(this,arguments)}var Vl=function(){function e(t){var n,r,i,a;p(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return g(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),Ul=function(){function e(t,n,r,i){p(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bl(this),this.idTokenSubscription=new Bl(this),this.beforeStateQueue=new Ll(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=kl(t)),this._initializationPromise=this.queue(tu(Zo().mark((function r(){var i,a;return Zo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Sl.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=tu(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=tu(Zo().mark((function e(t){var n,r,i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Sc(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ll(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Nu(t):null)&&Sc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=tu(Zo().mark((function e(t){var n,r=this,i=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Sc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(tu(Zo().mark((function n(){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(kl(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=tu(Zo().mark((function e(){var t,n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fl(this);case 2:t=e.sent,n=new Vl(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new bu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=tu(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Sc(n=t&&kl(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Sl.create(this,[kl(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=tu(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=tu(Zo().mark((function e(t){var n=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Sc(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Sc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ml(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=tu(Zo().mark((function e(){var t,n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=tu(Zo().mark((function e(){var t,n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&yc("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jl(e){return Nu(e)}var Bl=function(){function e(t){var n=this;p(this,e),this.auth=t,this.observer=null,this.addObserver=Cu((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return Sc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ql(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=kc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Wl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Kl=function(){function e(t){p(this,e),this.type="recaptcha-enterprise",this.auth=jl(t)}return g(e,[{key:"verify",value:function(){var e=tu(Zo().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;lc(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=tu(Zo().mark((function e(n,r){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Hc(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new fc(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&lc(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));ql("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Gl(e,t,n){return Hl.apply(this,arguments)}function Hl(){return Hl=tu(Zo().mark((function e(t,n,r){var i,a,o,u,s=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Kl(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Hl.apply(this,arguments)}function Ql(e,t,n){var r=jl(e);Sc(r._canInitEmulator,r,"emulator-config-failed"),Sc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=$l(t),o=function(e){var t=$l(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Yl(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:Yl(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function $l(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yl(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Xl=function(){function e(t,n){p(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return Ec("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ec("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ec("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ec("not implemented")}}]),e}();function Jl(e,t){return Zl.apply(this,arguments)}function Zl(){return Zl=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:resetPassword",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}function ef(e,t){return tf.apply(this,arguments)}function tf(){return tf=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}function nf(e,t){return rf.apply(this,arguments)}function rf(){return rf=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:update",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),rf.apply(this,arguments)}function af(e,t){return of.apply(this,arguments)}function of(){return of=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithPassword",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}function uf(e,t){return sf.apply(this,arguments)}function sf(){return sf=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:sendOobCode",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),sf.apply(this,arguments)}function cf(e,t){return lf.apply(this,arguments)}function lf(){return lf=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uf(t,n));case 1:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}function ff(e,t){return df.apply(this,arguments)}function df(){return df=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uf(t,n));case 1:case"end":return e.stop()}}),e)}))),df.apply(this,arguments)}function hf(e,t){return pf.apply(this,arguments)}function pf(){return pf=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uf(t,n));case 1:case"end":return e.stop()}}),e)}))),pf.apply(this,arguments)}function vf(e,t){return mf.apply(this,arguments)}function mf(){return mf=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uf(t,n));case 1:case"end":return e.stop()}}),e)}))),mf.apply(this,arguments)}function yf(e,t){return gf.apply(this,arguments)}function gf(){return gf=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithEmailLink",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function bf(e,t){return kf.apply(this,arguments)}function kf(){return kf=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithEmailLink",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}var wf=function(e){k(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=tu(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Gl(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",af(t,i));case 11:return e.abrupt("return",af(t,r).catch(function(){var e=tu(Zo().mark((function e(n){var i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Gl(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",af(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",yf(t,{email:this._email,oobCode:this._password}));case 13:bc(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ef(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",bf(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:bc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Xl);function xf(e,t){return _f.apply(this,arguments)}function _f(){return _f=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithIdp",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}var Sf=function(e){k(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return xf(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xf(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xf(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Eu(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ec(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Xl);function Ef(e,t){return If.apply(this,arguments)}function If(){return If=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:sendVerificationCode",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function Tf(){return Tf=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithPhoneNumber",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tf.apply(this,arguments)}function Cf(){return Cf=tu(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uc(t,"POST","/v1/accounts:signInWithPhoneNumber",Mc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Wc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Cf.apply(this,arguments)}var Af=Gn({},"USER_NOT_FOUND","user-not-found");function Rf(){return Rf=tu(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithPhoneNumber",Mc(t,r),Af));case 2:case"end":return e.stop()}}),e)}))),Rf.apply(this,arguments)}var Nf=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Tf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Cf.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Rf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Xl);var Pf=function(){function e(t){var n,r,i,a,o,u;p(this,e);var s=Iu(Tu(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Sc(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Iu(Tu(e)).link,n=t?Iu(Tu(t)).deep_link_id:null,r=Iu(Tu(e)).deep_link_id;return(r?Iu(Tu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Of=function(){function e(){p(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return wf._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Pf.parseLink(t);return Sc(n,"argument-error"),wf._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Of.PROVIDER_ID="password",Of.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Of.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Df=function(){function e(t){p(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Mf=function(e){k(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(Df),Lf=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Sc(e.idToken||e.accessToken,"argument-error"),Sf._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Sc("providerId"in t&&"signInMethod"in t,"argument-error"),Sf._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Mf),Ff=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return Sf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Mf);Ff.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ff.PROVIDER_ID="facebook.com";var zf=function(e){k(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return Sf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Mf);zf.GOOGLE_SIGN_IN_METHOD="google.com",zf.PROVIDER_ID="google.com";var Vf=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return Sf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Mf);Vf.GITHUB_SIGN_IN_METHOD="github.com",Vf.PROVIDER_ID="github.com";var Uf=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return xf(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xf(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xf(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Xl),jf=function(e){k(n,e);var t=S(n);function n(e){return p(this,n),Sc(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Uf.fromJSON(e);return Sc(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Uf._create(r,n)}catch(i){return null}}}]),n}(Df),Bf=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return Sf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Mf);function qf(e,t){return Wf.apply(this,arguments)}function Wf(){return Wf=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signUp",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}Bf.TWITTER_SIGN_IN_METHOD="twitter.com",Bf.PROVIDER_ID="twitter.com";var Kf=function(){function e(t){p(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=tu(Zo().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,gl._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Gf(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=tu(Zo().mark((function t(n,r,i){var a;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Gf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Gf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Hf(){return Hf=tu(Zo().mark((function e(t){var n,r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Kf({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,qf(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Kf._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}var Qf=function(e){k(n,e);var t=S(n);function n(e,r,i,a){var o,u;return p(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(gu);function $f(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Qf._fromErrorAndOperation(e,n,t,r);throw n}))}function Yf(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Xf(e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=tu(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nu(t),e.next=3,td(!0,r,n);case 3:return e.t0=Xc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Yf(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Zf(e,t){return ed.apply(this,arguments)}function ed(){return ed=tu(Zo().mark((function e(t,n){var r,i,a=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=al,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Kf._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ed.apply(this,arguments)}function td(e,t,n){return nd.apply(this,arguments)}function nd(){return(nd=tu(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ll(n);case 2:i=Yf(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Sc(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rd(e,t){return id.apply(this,arguments)}function id(){return id=tu(Zo().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,al(t,$f(i,a,n,t),r);case 6:return Sc((o=e.sent).idToken,i,"internal-error"),Sc(u=il(o.idToken),i,"internal-error"),s=u.sub,Sc(t.uid===s,i,"user-mismatch"),e.abrupt("return",Kf._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&bc(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),id.apply(this,arguments)}function ad(e,t){return od.apply(this,arguments)}function od(){return od=tu(Zo().mark((function e(t,n){var r,i,a,o,u=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,$f(t,i,n);case 4:return a=e.sent,e.next=7,Kf._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}function ud(e,t){return sd.apply(this,arguments)}function sd(){return sd=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ad(jl(t),n));case 1:case"end":return e.stop()}}),e)}))),sd.apply(this,arguments)}function cd(e,t){return ld.apply(this,arguments)}function ld(){return(ld=tu(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nu(t),e.next=3,td(!1,r,n.providerId);case 3:return e.abrupt("return",Zf(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fd(e,t){return dd.apply(this,arguments)}function dd(){return(dd=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rd(Nu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hd(e,t){return pd.apply(this,arguments)}function pd(){return pd=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uc(t,"POST","/v1/accounts:signInWithCustomToken",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(){return vd=tu(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jl(t),e.next=3,hd(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Kf._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),vd.apply(this,arguments)}var md=function(){function e(t,n){p(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?yd._fromServerResponse(e,t):"totpInfo"in t?gd._fromServerResponse(e,t):bc(e,"internal-error")}}]),e}(),yd=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(md),gd=function(e){k(n,e);var t=S(n);function n(e){return p(this,n),t.call(this,"totp",e)}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(md);function bd(e,t,n){var r;Sc((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Sc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Sc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Sc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function kd(e){return wd.apply(this,arguments)}function wd(){return wd=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=jl(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function xd(){return xd=tu(Zo().mark((function e(t,n,r){var i,a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=jl(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Gl(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&bd(a,u,r),e.next=9,ff(a,u);case 9:e.next=14;break;case 11:return r&&bd(a,o,r),e.next=14,ff(a,o).catch(function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Gl(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&bd(a,n,r),e.next=8,ff(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),xd.apply(this,arguments)}function _d(){return _d=tu(Zo().mark((function e(t,n,r){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jl(Nu(t),{oobCode:n,newPassword:r}).catch(function(){var e=tu(Zo().mark((function e(n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&kd(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}function Sd(){return Sd=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nf(Nu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Sd.apply(this,arguments)}function Ed(e,t){return Id.apply(this,arguments)}function Id(){return Id=tu(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nu(t),e.next=3,Jl(r,{oobCode:n});case 3:i=e.sent,Sc(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Sc(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Sc(i.mfaInfo,r,"internal-error");case 13:Sc(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=md._fromServerResponse(jl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Id.apply(this,arguments)}function Td(){return Td=tu(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ed(Nu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Td.apply(this,arguments)}function Cd(e,t,n){return Ad.apply(this,arguments)}function Ad(){return Ad=tu(Zo().mark((function e(t,n,r){var i,a,o,u,s,c,l;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=jl(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Gl(a,o,"signUpPassword");case 5:s=e.sent,u=qf(a,s),e.next=10;break;case 9:u=qf(a,o).catch(function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Gl(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",qf(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&kd(t),e}));case 12:return c=e.sent,e.next=15,Kf._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Rd(){return Rd=tu(Zo().mark((function e(t,n,r){var i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Sc(t.handleCodeInApp,a,"argument-error"),t&&bd(a,e,t)},a=jl(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Gl(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,hf(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,hf(a,o).catch(function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Gl(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,hf(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Nd(){return Nd=tu(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nu(t),Sc((a=Of.credentialWithLink(n,r||Tc()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ud(i,a));case 4:case"end":return e.stop()}}),e)}))),Nd.apply(this,arguments)}function Pd(e,t){return Od.apply(this,arguments)}function Od(){return Od=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:createAuthUri",Mc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Od.apply(this,arguments)}function Dd(){return Dd=tu(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cc()?Tc():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Pd(Nu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Dd.apply(this,arguments)}function Md(){return(Md=tu(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&bd(r.auth,a,n),e.next=8,cf(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ld(){return(Ld=tu(Zo().mark((function e(t,n,r){var i,a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&bd(i.auth,o,r),e.next=8,vf(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fd(e,t){return zd.apply(this,arguments)}function zd(){return zd=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}function Vd(){return(Vd=tu(Zo().mark((function e(t,n){var r,i,a,o,u,s,c;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Nu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,al(a,Fd(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ud(e,t,n){return jd.apply(this,arguments)}function jd(){return jd=tu(Zo().mark((function e(t,n,r){var i,a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,al(t,ef(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),jd.apply(this,arguments)}var Bd=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),qd=function(e){k(n,e);var t=S(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}(Bd),Wd=function(e){k(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(Bd),Kd=function(e){k(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(qd),Gd=function(e){k(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"google.com",r)}return g(n)}(Bd),Hd=function(e){k(n,e);var t=S(n);function n(e,r,i){return p(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(qd);function Qd(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=il(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Bd(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Wd(a,i);case"github.com":return new Kd(a,i);case"google.com":return new Gd(a,i);case"twitter.com":return new Hd(a,i,e.screenName||null);case"custom":case"anonymous":return new Bd(a,null);default:return new Bd(a,r,i)}}(n)}var $d=function(){function e(t,n,r){p(this,e),this.type=t,this.credential=n,this.user=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:Gn({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Yd=function(){function e(t,n,r){p(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=jl(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return md._fromServerResponse(r,e)}));Sc(i.mfaPendingCredential,r,"internal-error");var o=$d._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=tu(Zo().mark((function e(t){var a,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Kf._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Sc(n.user,r,"internal-error"),e.abrupt("return",Kf._forOperation(n.user,n.operationType,u));case 17:bc(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Xd(e,t){return Lc(e,"POST","/v2/accounts/mfaEnrollment:start",Mc(e,t))}function Jd(e,t){return Lc(e,"POST","/v2/accounts/mfaEnrollment:start",Mc(e,t))}function Zd(e,t){return Lc(e,"POST","/v2/accounts/mfaEnrollment:finalize",Mc(e,t))}function eh(e,t){return Lc(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Mc(e,t))}var th=function(){function e(t){var n=this;p(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return md._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=$d,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=tu(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,al(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=tu(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,al(this.user,eh(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),nh=new WeakMap;var rh="__sak",ih=function(){function e(t,n){p(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ah=function(e){k(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=du();return Tl(e)||Ol(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Dl(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);mu()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=tu(Zo().mark((function e(t,r){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jo(w(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=tu(Zo().mark((function e(t){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jo(w(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jo(w(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ih);ah.type="LOCAL";var oh=ah,uh=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ih);uh.type="SESSION";var sh=uh;function ch(e){return Promise.all(e.map(function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var lh=function(){function e(t){p(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=tu(Zo().mark((function e(t){var n,r,i,a,o,u,s,c;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ch(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function fh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}lh.receivers=[];var dh=function(){function e(t){p(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=tu(Zo().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=fh("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function hh(){return window}function ph(e){hh().location.href=e}function vh(){return"undefined"!==typeof hh().WorkerGlobalScope&&"function"===typeof hh().importScripts}function mh(){return yh.apply(this,arguments)}function yh(){return(yh=tu(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function gh(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var bh="firebaseLocalStorageDb",kh="firebaseLocalStorage",wh="fbase_key",xh=function(){function e(t){p(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function _h(e,t){return e.transaction([kh],t?"readwrite":"readonly").objectStore(kh)}function Sh(){var e=indexedDB.deleteDatabase(bh);return new xh(e).toPromise()}function Eh(){var e=indexedDB.open(bh,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(kh,{keyPath:wh})}catch(r){n(r)}})),e.addEventListener("success",tu(Zo().mark((function n(){var r;return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(kh)){n.next=12;break}return r.close(),n.next=5,Sh();case 5:return n.t0=t,n.next=8,Eh();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ih(e,t,n){return Th.apply(this,arguments)}function Th(){return Th=tu(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_h(t,!0).put((Gn(i={},wh,n),Gn(i,"value",r),i)),e.abrupt("return",new xh(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Th.apply(this,arguments)}function Ch(e,t){return Ah.apply(this,arguments)}function Ah(){return Ah=tu(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_h(t,!1).get(n),e.next=3,new xh(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ah.apply(this,arguments)}function Rh(e,t){var n=_h(e,!0).delete(t);return new xh(n).toPromise()}var Nh=function(){function e(){p(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Eh();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=tu(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vh()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=tu(Zo().mark((function e(){var t=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=lh._getInstance(vh()?self:null),this.receiver._subscribe("keyChanged",function(){var e=tu(Zo().mark((function e(n,r){var i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=tu(Zo().mark((function e(){var t,n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mh();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new dh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&gh()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=tu(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Eh();case 5:return t=e.sent,e.next=8,Ih(t,rh,"1");case 8:return e.next=10,Rh(t,rh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=tu(Zo().mark((function e(t,n){var r=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ih(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ch(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=tu(Zo().mark((function e(t){var n=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Rh(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=tu(Zo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=_h(e,!1).getAll();return new xh(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(tu(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Nh.type="LOCAL";var Ph=Nh;function Oh(e,t){return Lc(e,"POST","/v2/accounts/mfaSignIn:start",Mc(e,t))}function Dh(e,t){return Lc(e,"POST","/v2/accounts/mfaSignIn:finalize",Mc(e,t))}var Mh=1e12,Lh=function(){function e(t){p(this,e),this.auth=t,this.counter=Mh,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Fh(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Mh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Mh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=tu(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Mh,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Fh=function(){function e(t,n,r){var i=this;p(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Sc(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var zh=Wl("rcb"),Vh=new Rc(3e4,6e4),Uh=function(){function e(){var t;p(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=hh().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Sc(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&cc(hh().grecaptcha)?Promise.resolve(hh().grecaptcha):new Promise((function(r,i){var a=hh().setTimeout((function(){i(kc(e,"network-request-failed"))}),Vh.get());hh()[zh]=function(){hh().clearTimeout(a),delete hh()[zh];var o=hh().grecaptcha;if(o&&cc(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(kc(e,"internal-error"))},ql("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Eu({onload:zh,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(kc(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=hh().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var jh=function(){function e(){p(this,e)}return g(e,[{key:"load",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Lh(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Bh="recaptcha",qh={theme:"light",type:"image"},Wh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},qh);p(this,e),this.parameters=r,this.type=Bh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jl(t),this.isInvisible="invisible"===this.parameters.size,Sc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;Sc(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jh:new Uh,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=tu(Zo().mark((function e(){var t,n,r,i=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Sc(!this.parameters.sitekey,this.auth,"argument-error"),Sc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Sc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=hh()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Sc(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=tu(Zo().mark((function e(){var t,n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=tu(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sc(Cc()&&!vh(),this.auth,"internal-error"),e.next=3,Kh();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Kc(this.auth);case 8:Sc(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Sc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Kh(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Gh=function(){function e(t,n){p(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=Nf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Hh(){return Hh=tu(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jl(t),e.next=3,Xh(i,n,Nu(r));case 3:return a=e.sent,e.abrupt("return",new Gh(a,(function(e){return ud(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Qh(e,t,n){return $h.apply(this,arguments)}function $h(){return($h=tu(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nu(t),e.next=3,td(!1,i,"phone");case 3:return e.next=5,Xh(i.auth,n,Nu(r));case 5:return a=e.sent,e.abrupt("return",new Gh(a,(function(e){return cd(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yh(){return(Yh=tu(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nu(t),e.next=3,Xh(i.auth,n,Nu(r));case 3:return a=e.sent,e.abrupt("return",new Gh(a,(function(e){return fd(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xh(e,t,n){return Jh.apply(this,arguments)}function Jh(){return Jh=tu(Zo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Sc("string"===typeof a,t,"argument-error"),Sc(r.type===Bh,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Sc("enroll"===u.type,t,"internal-error"),e.next=13,Xd(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Sc("signin"===u.type,t,"internal-error"),Sc(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Oh(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ef(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Jh.apply(this,arguments)}function Zh(){return(Zh=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zf(Nu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ep=function(){function e(t){p(this,e),this.providerId=e.PROVIDER_ID,this.auth=jl(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return Xh(this.auth,e,Nu(t))}}],[{key:"credential",value:function(e,t){return Nf._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Nf._fromTokenResponse(n,r):null}}]),e}();function tp(e,t){return t?kl(t):(Sc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ep.PROVIDER_ID="phone",ep.PHONE_SIGN_IN_METHOD="phone";var np=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return xf(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return xf(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return xf(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Xl);function rp(e){return ad(e.auth,new np(e),e.bypassAuthState)}function ip(e){var t=e.auth,n=e.user;return Sc(n,t,"internal-error"),rd(n,new np(e),e.bypassAuthState)}function ap(e){return op.apply(this,arguments)}function op(){return op=tu(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Sc(r=t.user,n,"internal-error"),e.abrupt("return",Zf(r,new np(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),op.apply(this,arguments)}var up=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];p(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=tu(Zo().mark((function t(n,r){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=tu(Zo().mark((function e(t){var n,r,i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rp;case"linkViaPopup":case"linkViaRedirect":return ap;case"reauthViaPopup":case"reauthViaRedirect":return ip;default:bc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),sp=new Rc(2e3,1e4);function cp(e,t,n){return lp.apply(this,arguments)}function lp(){return lp=tu(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jl(t),xc(t,n,Df),a=tp(i,r),o=new pp(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),lp.apply(this,arguments)}function fp(){return(fp=tu(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc((i=Nu(t)).auth,n,Df),a=tp(i.auth,r),o=new pp(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dp(e,t,n){return hp.apply(this,arguments)}function hp(){return(hp=tu(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc((i=Nu(t)).auth,n,Df),a=tp(i.auth,r),o=new pp(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pp=function(e){k(n,e);var t=S(n);function n(e,r,i,a,o){var u;return p(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_(u),u}return g(n,[{key:"executeNotNull",value:function(){var e=tu(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Sc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=tu(Zo().mark((function e(){var t,n=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ic(1===this.filter.length,"Popup operations only handle one event"),t=fh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(kc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(kc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(kc(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,sp.get())}()}}]),n}(up);pp.currentPopupAction=null;var vp="pendingRedirect",mp=new Map,yp=function(e){k(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=tu(Zo().mark((function e(){var t,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=mp.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,gp(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Jo(w(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:mp.set(this.auth._key(),t);case 21:return this.bypassAuthState||mp.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=tu(Zo().mark((function e(t){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Jo(w(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Jo(w(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(up);function gp(e,t){return bp.apply(this,arguments)}function bp(){return bp=tu(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sp(n),i=_p(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),bp.apply(this,arguments)}function kp(e,t){return wp.apply(this,arguments)}function wp(){return wp=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_p(t)._set(Sp(n),"true"));case 1:case"end":return e.stop()}}),e)}))),wp.apply(this,arguments)}function xp(e,t){mp.set(e._key(),t)}function _p(e){return kl(e._redirectPersistence)}function Sp(e){return _l(vp,e.config.apiKey,e.name)}function Ep(e,t,n){return function(e,t,n){return Ip.apply(this,arguments)}(e,t,n)}function Ip(){return Ip=tu(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jl(t),xc(t,n,Df),e.next=4,i._initializationPromise;case 4:return a=tp(i,r),e.next=7,kp(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function Tp(e,t,n){return function(e,t,n){return Cp.apply(this,arguments)}(e,t,n)}function Cp(){return(Cp=tu(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc((i=Nu(t)).auth,n,Df),e.next=4,i.auth._initializationPromise;case 4:return a=tp(i.auth,r),e.next=7,kp(a,i.auth);case 7:return e.next=9,Mp(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ap(e,t,n){return function(e,t,n){return Rp.apply(this,arguments)}(e,t,n)}function Rp(){return(Rp=tu(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xc((i=Nu(t)).auth,n,Df),e.next=4,i.auth._initializationPromise;case 4:return a=tp(i.auth,r),e.next=7,td(!1,i,n.providerId);case 7:return e.next=9,kp(a,i.auth);case 9:return e.next=11,Mp(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Np(e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(t)._initializationPromise;case 2:return e.abrupt("return",Op(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Pp.apply(this,arguments)}function Op(e,t){return Dp.apply(this,arguments)}function Dp(){return Dp=tu(Zo().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=jl(t),a=tp(i,n),o=new yp(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Dp.apply(this,arguments)}function Mp(e){return Lp.apply(this,arguments)}function Lp(){return(Lp=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fh("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fp=function(){function e(t){p(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Vp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(kc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zp(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(zp(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function zp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Vp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Up(e){return jp.apply(this,arguments)}function jp(){return jp=tu(Zo().mark((function e(t){var n,r=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Lc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}var Bp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qp=/^https?/;function Wp(){return Wp=tu(Zo().mark((function e(t){var n,r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Up(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Kp(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:bc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Wp.apply(this,arguments)}function Kp(e){var t=Tc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!qp.test(r))return!1;if(Bp.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Gp=new Rc(3e4,6e4);function Hp(){var e=hh().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Qp=null;function $p(e){return Qp=Qp||function(e){return new Promise((function(t,n){var r,i,a;function o(){Hp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Hp(),n(kc(e,"network-request-failed"))},timeout:Gp.get()})}if(null===(i=null===(r=hh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=hh().gapi)||void 0===a?void 0:a.load)){var u=Wl("iframefcb");return hh()[u]=function(){gapi.load?o():n(kc(e,"network-request-failed"))},ql("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Qp=null,e}))}(e),Qp}var Yp=new Rc(5e3,15e3),Xp="__/auth/iframe",Jp="emulator/auth/iframe",Zp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ev=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tv(e){var t=e.config;Sc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Nc(t,Jp):"https://".concat(e.config.authDomain,"/").concat(Xp),r={apiKey:t.apiKey,appName:e.name,v:As},i=ev.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Eu(r).slice(1))}function nv(e){return rv.apply(this,arguments)}function rv(){return rv=tu(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$p(t);case 2:return n=e.sent,Sc(r=hh().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:tv(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zp,dontclear:!0},(function(e){return new Promise(function(){var n=tu(Zo().mark((function n(r,i){var a,o,u;return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){hh().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=kc(t,"network-request-failed"),o=hh().setTimeout((function(){i(a)}),Yp.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}var iv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},av=function(){function e(t){p(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ov(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},iv),{width:r.toString(),height:i.toString(),top:a,left:o}),c=du().toLowerCase();n&&(u=Cl(c)?"_blank":n),Il(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Ol(arguments.length>0&&void 0!==arguments[0]?arguments[0]:du())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new av(null);var d=window.open(t||"",u,l);Sc(d,e,"popup-blocked");try{d.focus()}catch(h){}return new av(d)}var uv="__/auth/handler",sv="emulator/auth/handler",cv=encodeURIComponent("fac");function lv(e,t,n,r,i,a){return fv.apply(this,arguments)}function fv(){return fv=tu(Zo().mark((function e(t,n,r,i,a,o){var u,s,c,l,d,h,p,v,m,y,g,b,k;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sc(t.config.authDomain,t,"auth-domain-config-required"),Sc(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:As,eventId:a},n instanceof Df)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",xu(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)l=f(c[s],2),d=l[0],h=l[1],u[d]=h;for(n instanceof Mf&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,k=b?"#".concat(cv,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(dv(t),"?").concat(Eu(v).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),fv.apply(this,arguments)}function dv(e){var t=e.config;return t.emulator?Nc(t,sv):"https://".concat(t.authDomain,"/").concat(uv)}var hv="webStorageSupport",pv=function(){function e(){p(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sh,this._completeRedirectFn=Op,this._overrideRedirectResult=xp}return g(e,[{key:"_openPopup",value:function(){var e=tu(Zo().mark((function e(t,n,r,i){var a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ic(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,lv(t,n,r,Tc(),i);case 3:return o=e.sent,e.abrupt("return",ov(t,o,fh()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=tu(Zo().mark((function e(t,n,r,i){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,lv(t,n,r,Tc(),i);case 4:return ph(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ic(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=tu(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nv(t);case 2:return n=e.sent,r=new Fp(t),n.register("authEvent",(function(e){return Sc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(hv,{type:hv},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[hv];void 0!==i&&t(!!i),bc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Dl()||Tl()||Ol()}}]),e}(),vv=pv,mv=function(){function e(t){p(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ec("unexpected MultiFactorSessionType")}}}]),e}(),yv=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Lc(e,"POST","/v2/accounts/mfaEnrollment:finalize",Mc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Lc(e,"POST","/v2/accounts/mfaSignIn:finalize",Mc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(mv),gv=function(){function e(){p(this,e)}return g(e,null,[{key:"assertion",value:function(e){return yv._fromCredential(e)}}]),e}();gv.FACTOR_ID="phone";var bv=function(){function e(){p(this,e)}return g(e,null,[{key:"assertionForEnrollment",value:function(e,t){return kv._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return kv._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=tu(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sc("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Jd(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",wv._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();bv.FACTOR_ID="totp";var kv=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return g(n,[{key:"_finalizeEnroll",value:function(){var e=tu(Zo().mark((function e(t,n,r){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sc("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Zd(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=tu(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sc(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Dh(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(mv),wv=function(){function e(t,n,r,i,a,o,u){p(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return g(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(xv(e)||xv(t))&&(r=!0),r&&(xv(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),xv(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function xv(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var _v="@firebase/auth",Sv="1.2.0",Ev=function(){function e(t){p(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Sc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Iv;!function(e){var t;null===(t=cu())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Tv(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function Cv(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Iv="Browser",xs(new Pu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Sc(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Iv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ml(Iv)},l=new Ul(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kl);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),xs(new Pu("auth-internal",(function(e){return function(e){return new Ev(e)}(jl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ms(_v,Sv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Iv)),Ms(_v,Sv,"esm2017");var Av=function(){return Av=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Av.apply(this,arguments)},Rv=function(e){return{loading:void 0===e||null===e,value:e}},Nv=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return Av(Av({},e),{error:t.error,loading:!1,value:void 0});case"reset":return Rv(t.defaultValue);case"value":return Av(Av({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),Rv(t)),r=n[0],a=n[1],o=(0,i.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,i.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,i.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},Pv=function(e,t){var n=Nv((function(){return e.currentUser})),r=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;return(0,i.useEffect)((function(){var n=function(e,t,n,r){return Nu(e).onAuthStateChanged(t,n,r)}(e,(function(e){return Tv(void 0,void 0,void 0,(function(){var n;return Cv(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]),[s,a,r]};var Ov=function(){var e=(0,i.useContext)(sV).auth,t=f(Pv(e),1)[0];return(0,ma.jsx)(Ia,{color:"secondary",position:"static",children:(0,ma.jsxs)(Na,{variant:"dense",children:[(0,ma.jsx)(ja,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Real-time Chat"}),t?(0,ma.jsx)($o,{onClick:function(){return e.signOut()},style:{textDecoration:"none",color:"#fff"},variant:"outlined",color:"inherit",children:"Logout"}):(0,ma.jsx)(Xe,{style:{textDecoration:"none",color:"#fff"},to:Yo,children:(0,ma.jsx)($o,{variant:"outlined",color:"inherit",children:"Login"})})]})})};function Dv(e){return ha("MuiContainer",e)}pa("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var Mv=["className","component","disableGutters","fixed","maxWidth"],Lv=ia("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat(fa(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.theme;return tt({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!e.ownerState.disableGutters&&Gn({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var r=t.breakpoints.values[n];return 0!==r&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(r).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return tt({},"xs"===n.maxWidth&&Gn({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&Gn({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))})),Fv=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiContainer"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.disableGutters,u=void 0!==o&&o,s=n.fixed,c=void 0!==s&&s,l=n.maxWidth,f=void 0===l?"lg":l,d=et(n,Mv),h=tt({},n,{component:a,disableGutters:u,fixed:c,maxWidth:f}),p=function(e){var t=e.classes,n=e.fixed,r=e.disableGutters,i=e.maxWidth;return it({root:["root",i&&"maxWidth".concat(fa(String(i))),n&&"fixed",r&&"disableGutters"]},Dv,t)}(h);return(0,ma.jsx)(Lv,tt({as:a,ownerState:h,className:rt(p.root,r),ref:t},d))})),zv=Fv;var Vv=i.createContext();function Uv(e){return ha("MuiGrid",e)}var jv=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Bv=pa("MuiGrid",["root","container","item","zeroMinWidth"].concat(h([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),h(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),h(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),h(jv.map((function(e){return"grid-xs-".concat(e)}))),h(jv.map((function(e){return"grid-sm-".concat(e)}))),h(jv.map((function(e){return"grid-md-".concat(e)}))),h(jv.map((function(e){return"grid-lg-".concat(e)}))),h(jv.map((function(e){return"grid-xl-".concat(e)}))))),qv=Bv,Wv=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function Kv(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function Gv(e,t,n,r){var i=r[n];if(i){var a={};if(!0===i)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===i)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var o=function(e){var t,n=e.values,r=e.base,i=Object.keys(r);return 0===i.length?n:i.reduce((function(e,r){return e[r]="object"===typeof n?null!=n[r]?n[r]:n[t]:n,t=r,e}),{})}({values:r.columns,base:t.breakpoints.values}),u="".concat(Math.round(i/o[n]*1e8)/1e6,"%"),s={};if(r.container&&r.item&&0!==r.columnSpacing){var c=t.spacing(r.columnSpacing);if("0px"!==c){var l="calc(".concat(u," + ").concat(Kv(c),")");s={flexBasis:l,maxWidth:l}}}a=tt({flexBasis:u,flexGrow:0,maxWidth:u},s)}0===t.breakpoints.values[n]?Object.assign(e,a):e[t.breakpoints.up(n)]=a}}var Hv=ia("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,i=n.direction,a=n.item,o=n.lg,u=n.md,s=n.sm,c=n.spacing,l=n.wrap,f=n.xl,d=n.xs,h=n.zeroMinWidth;return[t.root,r&&t.container,a&&t.item,h&&t.zeroMinWidth,r&&0!==c&&t["spacing-xs-".concat(String(c))],"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==l&&t["wrap-xs-".concat(String(l))],!1!==d&&t["grid-xs-".concat(String(d))],!1!==s&&t["grid-sm-".concat(String(s))],!1!==u&&t["grid-md-".concat(String(u))],!1!==o&&t["grid-lg-".concat(String(o))],!1!==f&&t["grid-xl-".concat(String(f))]]}})((function(e){var t=e.ownerState;return tt({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"nowrap"===t.wrap&&{flexWrap:"nowrap"},"reverse"===t.wrap&&{flexWrap:"wrap-reverse"})}),(function(e){return qn({theme:e.theme},e.ownerState.direction,(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(qv.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,a={};return r&&0!==i&&(a=qn({theme:t},i,(function(e){var n=t.spacing(e);return"0px"!==n?Gn({marginTop:"-".concat(Kv(n))},"& > .".concat(qv.item),{paddingTop:Kv(n)}):{}}))),a}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,a={};return r&&0!==i&&(a=qn({theme:t},i,(function(e){var n=t.spacing(e);return"0px"!==n?Gn({width:"calc(100% + ".concat(Kv(n),")"),marginLeft:"-".concat(Kv(n))},"& > .".concat(qv.item),{paddingLeft:Kv(n)}):{}}))),a}),(function(e){var t=e.theme,n=e.ownerState;return t.breakpoints.keys.reduce((function(e,r){return Gv(e,t,r,n),e}),{})})),Qv=i.forwardRef((function(e,t){var n,r=Da(la({props:e,name:"MuiGrid"})),a=r.className,o=r.columns,u=void 0===o?12:o,s=r.columnSpacing,c=r.component,l=void 0===c?"div":c,f=r.container,d=void 0!==f&&f,h=r.direction,p=void 0===h?"row":h,v=r.item,m=void 0!==v&&v,y=r.lg,g=void 0!==y&&y,b=r.md,k=void 0!==b&&b,w=r.rowSpacing,x=r.sm,_=void 0!==x&&x,S=r.spacing,E=void 0===S?0:S,I=r.wrap,T=void 0===I?"wrap":I,C=r.xl,A=void 0!==C&&C,R=r.xs,N=void 0!==R&&R,P=r.zeroMinWidth,O=void 0!==P&&P,D=et(r,Wv),M=w||E,L=s||E,F=i.useContext(Vv)||u,z=tt({},r,{columns:F,container:d,direction:p,item:m,lg:g,md:k,sm:_,rowSpacing:M,columnSpacing:L,wrap:T,xl:A,xs:N,zeroMinWidth:O}),V=function(e){var t=e.classes,n=e.container,r=e.direction,i=e.item,a=e.lg,o=e.md,u=e.sm,s=e.spacing,c=e.wrap,l=e.xl,f=e.xs;return it({root:["root",n&&"container",i&&"item",e.zeroMinWidth&&"zeroMinWidth",n&&0!==s&&"spacing-xs-".concat(String(s)),"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==c&&"wrap-xs-".concat(String(c)),!1!==f&&"grid-xs-".concat(String(f)),!1!==u&&"grid-sm-".concat(String(u)),!1!==o&&"grid-md-".concat(String(o)),!1!==a&&"grid-lg-".concat(String(a)),!1!==l&&"grid-xl-".concat(String(l))]},Uv,t)}(z);return n=(0,ma.jsx)(Hv,tt({ownerState:z,className:rt(V.root,a),as:l,ref:t},D)),12!==F?(0,ma.jsx)(Vv.Provider,{value:F,children:n}):n})),$v=Qv,Yv=["className","component"];var Xv,Jv=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultTheme,t=Ln("div")(ui);return i.forwardRef((function(n,r){var i=sa(e),a=Da(n),o=a.className,u=a.component,s=void 0===u?"div":u,c=et(a,Yv);return(0,ma.jsx)(t,tt({as:s,ref:r,className:rt(o,"MuiBox-root"),theme:i},c))}))}({defaultTheme:Zi()}),Zv=Jv,em=function(){function e(t,n){var r=this;p(this,e),this._delegate=t,this.firebase=n,ks(t,new Pu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Os(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ms;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ms;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ks(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ws(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),tm=(Gn(Xv={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Gn(Xv,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Xv),nm=new bu("app-compat","Firebase",tm);var rm=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Rs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(wu(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ms,setLogLevel:Fs,onLog:Ls,apps:null,SDK_VERSION:As,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(xs(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw nm.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&uu(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!wu(n,e=e||ms))throw nm.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(em);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){uu(n,e)},createSubscribe:Cu,ErrorFactory:bu,deepExtend:uu}),n}(),im=new Wu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){im.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var am=self.firebase.SDK_VERSION;am&&am.indexOf("LITE")>=0&&im.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var om=rm;!function(e){Ms("@firebase/app-compat","0.2.16",e)}();om.registerVersion("firebase","10.2.0","app-compat");var um,sm=function(){var e=(0,i.useContext)(sV).auth,t=function(){var t=tu(Zo().mark((function t(){var n,r;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new om.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:r=t.sent,r.user;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,ma.jsx)(zv,{children:(0,ma.jsx)($v,{container:!0,style:{height:window.innerHeight-50,justifyContent:"center",alignItems:"center"},children:(0,ma.jsx)($v,{style:{width:"50%",background:"#fff"},container:!0,alignItems:"center",direction:"column",children:(0,ma.jsx)(Zv,{p:5,children:(0,ma.jsx)($o,{onClick:t,variant:"outlined",style:{color:"rgb(152, 61, 152)"},children:"Login with Google"})})})})})},cm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},lm={},fm=fm||{},dm=cm||self;function hm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vm="closure_uid_"+(1e9*Math.random()>>>0),mm=0;function ym(e,t,n){return e.call.apply(e.bind,arguments)}function gm(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function bm(e,t,n){return(bm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ym:gm).apply(null,arguments)}function km(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function wm(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function xm(){this.s=this.s,this.o=this.o}xm.prototype.s=!1,xm.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,vm)&&e[vm]||(e[vm]=++mm))},xm.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _m=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Sm(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Em(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(hm(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Im(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Im.prototype.h=function(){this.defaultPrevented=!0};var Tm=function(){if(!dm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{dm.addEventListener("test",(function(){}),t),dm.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Cm(e){return/^[\s\xa0]*$/.test(e)}function Am(){var e=dm.navigator;return e&&(e=e.userAgent)?e:""}function Rm(e){return-1!=Am().indexOf(e)}function Nm(e){return Nm[" "](e),e}Nm[" "]=function(){};var Pm,Om,Dm=Rm("Opera"),Mm=Rm("Trident")||Rm("MSIE"),Lm=Rm("Edge"),Fm=Lm||Mm,zm=Rm("Gecko")&&!(-1!=Am().toLowerCase().indexOf("webkit")&&!Rm("Edge"))&&!(Rm("Trident")||Rm("MSIE"))&&!Rm("Edge"),Vm=-1!=Am().toLowerCase().indexOf("webkit")&&!Rm("Edge");function Um(){var e=dm.document;return e?e.documentMode:void 0}e:{var jm="",Bm=function(){var e=Am();return zm?/rv:([^\);]+)(\)|;)/.exec(e):Lm?/Edge\/([\d\.]+)/.exec(e):Mm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Vm?/WebKit\/(\S+)/.exec(e):Dm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Bm&&(jm=Bm?Bm[1]:""),Mm){var qm=Um();if(null!=qm&&qm>parseFloat(jm)){Pm=String(qm);break e}}Pm=jm}if(dm.document&&Mm){var Wm=Um();Om=Wm||(parseInt(Pm,10)||void 0)}else Om=void 0;var Km=Om;function Gm(e,t){if(Im.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(zm){e:{try{Nm(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Hm[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Gm.$.h.call(this)}}wm(Gm,Im);var Hm={2:"touch",3:"pen",4:"mouse"};Gm.prototype.h=function(){Gm.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qm="closure_listenable_"+(1e6*Math.random()|0),$m=0;function Ym(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++$m,this.fa=this.ia=!1}function Xm(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Jm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Zm(e){var t={};for(var n in e)t[n]=e[n];return t}var ey="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ty(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ey.length;a++)n=ey[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ny(e){this.src=e,this.g={},this.h=0}function ry(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=_m(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Xm(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function iy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}ny.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=iy(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ym(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var ay="closure_lm_"+(1e6*Math.random()|0),oy={};function uy(e,t,n,r,i){if(r&&r.once)return cy(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)uy(e,t[a],n,r,i);return null}return n=my(n),e&&e[Qm]?e.O(t,n,pm(r)?!!r.capture:!!r,i):sy(e,t,n,!1,r,i)}function sy(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=pm(i)?!!i.capture:!!i,u=py(e);if(u||(e[ay]=u=new ny(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=hy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Tm||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(dy(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function cy(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)cy(e,t[a],n,r,i);return null}return n=my(n),e&&e[Qm]?e.P(t,n,pm(r)?!!r.capture:!!r,i):sy(e,t,n,!0,r,i)}function ly(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ly(e,t[a],n,r,i);else r=pm(r)?!!r.capture:!!r,n=my(n),e&&e[Qm]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=iy(a=e.g[t],n,r,i))&&(Xm(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=py(e))&&(t=e.g[t.toString()],e=-1,t&&(e=iy(t,n,r,i)),(n=-1<e?t[e]:null)&&fy(n))}function fy(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Qm])ry(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(dy(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=py(t))?(ry(n,e),0==n.h&&(n.src=null,t[ay]=null)):Xm(e)}}}function dy(e){return e in oy?oy[e]:oy[e]="on"+e}function hy(e,t){if(e.fa)e=!0;else{t=new Gm(t,this);var n=e.listener,r=e.la||e.src;e.ia&&fy(e),e=n.call(r,t)}return e}function py(e){return(e=e[ay])instanceof ny?e:null}var vy="__closure_events_fn_"+(1e9*Math.random()>>>0);function my(e){return"function"===typeof e?e:(e[vy]||(e[vy]=function(t){return e.handleEvent(t)}),e[vy])}function yy(){xm.call(this),this.i=new ny(this),this.S=this,this.J=null}function gy(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Im(t,e);else if(t instanceof Im)t.target=t.target||e;else{var i=t;ty(t=new Im(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=by(o,r,!0,t)&&i}if(i=by(o=t.g=e,r,!0,t)&&i,i=by(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=by(o=t.g=n[a],r,!1,t)&&i}function by(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&ry(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}wm(yy,xm),yy.prototype[Qm]=!0,yy.prototype.removeEventListener=function(e,t,n,r){ly(this,e,t,n,r)},yy.prototype.N=function(){if(yy.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xm(n[r]);delete t.g[e],t.h--}}this.J=null},yy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},yy.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ky=dm.JSON.stringify,wy=function(){function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function xy(){var e=Ry,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _y=function(){function e(){p(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=Sy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Sy=new wy((function(){return new Ey}),(function(e){return e.reset()})),Ey=function(){function e(){p(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Iy(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ty(e){dm.setTimeout((function(){throw e}),0)}var Cy,Ay=!1,Ry=new _y,Ny=function(){var e=dm.Promise.resolve(void 0);Cy=function(){e.then(Py)}},Py=function(){for(var e;e=xy();){try{e.h.call(e.g)}catch(n){Ty(n)}var t=Sy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ay=!1};function Oy(e,t){yy.call(this),this.h=e||1,this.g=t||dm,this.j=bm(this.qb,this),this.l=Date.now()}function Dy(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function My(e,t,n){if("function"===typeof e)n&&(e=bm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=bm(e.handleEvent,e)}return 2147483647<Number(t)?-1:dm.setTimeout(e,t||0)}function Ly(e){e.g=My((function(){e.g=null,e.i&&(e.i=!1,Ly(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}wm(Oy,yy),(um=Oy.prototype).ga=!1,um.T=null,um.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gy(this,"tick"),this.ga&&(Dy(this),this.start()))}},um.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},um.N=function(){Oy.$.N.call(this),Dy(this),delete this.g};var Fy=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ly(this)}},{key:"N",value:function(){Jo(w(n.prototype),"N",this).call(this),this.g&&(dm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(xm);function zy(e){xm.call(this),this.h=e,this.g={}}wm(zy,xm);var Vy=[];function Uy(e,t,n,r){Array.isArray(n)||(n&&(Vy[0]=n.toString()),n=Vy);for(var i=0;i<n.length;i++){var a=uy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function jy(e){Jm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&fy(e)}),e),e.g={}}function By(){this.g=!0}function qy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ky(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}zy.prototype.N=function(){zy.$.N.call(this),jy(this)},zy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},By.prototype.Ea=function(){this.g=!1},By.prototype.info=function(){};var Wy={},Ky=null;function Gy(){return Ky=Ky||new yy}function Hy(e){Im.call(this,Wy.Ta,e)}function Qy(e){var t=Gy();gy(t,new Hy(t))}function $y(e,t){Im.call(this,Wy.STAT_EVENT,e),this.stat=t}function Yy(e){var t=Gy();gy(t,new $y(t,e))}function Xy(e,t){Im.call(this,Wy.Ua,e),this.size=t}function Jy(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return dm.setTimeout((function(){e()}),t)}Wy.Ta="serverreachability",wm(Hy,Im),Wy.STAT_EVENT="statevent",wm($y,Im),Wy.Ua="timingevent",wm(Xy,Im);var Zy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},eg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function tg(){}function ng(e){return e.h||(e.h=e.i())}function rg(){}tg.prototype.h=null;var ig,ag={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function og(){Im.call(this,"d")}function ug(){Im.call(this,"c")}function sg(){}function cg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new zy(this),this.P=fg,e=Fm?125:void 0,this.V=new Oy(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new lg}function lg(){this.i=null,this.g="",this.h=!1}wm(og,Im),wm(ug,Im),wm(sg,tg),sg.prototype.g=function(){return new XMLHttpRequest},sg.prototype.i=function(){return{}},ig=new sg;var fg=45e3,dg={},hg={};function pg(e,t,n){e.L=1,e.v=Og(Cg(t)),e.s=n,e.S=!0,vg(e,null)}function vg(e,t){e.G=Date.now(),bg(e),e.A=Cg(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Gg(n.i,"t",r),e.C=0,n=e.l.J,e.h=new lg,e.g=Hb(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Fy(bm(e.Pa,e,e.g),e.O)),Uy(e.U,e.g,"readystatechange",e.nb),t=e.I?Zm(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Qy(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function mg(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function yg(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=gg(e,n))==hg){4==t&&(e.o=4,Yy(14),i=!1),qy(e.j,e.m,null,"[Incomplete Response]");break}if(r==dg){e.o=4,Yy(15),qy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}qy(e.j,e.m,r,null),Sg(e,r)}mg(e)&&r!=hg&&r!=dg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Yy(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vb(t),t.M=!0,Yy(11))):(qy(e.j,e.m,n,"[Invalid Chunked Response]"),_g(e),xg(e))}function gg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?hg:(n=Number(t.substring(n,r)),isNaN(n)?dg:(r+=1)+n>t.length?hg:(t=t.slice(r,r+n),e.C=r+n,t))}function bg(e){e.Y=Date.now()+e.P,kg(e,e.P)}function kg(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Jy(bm(e.lb,e),t)}function wg(e){e.B&&(dm.clearTimeout(e.B),e.B=null)}function xg(e){0==e.l.H||e.J||Bb(e.l,e)}function _g(e){wg(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Dy(e.V),jy(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Sg(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Zg(n.i,e)))if(!e.K&&Zg(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;jb(n),Nb(n)}zb(n),Yy(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Jy(bm(n.ib,n),6e3));if(1>=Jg(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Wb(n,11)}else if((e.K||n.g==e)&&jb(n),!Cm(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(eb(f,f.h),f.h=null))}if(r.F){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.Da=d,Pg(r.I,r.F,d))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var h=e;if((r=n).wa=Gb(r,r.J?r.pa:null,r.Y),h.K){tb(r.i,h);var p=h,v=r.L;v&&p.setTimeout(v),p.B&&(wg(p),bg(p)),r.g=h}else Fb(r);0<n.j.length&&Ob(n)}else"stop"!=a[0]&&"close"!=a[0]||Wb(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Wb(n,7):Rb(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Qy()}catch(a){}}function Eg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(hm(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(hm(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(hm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(um=cg.prototype).setTimeout=function(e){this.P=e},um.nb=function(e){e=e.target;var t=this.M;t&&3==Sb(e)?t.l():this.Pa(e)},um.Pa=function(e){try{if(e==this.g)e:{var t=Sb(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Fm||this.g&&(this.h.h||this.g.ja()||Eb(this.g)))){this.J||4!=t||7==n||Qy(),wg(this);var r=this.g.da();this.ca=r;t:if(mg(this)){var i=Eb(this.g);e="";var a=i.length,o=4==Sb(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){_g(this),xg(this);var u="";break t}this.h.i=new dm.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cm(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Yy(12),_g(this),xg(this);break e}qy(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sg(this,r)}this.S?(yg(this,t,u),Fm&&this.i&&3==t&&(Uy(this.U,this.V,"tick",this.mb),this.V.start())):(qy(this.j,this.m,u,null),Sg(this,u)),4==t&&_g(this),this.i&&!this.J&&(4==t?Bb(this.l,this):(this.i=!1,bg(this)))}else(function(e){var t={};e=(e.g&&2<=Sb(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Cm(e[n])){var r=Iy(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Yy(12)):(this.o=0,Yy(13)),_g(this),xg(this)}}}catch(t){}},um.mb=function(){if(this.g){var e=Sb(this.g),t=this.g.ja();this.C<t.length&&(wg(this),yg(this,e,t),this.i&&4!=e&&bg(this))}},um.cancel=function(){this.J=!0,_g(this)},um.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Qy(),Yy(17)),_g(this),this.o=2,xg(this)):kg(this,this.Y-e)};var Ig=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tg(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Tg){this.h=e.h,Ag(this,e.j),this.s=e.s,this.g=e.g,Rg(this,e.m),this.l=e.l;var t=e.i,n=new Bg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ng(this,n),this.o=e.o}else e&&(t=String(e).match(Ig))?(this.h=!1,Ag(this,t[1]||"",!0),this.s=Dg(t[2]||""),this.g=Dg(t[3]||"",!0),Rg(this,t[4]),this.l=Dg(t[5]||"",!0),Ng(this,t[6]||"",!0),this.o=Dg(t[7]||"")):(this.h=!1,this.i=new Bg(null,this.h))}function Cg(e){return new Tg(e)}function Ag(e,t,n){e.j=n?Dg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ng(e,t,n){t instanceof Bg?(e.i=t,function(e,t){t&&!e.j&&(qg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wg(this,t),Gg(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Mg(t,Ug)),e.i=new Bg(t,e.h))}function Pg(e,t,n){e.i.set(t,n)}function Og(e){return Pg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Dg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Mg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Lg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Lg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Mg(t,Fg,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Mg(t,Fg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Mg(n,"/"==n.charAt(0)?Vg:zg,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Mg(n,jg)),e.join("")};var Fg=/[#\/\?@]/g,zg=/[#\?:]/g,Vg=/[#\?]/g,Ug=/[#\?@]/g,jg=/#/g;function Bg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function qg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wg(e,t){qg(e),t=Hg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Kg(e,t){return qg(e),t=Hg(e,t),e.g.has(t)}function Gg(e,t,n){Wg(e,t),0<n.length&&(e.i=null,e.g.set(Hg(e,t),Sm(n)),e.h+=n.length)}function Hg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(um=Bg.prototype).add=function(e,t){qg(this),this.i=null,e=Hg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},um.forEach=function(e,t){qg(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},um.ta=function(){qg(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},um.Z=function(e){qg(this);var t=[];if("string"===typeof e)Kg(this,e)&&(t=t.concat(this.g.get(Hg(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},um.set=function(e,t){return qg(this),this.i=null,Kg(this,e=Hg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},um.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},um.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Qg=g((function e(t,n){p(this,e),this.g=t,this.map=n}));function $g(e){this.l=e||Yg,dm.PerformanceNavigationTiming?e=0<(e=dm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(dm.g&&dm.g.Ka&&dm.g.Ka()&&dm.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Yg=10;function Xg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Jg(e){return e.h?1:e.g?e.g.size:0}function Zg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function eb(e,t){e.g?e.g.add(t):e.h=t}function tb(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nb(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Sm(e.i)}$g.prototype.cancel=function(){if(this.i=nb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var rb,ib=function(){function e(){p(this,e)}return g(e,[{key:"stringify",value:function(e){return dm.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return dm.JSON.parse(e,void 0)}}]),e}();function ab(){this.g=new ib}function ob(e,t,n){var r=n||"";try{Eg(e,(function(e,n){var i=e;pm(e)&&(i=ky(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ub(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function sb(e){this.l=e.fc||null,this.j=e.ob||!1}function cb(e,t){yy.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=lb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wm(sb,tg),sb.prototype.g=function(){return new cb(this.l,this.j)},sb.prototype.i=(rb={},function(){return rb}),wm(cb,yy);var lb=0;function fb(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function db(e){e.readyState=4,e.l=null,e.j=null,e.A=null,hb(e)}function hb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(um=cb.prototype).open=function(e,t){if(this.readyState!=lb)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,hb(this)},um.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||dm).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},um.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,db(this)),this.readyState=lb},um.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,hb(this)),this.g&&(this.readyState=3,hb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof dm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fb(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},um.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?db(this):hb(this),3==this.readyState&&fb(this)}},um.Za=function(e){this.g&&(this.response=this.responseText=e,db(this))},um.Ya=function(e){this.g&&(this.response=e,db(this))},um.ka=function(){this.g&&db(this)},um.setRequestHeader=function(e,t){this.v.append(e,t)},um.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},um.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(cb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var pb=dm.JSON.parse;function vb(e){yy.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mb,this.L=this.M=!1}wm(vb,yy);var mb="",yb=/^https?$/i,gb=["POST","PUT"];function bb(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,kb(e),xb(e)}function kb(e){e.F||(e.F=!0,gy(e,"complete"),gy(e,"error"))}function wb(e){if(e.h&&"undefined"!=typeof fm&&(!e.C[1]||4!=Sb(e)||2!=e.da()))if(e.v&&4==Sb(e))My(e.La,0,e);else if(gy(e,"readystatechange"),4==Sb(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Ig)[1]||null;!a&&dm.self&&dm.self.location&&(a=dm.self.location.protocol.slice(0,-1)),i=!yb.test(a?a.toLowerCase():"")}t=i}if(t)gy(e,"complete"),gy(e,"success");else{e.m=6;try{var o=2<Sb(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",kb(e)}}finally{xb(e)}}}function xb(e,t){if(e.g){_b(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||gy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function _b(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(dm.clearTimeout(e.A),e.A=null)}function Sb(e){return e.g?e.g.readyState:0}function Eb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case mb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Pk){return null}}function Ib(e){var t="";return Jm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Tb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ib(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Pg(e,t,n))}function Cb(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ab(e){this.Ga=0,this.j=[],this.l=new By,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Cb("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Cb("baseRetryDelayMs",5e3,e),this.hb=Cb("retryDelaySeedMs",1e4,e),this.eb=Cb("forwardChannelMaxRetries",2,e),this.xa=Cb("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new $g(e&&e.concurrentRequestLimit),this.Ja=new ab,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Rb(e){if(Pb(e),3==e.H){var t=e.W++,n=Cg(e.I);if(Pg(n,"SID",e.K),Pg(n,"RID",t),Pg(n,"TYPE","terminate"),Mb(e,n),(t=new cg(e,e.l,t)).L=2,t.v=Og(Cg(n)),n=!1,dm.navigator&&dm.navigator.sendBeacon)try{n=dm.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&dm.Image&&((new Image).src=t.v,n=!0),n||(t.g=Hb(t.l,null),t.g.ha(t.v)),t.G=Date.now(),bg(t)}Kb(e)}function Nb(e){e.g&&(Vb(e),e.g.cancel(),e.g=null)}function Pb(e){Nb(e),e.u&&(dm.clearTimeout(e.u),e.u=null),jb(e),e.i.cancel(),e.m&&("number"===typeof e.m&&dm.clearTimeout(e.m),e.m=null)}function Ob(e){if(!Xg(e.i)&&!e.m){e.m=!0;var t=e.Na;Cy||Ny(),Ay||(Cy(),Ay=!0),Ry.add(t,e),e.C=0}}function Db(e,t){var n;n=t?t.m:e.W++;var r=Cg(e.I);Pg(r,"SID",e.K),Pg(r,"RID",n),Pg(r,"AID",e.V),Mb(e,r),e.o&&e.s&&Tb(r,e.o,e.s),n=new cg(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Lb(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),eb(e.i,n),pg(n,r,t)}function Mb(e,t){e.na&&Jm(e.na,(function(e,n){Pg(t,n,e)})),e.h&&Eg({},(function(e,n){Pg(t,n,e)}))}function Lb(e,t,n){n=Math.min(e.j.length,n);var r=e.h?bm(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{ob(l,o,"req"+c+"_")}catch(Yw){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Fb(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Cy||Ny(),Ay||(Cy(),Ay=!0),Ry.add(t,e),e.A=0}}function zb(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Jy(bm(e.Ma,e),qb(e,e.A)),e.A++,!0)}function Vb(e){null!=e.B&&(dm.clearTimeout(e.B),e.B=null)}function Ub(e){e.g=new cg(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Cg(e.wa);Pg(t,"RID","rpc"),Pg(t,"SID",e.K),Pg(t,"AID",e.V),Pg(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Pg(t,"TO",e.qa),Pg(t,"TYPE","xmlhttp"),Mb(e,t),e.o&&e.s&&Tb(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Og(Cg(t)),n.s=null,n.S=!0,vg(n,e)}function jb(e){null!=e.v&&(dm.clearTimeout(e.v),e.v=null)}function Bb(e,t){var n=null;if(e.g==t){jb(e),Vb(e),e.g=null;var r=2}else{if(!Zg(e.i,t))return;n=t.F,tb(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;gy(r=Gy(),new Xy(r,n)),Ob(e)}else Fb(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Jg(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Jy(bm(e.Na,e,t),qb(e,e.C)),e.C++,!0))}(e,t)||2==r&&zb(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Wb(e,5);break;case 4:Wb(e,10);break;case 3:Wb(e,6);break;default:Wb(e,2)}}function qb(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Wb(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=bm(e.pb,e);n||(n=new Tg("//www.google.com/images/cleardot.gif"),dm.location&&"http"==dm.location.protocol||Ag(n,"https"),Og(n)),function(e,t){var n=new By;if(dm.Image){var r=new Image;r.onload=km(ub,n,r,"TestLoadImage: loaded",!0,t),r.onerror=km(ub,n,r,"TestLoadImage: error",!1,t),r.onabort=km(ub,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=km(ub,n,r,"TestLoadImage: timeout",!1,t),dm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Yy(2);e.H=0,e.h&&e.h.za(t),Kb(e),Pb(e)}function Kb(e){if(e.H=0,e.ma=[],e.h){var t=nb(e.i);0==t.length&&0==e.j.length||(Em(e.ma,t),Em(e.ma,e.j),e.i.i.length=0,Sm(e.j),e.j.length=0),e.h.ya()}}function Gb(e,t,n){var r=n instanceof Tg?Cg(n):new Tg(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Rg(r,r.m);else{var i=dm.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Tg(null);r&&Ag(a,r),t&&(a.g=t),i&&Rg(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Pg(r,n,t),Pg(r,"VER",e.ra),Mb(e,r),r}function Hb(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new vb(new sb({ob:!0})):new vb(e.va)).Oa(e.J),t}function Qb(){}function $b(){if(Mm&&!(10<=Number(Km)))throw Error("Environmental error: no available transport.")}function Yb(e,t){yy.call(this),this.g=new Ab(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Cm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Cm(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Zb(this)}function Xb(e){og.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Jb(){ug.call(this),this.status=1}function Zb(e){this.g=e}function ek(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function tk(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function nk(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(um=vb.prototype).Oa=function(e){this.M=e},um.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ig.g(),this.C=this.u?ng(this.u):ng(ig),this.g.onreadystatechange=bm(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void bb(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=dm.FormData&&e instanceof dm.FormData,!(0<=_m(gb,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=C(n);try{for(c.s();!(s=c.n()).done;){var l=f(s.value,2),d=l[0],h=l[1];this.g.setRequestHeader(d,h)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_b(this),0<this.B&&((this.L=function(e){return Mm&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bm(this.ua,this)):this.A=My(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){bb(this,u)}},um.ua=function(){"undefined"!=typeof fm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gy(this,"timeout"),this.abort(8))},um.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,gy(this,"complete"),gy(this,"abort"),xb(this))},um.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xb(this,!0)),vb.$.N.call(this)},um.La=function(){this.s||(this.G||this.v||this.l?wb(this):this.kb())},um.kb=function(){wb(this)},um.isActive=function(){return!!this.g},um.da=function(){try{return 2<Sb(this)?this.g.status:-1}catch(rb){return-1}},um.ja=function(){try{return this.g?this.g.responseText:""}catch(rb){return""}},um.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),pb(t)}},um.Ia=function(){return this.m},um.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(um=Ab.prototype).ra=8,um.H=1,um.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new cg(this,this.l,e),n=this.s;if(this.U&&(n?ty(n=Zm(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Lb(this,t,r),Pg(i=Cg(this.I),"RID",e),Pg(i,"CVER",22),this.F&&Pg(i,"X-HTTP-Session-Id",this.F),Mb(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Ib(n)))+"&"+r:this.o&&Tb(i,this.o,n)),eb(this.i,t),this.bb&&Pg(i,"TYPE","init"),this.P?(Pg(i,"$req",r),Pg(i,"SID","null"),t.aa=!0,pg(t,i,null)):pg(t,i,r),this.H=2}}else 3==this.H&&(e?Db(this,e):0==this.j.length||Xg(this.i)||Db(this))},um.Ma=function(){if(this.u=null,Ub(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Jy(bm(this.jb,this),e)}},um.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Yy(10),Nb(this),Ub(this))},um.ib=function(){null!=this.v&&(this.v=null,Nb(this),zb(this),Yy(19))},um.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Yy(2)):(this.l.info("Failed to ping google.com"),Yy(1))},um.isActive=function(){return!!this.h&&this.h.isActive(this)},(um=Qb.prototype).Ba=function(){},um.Aa=function(){},um.za=function(){},um.ya=function(){},um.isActive=function(){return!0},um.Va=function(){},$b.prototype.g=function(e,t){return new Yb(e,t)},wm(Yb,yy),Yb.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Yy(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Gb(e,null,e.Y),Ob(e)},Yb.prototype.close=function(){Rb(this.g)},Yb.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ky(e),e=n);t.j.push(new Qg(t.fb++,e)),3==t.H&&Ob(t)},Yb.prototype.N=function(){this.g.h=null,delete this.j,Rb(this.g),delete this.g,Yb.$.N.call(this)},wm(Xb,og),wm(Jb,ug),wm(Zb,Qb),Zb.prototype.Ba=function(){gy(this.g,"a")},Zb.prototype.Aa=function(e){gy(this.g,new Xb(e))},Zb.prototype.za=function(e){gy(this.g,new Jb)},Zb.prototype.ya=function(){gy(this.g,"b")},wm(ek,(function(){this.blockSize=-1})),ek.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ek.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)tk(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){tk(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){tk(this,r),i=0;break}}this.h=i,this.i+=t},ek.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var rk={};function ik(e){return-128<=e&&128>e?function(e,t){var n=rk;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new nk([0|e],0>e?-1:0)})):new nk([0|e],0>e?-1:0)}function ak(e){if(isNaN(e)||!isFinite(e))return uk;if(0>e)return dk(ak(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ok;return new nk(t,0)}var ok=4294967296,uk=ik(0),sk=ik(1),ck=ik(16777216);function lk(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function fk(e){return-1==e.h}function dk(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new nk(n,~e.h).add(sk)}function hk(e,t){return e.add(dk(t))}function pk(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function vk(e,t){this.g=e,this.h=t}function mk(e,t){if(lk(t))throw Error("division by zero");if(lk(e))return new vk(uk,uk);if(fk(e))return t=mk(dk(e),t),new vk(dk(t.g),dk(t.h));if(fk(t))return t=mk(e,dk(t)),new vk(dk(t.g),t.h);if(30<e.g.length){if(fk(e)||fk(t))throw Error("slowDivide_ only works with positive integers.");for(var n=sk,r=t;0>=r.X(e);)n=yk(n),r=yk(r);var i=gk(n,1),a=gk(r,1);for(r=gk(r,2),n=gk(n,2);!lk(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=gk(r,1),n=gk(n,1)}return t=hk(e,i.R(t)),new vk(i,t)}for(i=uk;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=ak(n)).R(t);fk(o)||0<o.X(e);)o=(a=ak(n-=r)).R(t);lk(a)&&(a=sk),i=i.add(a),e=hk(e,o)}return new vk(i,e)}function yk(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new nk(n,e.h)}function gk(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new nk(i,e.h)}(um=nk.prototype).ea=function(){if(fk(this))return-dk(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ok+r)*t,t*=ok}return e},um.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(lk(this))return"0";if(fk(this))return"-"+dk(this).toString(e);for(var t=ak(Math.pow(e,6)),n=this,r="";;){var i=mk(n,t).g,a=((0<(n=hk(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(lk(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},um.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},um.X=function(e){return fk(e=hk(this,e))?-1:lk(e)?0:1},um.abs=function(){return fk(this)?dk(this):this},um.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new nk(n,-2147483648&n[n.length-1]?-1:0)},um.R=function(e){if(lk(this)||lk(e))return uk;if(fk(this))return fk(e)?dk(this).R(dk(e)):dk(dk(this).R(e));if(fk(e))return dk(this.R(dk(e)));if(0>this.X(ck)&&0>e.X(ck))return ak(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,pk(n,2*r+2*i),n[2*r+2*i+1]+=a*s,pk(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,pk(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,pk(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new nk(n,0)},um.gb=function(e){return mk(this,e).h},um.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new nk(n,this.h&e.h)},um.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new nk(n,this.h|e.h)},um.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new nk(n,this.h^e.h)},$b.prototype.createWebChannel=$b.prototype.g,Yb.prototype.send=Yb.prototype.u,Yb.prototype.open=Yb.prototype.m,Yb.prototype.close=Yb.prototype.close,Zy.NO_ERROR=0,Zy.TIMEOUT=8,Zy.HTTP_ERROR=6,eg.COMPLETE="complete",rg.EventType=ag,ag.OPEN="a",ag.CLOSE="b",ag.ERROR="c",ag.MESSAGE="d",yy.prototype.listen=yy.prototype.O,vb.prototype.listenOnce=vb.prototype.P,vb.prototype.getLastError=vb.prototype.Sa,vb.prototype.getLastErrorCode=vb.prototype.Ia,vb.prototype.getStatus=vb.prototype.da,vb.prototype.getResponseJson=vb.prototype.Wa,vb.prototype.getResponseText=vb.prototype.ja,vb.prototype.send=vb.prototype.ha,vb.prototype.setWithCredentials=vb.prototype.Oa,ek.prototype.digest=ek.prototype.l,ek.prototype.reset=ek.prototype.reset,ek.prototype.update=ek.prototype.j,nk.prototype.add=nk.prototype.add,nk.prototype.multiply=nk.prototype.R,nk.prototype.modulo=nk.prototype.gb,nk.prototype.compare=nk.prototype.X,nk.prototype.toNumber=nk.prototype.ea,nk.prototype.toString=nk.prototype.toString,nk.prototype.getBits=nk.prototype.D,nk.fromNumber=ak,nk.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return dk(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ak(Math.pow(n,8)),i=uk,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=ak(Math.pow(n,o)),i=i.R(o).add(ak(u))):i=(i=i.R(r)).add(ak(u))}return i};var bk=lm.createWebChannelTransport=function(){return new $b},kk=lm.getStatEventTarget=function(){return Gy()},wk=lm.ErrorCode=Zy,xk=lm.EventType=eg,_k=lm.Event=Wy,Sk=lm.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ek=lm.FetchXmlHttpFactory=sb,Ik=lm.WebChannel=rg,Tk=lm.XhrIo=vb,Ck=lm.Md5=ek,Ak=lm.Integer=nk,Rk="@firebase/firestore",Nk=function(){function e(t){p(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Nk.UNAUTHENTICATED=new Nk(null),Nk.GOOGLE_CREDENTIALS=new Nk("google-credentials-uid"),Nk.FIRST_PARTY=new Nk("first-party-uid"),Nk.MOCK_USER=new Nk("mock-user");var Pk="10.2.0",Ok=new Wu("@firebase/firestore");function Dk(){return Ok.logLevel}function Mk(e){if(Ok.logLevel<=Fu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zk);Ok.debug.apply(Ok,["Firestore (".concat(Pk,"): ").concat(e)].concat(h(i)))}}function Lk(e){if(Ok.logLevel<=Fu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zk);Ok.error.apply(Ok,["Firestore (".concat(Pk,"): ").concat(e)].concat(h(i)))}}function Fk(e){if(Ok.logLevel<=Fu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zk);Ok.warn.apply(Ok,["Firestore (".concat(Pk,"): ").concat(e)].concat(h(i)))}}function zk(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Vk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Pk,") INTERNAL ASSERTION FAILED: ")+e;throw Lk(t),new Error(t)}function Uk(e,t){e||Vk()}function jk(e,t){return e}var Bk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qk=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(gu),Wk=g((function e(){var t=this;p(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Kk=g((function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Gk=function(){function e(){p(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Nk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Hk=function(){function e(t){p(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Qk=function(){function e(t){p(this,e),this.t=t,this.currentUser=Nk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Wk;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Wk,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Mk("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Mk("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wk)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Mk("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Uk("string"==typeof n.accessToken),new Kk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Uk(null===e||"string"==typeof e),new Nk(e)}}]),e}(),$k=function(){function e(t,n,r){p(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Nk.FIRST_PARTY,this.I=new Map}return g(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Yk=function(){function e(t,n,r){p(this,e),this.l=t,this.h=n,this.P=r}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new $k(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Nk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Xk=g((function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Jk=function(){function e(t){p(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Mk("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Mk("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Mk("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Mk("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Uk("string"==typeof t.token),e.R=t.token,new Xk(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Zk(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ew=function(){function e(){p(this,e)}return g(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Zk(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function tw(e,t){return e<t?-1:e>t?1:0}function nw(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function rw(e){return e+"\0"}var iw=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new qk(Bk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qk(Bk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new qk(Bk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qk(Bk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?tw(this.nanoseconds,e.nanoseconds):tw(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),aw=function(){function e(t){p(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new iw(0,0))}},{key:"max",value:function(){return new e(new iw(253402300799,999999999))}}]),e}(),ow=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&Vk(),void 0===r?r=t.length-n:r>t.length-n&&Vk(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),uw=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new qk(Bk.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,h(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ow),sw=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cw=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return sw.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new qk(Bk.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new qk(Bk.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new qk(Bk.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new qk(Bk.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ow),lw=function(){function e(t){p(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===uw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(uw.fromString(t))}},{key:"fromName",value:function(t){return new e(uw.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(uw.emptyPath())}},{key:"comparator",value:function(e,t){return uw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new uw(t.slice()))}}]),e}(),fw=g((function e(t,n,r,i){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function dw(e){return e.fields.find((function(e){return 2===e.kind}))}function hw(e){return e.fields.filter((function(e){return 2!==e.kind}))}fw.UNKNOWN_ID=-1;var pw=g((function e(t,n){p(this,e),this.fieldPath=t,this.kind=n}));var vw=function(){function e(t,n){p(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,gw.min())}}]),e}();function mw(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=aw.fromTimestamp(1e9===r?new iw(n+1,0):new iw(n,r));return new gw(i,lw.empty(),t)}function yw(e){return new gw(e.readTime,e.key,-1)}var gw=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(aw.min(),lw.empty(),-1)}},{key:"max",value:function(){return new e(aw.max(),lw.empty(),-1)}}]),e}();function bw(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=lw.comparator(e.documentKey,t.documentKey))?n:tw(e.largestBatchId,t.largestBatchId)}var kw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ww=function(){function e(){p(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function xw(e){return _w.apply(this,arguments)}function _w(){return(_w=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Bk.FAILED_PRECONDITION&&t.message===kw){e.next=2;break}throw t;case 2:Mk("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sw=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Vk(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Ew=function(){function e(t,n){var r=this;p(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new Wk,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new Cw(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=Ow(e.target.error);r.m.reject(new Cw(t,n))}}return g(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(Mk("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Rw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Cw(n,t)}}}]),e}(),Iw=function(){function e(t,n,r){p(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(du())&&Lk("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"N",value:function(){var e=tu(Zo().mark((function e(t){var n=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Mk("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Cw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new qk(Bk.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new qk(Bk.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Cw(t,n))},i.onupgradeneeded=function(e){Mk("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){Mk("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=tu(Zo().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Zo().mark((function e(){var n,u,s,l;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=Ew.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),Sw.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.g;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Mk("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Mk("SimpleDb","Removing database:",e),Nw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"v",value:function(){if(!yu())return!1;if(e.C())return!0;var t=du(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/realtime_chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Tw=function(){function e(t){p(this,e),this.q=t,this.K=!1,this.$=null}return g(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return Nw(this.q.delete())}}]),e}(),Cw=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,Bk.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(qk);function Aw(e){return"IndexedDbTransactionError"===e.name}var Rw=function(){function e(t){p(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Mk("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Mk("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Nw(n)}},{key:"add",value:function(e){return Mk("SimpleDb","ADD",this.store.name,e,e),Nw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Nw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Mk("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Mk("SimpleDb","DELETE",this.store.name,e),Nw(this.store.delete(e))}},{key:"count",value:function(){return Mk("SimpleDb","COUNT",this.store.name),Nw(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Sw((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Sw((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Mk("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Sw((function(n,r){t.onerror=function(e){var t=Ow(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new Sw((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Tw(i),o=t(i.primaryKey,i.value,a);if(o instanceof Sw){var u=o.catch((function(e){return a.done(),Sw.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Sw.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Nw(e){return new Sw((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ow(e.target.error);n(t)}}))}var Pw=!1;function Ow(e){var t=Iw.D(du());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new qk("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Pw||(Pw=!0,setTimeout((function(){throw r}),0)),r}}return e}var Dw=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return g(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;Mk("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Mk,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Aw(e.t4)){e.next=17;break}Mk("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,xw(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Mw=function(){function e(t,n){p(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"ne",value:function(){var e=tu(Zo().mark((function e(){var t,n=this,r=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Sw.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Mk("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return Mk("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=yw(t);bw(r,n)>0&&(n=r)})),new gw(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Lw=function(){function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function Fw(e){return null==e}function zw(e){return 0===e&&1/e==-1/0}function Vw(e){return"number"==typeof e&&Number.isInteger(e)&&!zw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Uw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Bw(t)),t=jw(e.get(n),t);return Bw(t)}function jw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Bw(e){return e+"\x01\x01"}function qw(e){var t=e.length;if(Uk(t>=2),2===t)return Uk("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),uw.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Vk(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Vk()}a=o+2}return new uw(r)}Lw.ae=-1;var Ww=["userId","batchId"];function Kw(e,t){return[e,Uw(t)]}function Gw(e,t,n){return[e,Uw(t),n]}var Hw={},Qw=["prefixPath","collectionGroup","readTime","documentId"],$w=["prefixPath","collectionGroup","documentId"],Yw=["collectionGroup","readTime","prefixPath","documentId"],Xw=["canonicalId","targetId"],Jw=["targetId","path"],Zw=["path","targetId"],ex=["collectionId","parent"],tx=["indexId","uid"],nx=["uid","sequenceNumber"],rx=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ix=["indexId","uid","orderedDocumentKey"],ax=["userId","collectionPath","documentId"],ox=["userId","collectionPath","largestBatchId"],ux=["userId","collectionGroup","largestBatchId"],sx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),cx=[].concat(h(sx),["documentOverlays"]),lx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fx=lx,dx=[].concat(fx,["indexConfiguration","indexState","indexEntries"]),hx=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return g(n)}(ww);function px(e,t){var n=jk(e);return Iw.O(n.ue,t)}function vx(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function mx(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yx(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var gx=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||kx.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kx.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kx.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new bx(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new bx(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new bx(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new bx(this.root,e,this.comparator,!0)}}]),e}(),bx=function(){function e(t,n,r,i){p(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),kx=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Vk();if(this.right.isRed())throw Vk();var e=this.left.check();if(e!==this.right.check())throw Vk();return e+(this.isRed()?0:1)}}]),e}();kx.EMPTY=null,kx.RED=!0,kx.BLACK=!1,kx.EMPTY=new(function(){function e(){p(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw Vk()}},{key:"value",get:function(){throw Vk()}},{key:"color",get:function(){throw Vk()}},{key:"left",get:function(){throw Vk()}},{key:"right",get:function(){throw Vk()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new kx(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var wx=function(){function e(t){p(this,e),this.comparator=t,this.data=new gx(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new xx(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new xx(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),xx=function(){function e(t){p(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function _x(e){return e.hasNext()?e.getNext():void 0}var Sx=function(){function e(t){p(this,e),this.fields=t,t.sort(cw.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new wx(cw.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=C(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return nw(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Ex=function(e){k(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return g(n)}(I(Error));var Ix=function(e){function t(e){p(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return tw(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ex("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ix.EMPTY_BYTE_STRING=new Ix("");var Tx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cx(e){if(Uk(!!e),"string"==typeof e){var t=0,n=Tx.exec(e);if(Uk(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ax(e.seconds),nanos:Ax(e.nanos)}}function Ax(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rx(e){return"string"==typeof e?Ix.fromBase64String(e):Ix.fromUint8Array(e)}function Nx(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Px(e){var t=e.mapValue.fields.__previous_value__;return Nx(t)?Px(t):t}function Ox(e){var t=Cx(e.mapValue.fields.__local_write_time__.timestampValue);return new iw(t.seconds,t.nanos)}var Dx=g((function e(t,n,r,i,a,o,u,s,c){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),Mx=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Lx={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fx={nullValue:"NULL_VALUE"};function zx(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Nx(e)?4:Jx(e)?9007199254740991:10:Vk()}function Vx(e,t){if(e===t)return!0;var n=zx(e);if(n!==zx(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ox(e).isEqual(Ox(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Cx(e.timestampValue),r=Cx(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rx(e.bytesValue).isEqual(Rx(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ax(e.geoPointValue.latitude)===Ax(t.geoPointValue.latitude)&&Ax(e.geoPointValue.longitude)===Ax(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ax(e.integerValue)===Ax(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ax(e.doubleValue),r=Ax(t.doubleValue);return n===r?zw(n)===zw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return nw(e.arrayValue.values||[],t.arrayValue.values||[],Vx);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vx(n)!==vx(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vx(n[i],r[i])))return!1;return!0}(e,t);default:return Vk()}}function Ux(e,t){return void 0!==(e.values||[]).find((function(e){return Vx(e,t)}))}function jx(e,t){if(e===t)return 0;var n=zx(e),r=zx(t);if(n!==r)return tw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tw(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ax(e.integerValue||e.doubleValue),r=Ax(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bx(e.timestampValue,t.timestampValue);case 4:return Bx(Ox(e),Ox(t));case 5:return tw(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rx(e),r=Rx(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=tw(n[i],r[i]);if(0!==a)return a}return tw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=tw(Ax(e.latitude),Ax(t.latitude));return 0!==n?n:tw(Ax(e.longitude),Ax(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=jx(n[i],r[i]);if(a)return a}return tw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Lx.mapValue&&t===Lx.mapValue)return 0;if(e===Lx.mapValue)return 1;if(t===Lx.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=tw(r[o],a[o]);if(0!==u)return u;var s=jx(n[r[o]],i[a[o]]);if(0!==s)return s}return tw(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Vk()}}function Bx(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return tw(e,t);var n=Cx(e),r=Cx(t),i=tw(n.seconds,r.seconds);return 0!==i?i:tw(n.nanos,r.nanos)}function qx(e){return Wx(e)}function Wx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Cx(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Rx(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return lw.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Wx(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Wx(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Vk()}function Kx(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Gx(e){return!!e&&"integerValue"in e}function Hx(e){return!!e&&"arrayValue"in e}function Qx(e){return!!e&&"nullValue"in e}function $x(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yx(e){return!!e&&"mapValue"in e}function Xx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return mx(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xx(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xx(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Jx(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Zx(e){return"nullValue"in e?Fx:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Kx(Mx.empty(),lw.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Vk()}function e_(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Kx(Mx.empty(),lw.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Lx:Vk()}function t_(e,t){var n=jx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function n_(e,t){var n=jx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var r_=function(){function e(t){p(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Yx(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xx(t)}},{key:"setAll",value:function(e){var t=this,n=cw.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xx(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Yx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Vx(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Yx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){mx(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xx(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function i_(e){var t=[];return mx(e.fields,(function(e,n){var r=new cw([e]);if(Yx(n)){var i=i_(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Sx(t)}var a_=function(){function e(t,n,r,i,a,o,u){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(aw.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=r_.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=r_.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=aw.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,aw.min(),aw.min(),aw.min(),r_.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,aw.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,aw.min(),aw.min(),r_.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,aw.min(),aw.min(),r_.empty(),2)}}]),e}(),o_=g((function e(t,n){p(this,e),this.position=t,this.inclusive=n}));function u_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?lw.comparator(lw.fromName(o.referenceValue),n.key):jx(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function s_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Vx(e.position[n],t.position[n]))return!1;return!0}var c_=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n}));function l_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var f_=g((function e(){p(this,e)})),d_=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(jx(t,this.value)):null!==t&&zx(this.value)===zx(t)&&this.matchesComparison(jx(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vk()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new x_(e,t,r):"array-contains"===t?new I_(e,r):"in"===t?new T_(e,r):"not-in"===t?new C_(e,r):"array-contains-any"===t?new A_(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new __(e,n):new S_(e,n)}}]),n}(f_),h_=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return g(n,[{key:"matches",value:function(e){return p_(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(f_);function p_(e){return"and"===e.op}function v_(e){return"or"===e.op}function m_(e){return y_(e)&&p_(e)}function y_(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof h_)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function g_(e){if(e instanceof d_)return e.field.canonicalString()+e.op.toString()+qx(e.value);if(m_(e))return e.filters.map((function(e){return g_(e)})).join(",");var t=e.filters.map((function(e){return g_(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function b_(e,t){return e instanceof d_?function(e,t){return t instanceof d_&&e.op===t.op&&e.field.isEqual(t.field)&&Vx(e.value,t.value)}(e,t):e instanceof h_?function(e,t){return t instanceof h_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&b_(n,t.filters[r])}),!0)}(e,t):void Vk()}function k_(e,t){var n=e.filters.concat(t);return h_.create(n,e.op)}function w_(e){return e instanceof d_?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(qx(e.value))}(e):e instanceof h_?function(e){return e.op.toString()+" {"+e.getFilters().map(w_).join(" ,")+"}"}(e):"Filter"}var x_=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).key=lw.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=lw.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(d_),__=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"in",r)).keys=E_("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(d_),S_=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"not-in",r)).keys=E_("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(d_);function E_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return lw.fromName(e.referenceValue)}))}var I_=function(e){k(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Hx(t)&&Ux(t.arrayValue,this.value)}}]),n}(d_),T_=function(e){k(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ux(this.value.arrayValue,t)}}]),n}(d_),C_=function(e){k(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(Ux(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ux(this.value.arrayValue,t)}}]),n}(d_),A_=function(e){k(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Hx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ux(t.value.arrayValue,e)}))}}]),n}(d_),R_=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function N_(e){return new R_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function P_(e){var t=jk(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return g_(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Fw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return qx(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return qx(e)})).join(",")),t.he=n}return t.he}function O_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!l_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!b_(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!s_(e.startAt,t.startAt)&&s_(e.endAt,t.endAt)}function D_(e){return lw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function M_(e,t){return e.filters.filter((function(e){return e instanceof d_&&e.field.isEqual(t)}))}function L_(e,t,n){var r,i=Fx,a=!0,o=C(M_(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Fx,c=!0;switch(u.op){case"<":case"<=":s=Zx(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Fx}t_({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];t_({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function F_(e,t,n){var r,i=Lx,a=!0,o=C(M_(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Lx,c=!0;switch(u.op){case">=":case">":s=e_(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Lx}n_({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];n_({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var z_=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}));function V_(e,t,n,r,i,a,o,u){return new z_(e,t,n,r,i,a,o,u)}function U_(e){return new z_(e)}function j_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function B_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function q_(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function W_(e){return null!==e.collectionGroup}function K_(e){var t=jk(e);if(null===t.Pe){t.Pe=[];var n=q_(t),r=B_(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new c_(n)),t.Pe.push(new c_(cw.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new c_(cw.keyField(),s))}}}return t.Pe}function G_(e){var t=jk(e);return t.Ie||(t.Ie=H_(t,K_(e))),t.Ie}function H_(e,t){if("F"===e.limitType)return N_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new c_(e.field,t)}));var n=e.endAt?new o_(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new o_(e.startAt.position,e.startAt.inclusive):null;return N_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Q_(e,t){t.getFirstInequalityField(),q_(e);var n=e.filters.concat([t]);return new z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function $_(e,t,n){return new z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Y_(e,t){return O_(G_(e),G_(t))&&e.limitType===t.limitType}function X_(e){return"".concat(P_(G_(e)),"|lt:").concat(e.limitType)}function J_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return w_(e)})).join(", "),"]")),Fw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return qx(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return qx(e)})).join(",")),"Target(".concat(t,")")}(G_(e)),"; limitType=").concat(e.limitType,")")}function Z_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):lw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(K_(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=u_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,K_(e),t))&&!(e.endAt&&!function(e,t,n){var r=u_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,K_(e),t))}(e,t)}function eS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tS(e){return function(t,n){var r,i=!1,a=C(K_(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=nS(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function nS(e,t,n){var r=e.field.isKeyField()?lw.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?jx(r,i):Vk()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Vk()}}var rS=function(){function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){mx(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return yx(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),iS=new gx(lw.comparator);function aS(){return iS}var oS=new gx(lw.comparator);function uS(){for(var e=oS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function sS(e){var t=oS;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function cS(){return fS()}function lS(){return fS()}function fS(){return new rS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var dS=new gx(lw.comparator),hS=new wx(lw.comparator);function pS(){for(var e=hS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var vS=new wx(tw);function mS(){return vS}function yS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zw(t)?"-0":t}}function gS(e){return{integerValue:""+e}}function bS(e,t){return Vw(t)?gS(t):yS(e,t)}var kS=g((function e(){p(this,e),this._=void 0}));function wS(e,t,n){return e instanceof SS?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Nx(t)&&(t=Px(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ES?IS(e,t):e instanceof TS?CS(e,t):function(e,t){var n=_S(e,t),r=RS(n)+RS(e.Ee);return Gx(n)&&Gx(e.Ee)?gS(r):yS(e.serializer,r)}(e,t)}function xS(e,t,n){return e instanceof ES?IS(e,t):e instanceof TS?CS(e,t):n}function _S(e,t){return e instanceof AS?function(e){return Gx(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var SS=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(kS),ES=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(kS);function IS(e,t){var n,r=NS(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Vx(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var TS=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(kS);function CS(e,t){var n,r=NS(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Vx(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var AS=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).serializer=e,i.Ee=r,i}return g(n)}(kS);function RS(e){return Ax(e.integerValue||e.doubleValue)}function NS(e){return Hx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var PS=g((function e(t,n){p(this,e),this.field=t,this.transform=n}));var OS=g((function e(t,n){p(this,e),this.version=t,this.transformResults=n})),DS=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function MS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var LS=g((function e(){p(this,e)}));function FS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new $S(e.key,DS.none()):new BS(e.key,e.data,DS.none());var n,r=e.data,i=r_.empty(),a=new wx(cw.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new qS(e.key,i,new Sx(a.toArray()),DS.none())}function zS(e,t,n){e instanceof BS?function(e,t,n){var r=e.value.clone(),i=KS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qS?function(e,t,n){if(MS(e.precondition,t)){var r=KS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(WS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function VS(e,t,n,r){return e instanceof BS?function(e,t,n,r){if(!MS(e.precondition,t))return n;var i=e.value.clone(),a=GS(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof qS?function(e,t,n,r){if(!MS(e.precondition,t))return n;var i=GS(e.fieldTransforms,r,t),a=t.data;return a.setAll(WS(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return MS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function US(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=_S(a.transform,o||null);null!=u&&(null===r&&(r=r_.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function jS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&nw(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ES&&t instanceof ES||e instanceof TS&&t instanceof TS?nw(e.elements,t.elements,Vx):e instanceof AS&&t instanceof AS?Vx(e.Ee,t.Ee):e instanceof SS&&t instanceof SS}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var BS=function(e){k(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(LS),qS=function(e){k(n,e);var t=S(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(LS);function WS(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function KS(e,t,n){var r=new Map;Uk(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,xS(o,u,n[i]))}return r}function GS(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,wS(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var HS,QS,$S=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(LS),YS=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(LS),XS=function(){function e(t,n,r,i){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&zS(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=VS(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=VS(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=lS();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=FS(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(aw.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),pS())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&nw(this.mutations,e.mutations,(function(e,t){return jS(e,t)}))&&nw(this.baseMutations,e.baseMutations,(function(e,t){return jS(e,t)}))}}]),e}(),JS=function(){function e(t,n,r,i){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){Uk(t.mutations.length===r.length);for(var i=dS,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ZS=function(){function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),eE=g((function e(t,n){p(this,e),this.count=t,this.unchangedNames=n}));function tE(e){switch(e){default:return Vk();case Bk.CANCELLED:case Bk.UNKNOWN:case Bk.DEADLINE_EXCEEDED:case Bk.RESOURCE_EXHAUSTED:case Bk.INTERNAL:case Bk.UNAVAILABLE:case Bk.UNAUTHENTICATED:return!1;case Bk.INVALID_ARGUMENT:case Bk.NOT_FOUND:case Bk.ALREADY_EXISTS:case Bk.PERMISSION_DENIED:case Bk.FAILED_PRECONDITION:case Bk.ABORTED:case Bk.OUT_OF_RANGE:case Bk.UNIMPLEMENTED:case Bk.DATA_LOSS:return!0}}function nE(e){if(void 0===e)return Lk("GRPC error has no .code"),Bk.UNKNOWN;switch(e){case HS.OK:return Bk.OK;case HS.CANCELLED:return Bk.CANCELLED;case HS.UNKNOWN:return Bk.UNKNOWN;case HS.DEADLINE_EXCEEDED:return Bk.DEADLINE_EXCEEDED;case HS.RESOURCE_EXHAUSTED:return Bk.RESOURCE_EXHAUSTED;case HS.INTERNAL:return Bk.INTERNAL;case HS.UNAVAILABLE:return Bk.UNAVAILABLE;case HS.UNAUTHENTICATED:return Bk.UNAUTHENTICATED;case HS.INVALID_ARGUMENT:return Bk.INVALID_ARGUMENT;case HS.NOT_FOUND:return Bk.NOT_FOUND;case HS.ALREADY_EXISTS:return Bk.ALREADY_EXISTS;case HS.PERMISSION_DENIED:return Bk.PERMISSION_DENIED;case HS.FAILED_PRECONDITION:return Bk.FAILED_PRECONDITION;case HS.ABORTED:return Bk.ABORTED;case HS.OUT_OF_RANGE:return Bk.OUT_OF_RANGE;case HS.UNIMPLEMENTED:return Bk.UNIMPLEMENTED;case HS.DATA_LOSS:return Bk.DATA_LOSS;default:return Vk()}}(QS=HS||(HS={}))[QS.OK=0]="OK",QS[QS.CANCELLED=1]="CANCELLED",QS[QS.UNKNOWN=2]="UNKNOWN",QS[QS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",QS[QS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",QS[QS.NOT_FOUND=5]="NOT_FOUND",QS[QS.ALREADY_EXISTS=6]="ALREADY_EXISTS",QS[QS.PERMISSION_DENIED=7]="PERMISSION_DENIED",QS[QS.UNAUTHENTICATED=16]="UNAUTHENTICATED",QS[QS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",QS[QS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",QS[QS.ABORTED=10]="ABORTED",QS[QS.OUT_OF_RANGE=11]="OUT_OF_RANGE",QS[QS.UNIMPLEMENTED=12]="UNIMPLEMENTED",QS[QS.INTERNAL=13]="INTERNAL",QS[QS.UNAVAILABLE=14]="UNAVAILABLE",QS[QS.DATA_LOSS=15]="DATA_LOSS";var rE=function(){function e(){p(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return g(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return iE}},{key:"getOrCreateInstance",value:function(){return null===iE&&(iE=new e),iE}}]),e}(),iE=null;function aE(){return new TextEncoder}var oE=new Ak([4294967295,4294967295],0);function uE(e){var t=aE().encode(e),n=new Ck;return n.update(t),new Uint8Array(n.digest())}function sE(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Ak([n,r],0),new Ak([i,a],0)]}var cE=function(){function e(t,n,r){if(p(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lE("Invalid padding: ".concat(n));if(r<0)throw new lE("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new lE("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new lE("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=Ak.fromNumber(this.Ae)}return g(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(Ak.fromNumber(n)));return 1===r.compare(oE)&&(r=new Ak([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=f(sE(uE(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=f(sE(uE(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),lE=function(e){k(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return g(n)}(I(Error)),fE=function(){function e(t,n,r,i,a){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,dE.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(aw.min(),i,new gx(tw),aS(),pS())}}]),e}(),dE=function(){function e(t,n,r,i,a){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,pS(),pS(),pS())}}]),e}(),hE=g((function e(t,n,r,i){p(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),pE=g((function e(t,n){p(this,e),this.targetId=t,this.ye=n})),vE=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ix.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),mE=function(){function e(){p(this,e),this.we=0,this.Se=bE(),this.be=Ix.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}return g(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"Ce",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.ve}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}},{key:"xe",value:function(){var e=pS(),t=pS(),n=pS();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Vk()}})),new dE(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.ve=!1,this.Se=bE()}},{key:"Ne",value:function(e,t){this.ve=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.ve=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.ve=!0,this.De=!0}}]),e}(),yE=function(){function e(t){p(this,e),this.Qe=t,this.Ke=new Map,this.$e=aS(),this.Ue=gE(),this.We=new gx(tw)}return g(e,[{key:"Ge",value:function(e){var t,n=C(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(u){n.e(u)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(u){a.e(u)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:Vk()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t,n=e.targetId,r=e.ye.count,i=this.et(n);if(i){var a=i.target;if(D_(a))if(0===r){var o=new lw(a.path);this.je(n,o,a_.newNoDocument(o,aw.min()))}else Uk(1===r);else{var u=this.tt(n);if(u!==r){var s=this.nt(e),c=s?this.rt(s,e,u):1;if(0!==c){this.Ze(n);var l=2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,l)}null===(t=rE.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r,i){var a,o,u,s,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(l=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(u,e.ye,this.Qe.it(),s,c))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,c=t.hashCount,l=void 0===c?0:c;try{n=Rx(o).toUint8Array()}catch(e){if(e instanceof Ex)return Fk("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new cE(n,s,l)}catch(e){return Fk(e instanceof lE?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.st(e,t.targetId)?0:2}},{key:"st",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.it(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"ot",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&D_(a.target)){var o=new lw(a.target.path);null!==t.$e.get(o)||t._t(i,o)||t.je(i,o,a_.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=pS();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new fE(e,n,this.We,this.$e,r);return this.$e=aS(),this.Ue=gE(),this.We=new gx(tw),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this._t(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ut(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this._t(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ut(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new mE,this.Ke.set(e,t)),t}},{key:"ut",value:function(e){var t=this.Ue.get(e);return t||(t=new wx(tw),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||Mk("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.Ce?null:this.Qe.ct(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new mE),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"_t",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function gE(){return new gx(lw.comparator)}function bE(){return new gx(lw.comparator)}var kE={asc:"ASCENDING",desc:"DESCENDING"},wE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xE={and:"AND",or:"OR"},_E=g((function e(t,n){p(this,e),this.databaseId=t,this.useProto3Json=n}));function SE(e,t){return e.useProto3Json||Fw(t)?t:{value:t}}function EE(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function IE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function TE(e,t){return EE(e,t.toTimestamp())}function CE(e){return Uk(!!e),aw.fromTimestamp(function(e){var t=Cx(e);return new iw(t.seconds,t.nanos)}(e))}function AE(e,t){return function(e){return new uw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function RE(e){var t=uw.fromString(e);return Uk(ZE(t)),t}function NE(e,t){return AE(e.databaseId,t.path)}function PE(e,t){var n=RE(t);if(n.get(1)!==e.databaseId.projectId)throw new qk(Bk.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new qk(Bk.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new lw(LE(n))}function OE(e,t){return AE(e.databaseId,t)}function DE(e){var t=RE(e);return 4===t.length?uw.emptyPath():LE(t)}function ME(e){return new uw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function LE(e){return Uk(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function FE(e,t,n){return{name:NE(e,t),fields:n.value.mapValue.fields}}function zE(e,t,n){var r=PE(e,t.name),i=CE(t.updateTime),a=t.createTime?CE(t.createTime):aw.min(),o=new r_({mapValue:{fields:t.fields}}),u=a_.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function VE(e,t){return"found"in t?function(e,t){Uk(!!t.found),t.found.name,t.found.updateTime;var n=PE(e,t.found.name),r=CE(t.found.updateTime),i=t.found.createTime?CE(t.found.createTime):aw.min(),a=new r_({mapValue:{fields:t.found.fields}});return a_.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Uk(!!t.missing),Uk(!!t.readTime);var n=PE(e,t.missing),r=CE(t.readTime);return a_.newNoDocument(n,r)}(e,t):Vk()}function UE(e,t){var n;if(t instanceof BS)n={update:FE(e,t.key,t.value)};else if(t instanceof $S)n={delete:NE(e,t.key)};else if(t instanceof qS)n={update:FE(e,t.key,t.data),updateMask:JE(t.fieldMask)};else{if(!(t instanceof YS))return Vk();n={verify:NE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof SS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ES)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof TS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof AS)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw Vk()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:TE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Vk()}(e,t.precondition)),n}function jE(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?DS.updateTime(CE(e.updateTime)):void 0!==e.exists?DS.exists(e.exists):DS.none()}(t.currentDocument):DS.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Uk("REQUEST_TIME"===t.setToServerValue),n=new SS;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ES(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new TS(i)}else"increment"in t?n=new AS(e,t.increment):Vk();var a=cw.fromServerFormat(t.fieldPath);return new PS(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=PE(e,t.update.name),a=new r_({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Sx(t.map((function(e){return cw.fromServerFormat(e)})))}(t.updateMask);return new qS(i,a,o,n,r)}return new BS(i,a,n,r)}if(t.delete){var u=PE(e,t.delete);return new $S(u,n)}if(t.verify){var s=PE(e,t.verify);return new YS(s,n)}return Vk()}function BE(e,t){return{documents:[OE(e,t.path)]}}function qE(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=OE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=OE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return XE(h_.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:$E(e.field),direction:GE(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=SE(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function WE(e){var t=DE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Uk(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=KE(e);return t instanceof h_&&m_(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new c_(YE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return Fw(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new o_(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new o_(n,t)}(n.endAt)),V_(t,i,u,o,s,"F",c,l)}function KE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=YE(e.unaryFilter.field);return d_.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=YE(e.unaryFilter.field);return d_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=YE(e.unaryFilter.field);return d_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=YE(e.unaryFilter.field);return d_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Vk()}}(e):void 0!==e.fieldFilter?function(e){return d_.create(YE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vk()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return h_.create(e.compositeFilter.filters.map((function(e){return KE(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Vk()}}(e.compositeFilter.op))}(e):Vk()}function GE(e){return kE[e]}function HE(e){return wE[e]}function QE(e){return xE[e]}function $E(e){return{fieldPath:e.canonicalString()}}function YE(e){return cw.fromServerFormat(e.fieldPath)}function XE(e){return e instanceof d_?function(e){if("=="===e.op){if($x(e.value))return{unaryFilter:{field:$E(e.field),op:"IS_NAN"}};if(Qx(e.value))return{unaryFilter:{field:$E(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($x(e.value))return{unaryFilter:{field:$E(e.field),op:"IS_NOT_NAN"}};if(Qx(e.value))return{unaryFilter:{field:$E(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$E(e.field),op:HE(e.op),value:e.value}}}(e):e instanceof h_?function(e){var t=e.getFilters().map((function(e){return XE(e)}));return 1===t.length?t[0]:{compositeFilter:{op:QE(e.op),filters:t}}}(e):Vk()}function JE(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ZE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var eI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:aw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:aw.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ix.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),tI=g((function e(t){p(this,e),this.lt=t}));function nI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:rI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:NE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:EE(e,t.version.toTimestamp()),createTime:EE(e,t.createTime.toTimestamp())}}(e.lt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:iI(t.version)};else{if(!t.isUnknownDocument())return Vk();r.unknownDocument={path:n.path.toArray(),version:iI(t.version)}}return r}function rI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function iI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function aI(e){var t=new iw(e.seconds,e.nanoseconds);return aw.fromTimestamp(t)}function oI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return jE(e.lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return jE(e.lt,t)})),u=iw.fromMillis(t.localWriteTimeMs);return new XS(t.batchId,u,n,o)}function uI(e){var t,n=aI(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?aI(e.lastLimboFreeSnapshotVersion):aw.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return Uk(1===e.documents.length),G_(U_(DE(e.documents[0])))}(e.query):function(e){return G_(WE(e))}(e.query),new eI(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,Ix.fromBase64String(e.resumeToken))}function sI(e,t){var n,r=iI(t.snapshotVersion),i=iI(t.lastLimboFreeSnapshotVersion);n=D_(t.target)?BE(e.lt,t.target):qE(e.lt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:P_(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function cI(e){var t=WE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$_(t,t.limit,"L"):t}function lI(e,t){return new ZS(t.largestBatchId,jE(e.lt,t.overlayMutation))}function fI(e,t){var n=t.path.lastSegment();return[e,Uw(t.path.popLast()),n]}function dI(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:iI(r.readTime),documentKey:Uw(r.documentKey.path),largestBatchId:r.largestBatchId}}var hI=function(){function e(){p(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return pI(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:aI(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return pI(e).put(function(e){return{bundleId:e.id,createTime:iI(CE(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return vI(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:cI(e.bundledQuery),readTime:aI(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return vI(e).put(function(e){return{name:e.name,readTime:iI(CE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function pI(e){return px(e,"bundles")}function vI(e){return px(e,"namedQueries")}var mI=function(){function e(t,n){p(this,e),this.serializer=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return yI(e).get(fI(this.userId,t)).next((function(e){return e?lI(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=cS();return Sw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new ZS(t,a);i.push(r.Pt(e,o))})),Sw.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Uw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(yI(e).J("collectionPathOverlayIndex",i))})),Sw.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=cS(),a=Uw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return yI(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=lI(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=cS(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yI(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=lI(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Pt",value:function(e,t){return yI(e).put(function(e,t,n){var r=f(fI(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:UE(e.lt,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ht",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function yI(e){return px(e,"documentOverlays")}var gI=function(){function e(){p(this,e)}return g(e,[{key:"It",value:function(e,t){this.Tt(e,t),t.Et()}},{key:"Tt",value:function(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ax(e.integerValue));else if("doubleValue"in e){var n=Ax(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),zw(n)?t.At(0):t.At(n))}else if("timestampValue"in e){var r=e.timestampValue;this.dt(t,20),"string"==typeof r?t.Rt(r):(t.Rt("".concat(r.seconds||"")),t.At(r.nanos||0))}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Rx(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?Jx(e)?this.dt(t,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.St(e.arrayValue,t),this.ft(t)):Vk()}},{key:"Vt",value:function(e,t){this.dt(t,25),this.bt(e,t)}},{key:"bt",value:function(e,t){t.Rt(e)}},{key:"wt",value:function(e,t){var n=e.fields||{};this.dt(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Vt(a,t),this.Tt(n[a],t)}}},{key:"St",value:function(e,t){var n=e.values||[];this.dt(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Tt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"yt",value:function(e,t){var n=this;this.dt(t,37),lw.fromName(e).path.forEach((function(e){n.dt(t,60),n.bt(e,t)}))}},{key:"dt",value:function(e,t){e.At(t)}},{key:"ft",value:function(e){e.At(2)}}]),e}();function bI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function kI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=bI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}gI.Dt=new gI;var wI=function(){function e(){p(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ct(n.value),n=t.next();this.Ft()}},{key:"Mt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.xt(n.value),n=t.next();this.Ot()}},{key:"Nt",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{var a=r.codePointAt(0);this.Ct(240|a>>>18),this.Ct(128|63&a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ft()}},{key:"Bt",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.xt(i);else if(i<2048)this.xt(960|i>>>6),this.xt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.xt(480|i>>>12),this.xt(128|63&i>>>6),this.xt(128|63&i);else{var a=r.codePointAt(0);this.xt(240|a>>>18),this.xt(128|63&a>>>12),this.xt(128|63&a>>>6),this.xt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ot()}},{key:"Lt",value:function(e){var t=this.kt(e),n=kI(t);this.qt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Qt",value:function(e){var t=this.kt(e),n=kI(t);this.qt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Kt",value:function(){this.$t(255),this.$t(255)}},{key:"Ut",value:function(){this.Wt(255),this.Wt(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Gt",value:function(){return this.buffer.slice(0,this.position)}},{key:"kt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ct",value:function(e){var t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(t)}},{key:"xt",value:function(e){var t=255&e;0===t?(this.Wt(0),this.Wt(255)):255===t?(this.Wt(255),this.Wt(0)):this.Wt(e)}},{key:"Ft",value:function(){this.$t(0),this.$t(1)}},{key:"Ot",value:function(){this.Wt(0),this.Wt(1)}},{key:"$t",value:function(e){this.qt(1),this.buffer[this.position++]=e}},{key:"Wt",value:function(e){this.qt(1),this.buffer[this.position++]=~e}},{key:"qt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),xI=function(){function e(t){p(this,e),this.zt=t}return g(e,[{key:"gt",value:function(e){this.zt.vt(e)}},{key:"Rt",value:function(e){this.zt.Nt(e)}},{key:"At",value:function(e){this.zt.Lt(e)}},{key:"Et",value:function(){this.zt.Kt()}}]),e}(),_I=function(){function e(t){p(this,e),this.zt=t}return g(e,[{key:"gt",value:function(e){this.zt.Mt(e)}},{key:"Rt",value:function(e){this.zt.Bt(e)}},{key:"At",value:function(e){this.zt.Qt(e)}},{key:"Et",value:function(){this.zt.Ut()}}]),e}(),SI=function(){function e(){p(this,e),this.zt=new wI,this.jt=new xI(this.zt),this.Ht=new _I(this.zt)}return g(e,[{key:"seed",value:function(e){this.zt.seed(e)}},{key:"Jt",value:function(e){return 0===e?this.jt:this.Ht}},{key:"Gt",value:function(){return this.zt.Gt()}},{key:"reset",value:function(){this.zt.reset()}}]),e}(),EI=function(){function e(t,n,r,i){p(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Yt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function II(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=TI(e.arrayValue,t.arrayValue))?n:0!==(n=TI(e.directionalValue,t.directionalValue))?n:lw.comparator(e.documentKey,t.documentKey)}function TI(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var CI=function(){function e(t){p(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.en=i:this.Xt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"tn",value:function(e){Uk(e.collectionGroup===this.collectionId);var t=dw(e);if(void 0!==t&&!this.nn(t))return!1;for(var n=hw(e),r=new Set,i=0,a=0;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.en){if(!r.has(this.en.field.canonicalString())){var o=n[i];if(!this.rn(this.en,o)||!this.sn(this.Zt[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Zt.length||!this.sn(this.Zt[a++],u))return!1}return!0}},{key:"nn",value:function(e){var t,n=C(this.Xt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.rn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"rn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function AI(e){var t,n;if(Uk(e instanceof d_||e instanceof h_),e instanceof d_){if(e instanceof T_){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return d_.create(e.field,"==",t)})))||[];return h_.create(r,"or")}return e}var i=e.filters.map((function(e){return AI(e)}));return h_.create(i,e.op)}function RI(e){if(0===e.getFilters().length)return[];var t=DI(AI(e));return Uk(OI(t)),NI(t)||PI(t)?[t]:t.getFilters()}function NI(e){return e instanceof d_}function PI(e){return e instanceof h_&&m_(e)}function OI(e){return NI(e)||PI(e)||function(e){if(e instanceof h_&&v_(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!NI(r)&&!PI(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function DI(e){if(Uk(e instanceof d_||e instanceof h_),e instanceof d_)return e;if(1===e.filters.length)return DI(e.filters[0]);var t=e.filters.map((function(e){return DI(e)})),n=h_.create(t,e.op);return OI(n=FI(n))?n:(Uk(n instanceof h_),Uk(p_(n)),Uk(n.filters.length>1),n.filters.reduce((function(e,t){return MI(e,t)})))}function MI(e,t){var n;return Uk(e instanceof d_||e instanceof h_),Uk(t instanceof d_||t instanceof h_),n=e instanceof d_?t instanceof d_?function(e,t){return h_.create([e,t],"and")}(e,t):LI(e,t):t instanceof d_?LI(t,e):function(e,t){if(Uk(e.filters.length>0&&t.filters.length>0),p_(e)&&p_(t))return k_(e,t.getFilters());var n=v_(e)?e:t,r=v_(e)?t:e,i=n.filters.map((function(e){return MI(e,r)}));return h_.create(i,"or")}(e,t),FI(n)}function LI(e,t){if(p_(t))return k_(t,e.getFilters());var n=t.filters.map((function(t){return MI(e,t)}));return h_.create(n,"or")}function FI(e){if(Uk(e instanceof d_||e instanceof h_),e instanceof d_)return e;var t=e.getFilters();if(1===t.length)return FI(t[0]);if(y_(e))return e;var n=t.map((function(e){return FI(e)})),r=[];return n.forEach((function(t){t instanceof d_?r.push(t):t instanceof h_&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:h_.create(r,e.op)}var zI=function(){function e(){p(this,e),this.on=new VI}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.on.add(t),Sw.resolve()}},{key:"getCollectionParents",value:function(e,t){return Sw.resolve(this.on.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Sw.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Sw.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Sw.resolve(null)}},{key:"getIndexType",value:function(e,t){return Sw.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Sw.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Sw.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Sw.resolve(gw.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Sw.resolve(gw.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Sw.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Sw.resolve()}}]),e}(),VI=function(){function e(){p(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new wx(uw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new wx(uw.comparator)).toArray()}}]),e}(),UI=new Uint8Array(0),jI=function(){function e(t,n){p(this,e),this.user=t,this.databaseId=n,this._n=new VI,this.an=new rS((function(e){return P_(e)}),(function(e,t){return O_(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this._n.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n._n.add(t)}));var a={collectionId:r,parent:Uw(i)};return BI(e).put(a)}return Sw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[rw(t),""],!1,!0);return BI(e).G(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(qw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=WI(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=KI(e);return a.next((function(e){o.put(dI(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=WI(e),r=KI(e),i=qI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=qI(e),i=!0,a=new Map;return Sw.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=pS(),o=[];return Sw.forEach(a,(function(i,a){Mk("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(P_(t)));var u=function(e,t){var n=dw(t);if(void 0===n)return null;var r,i=C(M_(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=C(hw(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=C(M_(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=C(hw(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?L_(e,o.fieldPath,e.startAt):F_(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new o_(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(hw(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?F_(e,o.fieldPath,e.endAt):L_(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new o_(r,i)}(a,i),f=n.ln(i,a,c),d=n.ln(i,a,l),h=n.hn(i,a,s),p=n.Pn(i.indexId,u,f,c.inclusive,d,l.inclusive,h);return Sw.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=lw.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Sw.resolve(null)}))}},{key:"un",value:function(e){var t=this.an.get(e);return t||(t=0===e.filters.length?[e]:RI(h_.create(e.filters,"and")).map((function(t){return N_(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.an.set(e,t),t)}},{key:"Pn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.In(t[d/c]):UI,f=u.Tn(e,s,n[d%c],r),p=u.En(e,s,i[d%c],a),v=o.map((function(t){return u.Tn(e,s,t,!0)}));l.push.apply(l,h(u.createRange(f,p,v)))},d=0;d<s;++d)f();return l}},{key:"Tn",value:function(e,t,n,r){var i=new EI(e,lw.empty(),t,n);return r?i:i.Yt()}},{key:"En",value:function(e,t,n,r){var i=new EI(e,lw.empty(),t,n);return r?i.Yt():i}},{key:"cn",value:function(e,t){var n=new CI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return Sw.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new wx(cw.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=C(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"dn",value:function(e,t){var n,r=new SI,i=C(hw(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Jt(a.kind);gI.Dt.It(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Gt()}},{key:"In",value:function(e){var t=new SI;return gI.Dt.It(e,t.Jt(0)),t.Gt()}},{key:"An",value:function(e,t){var n=new SI;return gI.Dt.It(Kx(this.databaseId,t),n.Jt(function(e){var t=hw(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Gt()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new SI);var i,a=0,o=C(hw(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=C(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.Rn(t,s.fieldPath)&&Hx(c))r=this.Vn(r,s,c);else{var d=f.Jt(s.kind);gI.Dt.It(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.mn(r)}},{key:"ln",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"mn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Gt();return t}},{key:"Vn",value:function(e,t,n){var r,i=h(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=C(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new SI;f.seed(l.Gt()),gI.Dt.It(s,f.Jt(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"Rn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof d_&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=WI(e),i=KI(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return Sw.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new vw(t.sequenceNumber,new gw(aI(t.readTime),new lw(qw(t.documentKey)),t.largestBatchId)):vw.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new pw(cw.fromServerFormat(n),r)}));return new fw(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:tw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=WI(e),a=KI(e);return this.fn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Sw.forEach(t,(function(t){return a.put(dI(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Sw.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Sw.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Sw.forEach(a,(function(r){return n.gn(e,t,r).next((function(t){var a=n.pn(i,r);return t.isEqual(a)?Sw.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return qI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Sn",value:function(e,t,n,r){return qI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}},{key:"gn",value:function(e,t,n){var r=qI(e),i=new wx(II);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},(function(e,r){i=i.add(new EI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"pn",value:function(e,t){var n=new wx(II),r=this.dn(t,e);if(null==r)return n;var i=dw(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Hx(a)){var o,u=C(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new EI(t.indexId,e.key,this.In(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new EI(t.indexId,e.key,UI,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;Mk("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=_x(a),s=_x(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=_x(o)):l?(i(u),u=_x(a)):(u=_x(a),s=_x(o))}}(r,i,II,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.Sn(e,t,n,r))})),Sw.waitFor(o)}},{key:"fn",value:function(e){var t=1;return KI(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return II(e,t)})).filter((function(e,t,n){return!t||0!==II(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=II(o,e),s=II(o,t);if(0===u)r[0]=e.Yt();else if(u>0&&s<0)r.push(o),r.push(o.Yt());else if(s>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,UI,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,UI,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"bn",value:function(e,t){return II(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(GI)}},{key:"getMinOffset",value:function(e,t){var n=this;return Sw.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||Vk()}))})).next(GI)}}]),e}();function BI(e){return px(e,"collectionParents")}function qI(e){return px(e,"indexEntries")}function WI(e){return px(e,"indexConfiguration")}function KI(e){return px(e,"indexState")}function GI(e){Uk(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;bw(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new gw(t.readTime,t.documentKey,n)}var HI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QI=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function $I(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Uk(1===u)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=Gw(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return Sw.waitFor(a).next((function(){return l}))}function YI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Vk();t=e.noDocument}return JSON.stringify(t).length}QI.DEFAULT_COLLECTION_PERCENTILE=10,QI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,QI.DEFAULT=new QI(41943040,QI.DEFAULT_COLLECTION_PERCENTILE,QI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),QI.DISABLED=new QI(-1,0,0);var XI=function(){function e(t,n,r,i){p(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ZI(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=eT(e),o=ZI(e);return o.add({}).next((function(u){Uk("number"==typeof u);var s,c=new XS(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return UE(e.lt,t)})),i=n.mutations.map((function(t){return UE(e.lt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],d=new wx((function(e,t){return tw(e.canonicalString(),t.canonicalString())})),h=C(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=Gw(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Hw))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Dn[u]=c.keys()})),Sw.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ZI(e).get(t).next((function(e){return e?(Uk(e.userId===n.userId),oI(n.serializer,e)):null}))}},{key:"vn",value:function(e,t){var n=this;return this.Dn[t]?Sw.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Dn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ZI(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Uk(t.batchId>=r),a=oI(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ZI(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ZI(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return oI(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Kw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return eT(e).Z({range:i},(function(r,i,o){var u=f(r,3),s=u[0],c=u[1],l=u[2],d=qw(c);if(s===n.userId&&t.path.isEqual(d))return ZI(e).get(l).next((function(e){if(!e)throw Vk();Uk(e.userId===n.userId),a.push(oI(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new wx(tw),i=[];return t.forEach((function(t){var a=Kw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=eT(e).Z({range:o},(function(e,i,a){var o=f(e,3),u=o[0],s=o[1],c=o[2],l=qw(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Sw.waitFor(i).next((function(){return n.Cn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Kw(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new wx(tw);return eT(e).Z({range:o},(function(e,t,a){var o=f(e,3),s=o[0],c=o[1],l=o[2],d=qw(c);s===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Cn(e,u)}))}},{key:"Cn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ZI(e).get(t).next((function(e){if(null===e)throw Vk();Uk(e.userId===n.userId),r.push(oI(n.serializer,e))})))})),Sw.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return $I(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Fn(t.batchId)})),Sw.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Fn",value:function(e){delete this.Dn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Sw.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return eT(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=qw(e[1]);i.push(a)}else r.done()})).next((function(){Uk(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return JI(e,this.userId,t)}},{key:"Mn",value:function(e){var t=this;return tT(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ht",value:function(t,n,r,i){return Uk(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function JI(e,t,n){var r=Kw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return eT(e).Z({range:a,Y:!0},(function(e,n,r){var a=f(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function ZI(e){return px(e,"mutations")}function eT(e){return px(e,"documentMutations")}function tT(e){return px(e,"mutationQueues")}var nT=function(){function e(t){p(this,e),this.xn=t}return g(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"On",value:function(){return new e(0)}},{key:"Nn",value:function(){return new e(-1)}}]),e}(),rT=function(){function e(t,n){p(this,e),this.referenceDelegate=t,this.serializer=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Bn(e).next((function(n){var r=new nT(n.highestTargetId);return n.highestTargetId=r.next(),t.Ln(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Bn(e).next((function(e){return aw.fromTimestamp(new iw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ln(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.kn(e,t).next((function(){return n.Bn(e).next((function(r){return r.targetCount+=1,n.qn(t,r),n.Ln(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.kn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return iT(e).delete(t.targetId)})).next((function(){return n.Bn(e)})).next((function(t){return Uk(t.targetCount>0),t.targetCount-=1,n.Ln(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return iT(e).Z((function(o,u){var s=uI(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Sw.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return iT(e).Z((function(e,n){var r=uI(n);t(r)}))}},{key:"Bn",value:function(e){return aT(e).get("targetGlobalKey").next((function(e){return Uk(null!==e),e}))}},{key:"Ln",value:function(e,t){return aT(e).put("targetGlobalKey",t)}},{key:"kn",value:function(e,t){return iT(e).put(sI(this.serializer,t))}},{key:"qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=P_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return iT(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=uI(n);O_(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=oT(e);return t.forEach((function(t){var o=Uw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Sw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=oT(e);return Sw.forEach(t,(function(t){var a=Uw(t.path);return Sw.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=oT(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=oT(e),i=pS();return r.Z({range:n,Y:!0},(function(e,t,n){var r=qw(e[1]),a=new lw(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Uw(t.path),r=IDBKeyRange.bound([n],[rw(n)],!1,!0),i=0;return oT(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ct",value:function(e,t){return iT(e).get(t).next((function(e){return e?uI(e):null}))}}]),e}();function iT(e){return px(e,"targets")}function aT(e){return px(e,"targetGlobal")}function oT(e){return px(e,"targetDocuments")}function uT(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],u=a[1],s=tw(r,o);return 0===s?tw(i,u):s}var sT=function(){function e(t){p(this,e),this.Qn=t,this.buffer=new wx(uT),this.Kn=0}return g(e,[{key:"$n",value:function(){return++this.Kn}},{key:"Un",value:function(e){var t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();uT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),cT=function(){function e(t,n,r){p(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Wn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}},{key:"started",get:function(){return null!==this.Wn}},{key:"Gn",value:function(e){var t=this;Mk("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Wn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Aw(e.t0)){e.next=12;break}Mk("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,xw(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),lT=function(){function e(t,n){p(this,e),this.zn=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.zn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Sw.resolve(Lw.ae);var r=new sT(t);return this.zn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.zn.Hn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.zn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.zn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Mk("LruGarbageCollector","Garbage collection skipped; disabled"),Sw.resolve(HI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Mk("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),HI):n.Jn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.zn.getCacheSize(e)}},{key:"Jn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Mk("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Dk()<=Fu.DEBUG&&Mk("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Sw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function fT(e,t){return new lT(e,t)}var dT=function(){function e(t,n){p(this,e),this.db=t,this.garbageCollector=fT(this,n)}return g(e,[{key:"jn",value:function(e){var t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Yn",value:function(e){var t=0;return this.Hn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Hn",value:function(e,t){return this.Zn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return hT(e,n)}},{key:"removeReference",value:function(e,t,n){return hT(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return hT(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return tT(e).X((function(r){return JI(e,r,t).next((function(e){return e&&(n=!0),Sw.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Zn(e,(function(o,u){if(u<=t){var s=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,aw.min()),oT(e).delete(function(e){return[0,Uw(e.path)]}(o))}))}));i.push(s)}})).next((function(){return Sw.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return hT(e,t)}},{key:"Zn",value:function(e,t){var n,r=oT(e),i=Lw.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Lw.ae&&t(new lw(qw(n)),i),i=s,n=u):i=Lw.ae})).next((function(){i!==Lw.ae&&t(new lw(qw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function hT(e,t){return oT(e).put(function(e,t){return{targetId:0,path:Uw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var pT=function(){function e(){p(this,e),this.changes=new rS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,a_.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Sw.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),vT=function(){function e(t){p(this,e),this.serializer=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return bT(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return bT(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],rI(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.er(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=a_.newInvalidDocument(t);return bT(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(kT(t))},(function(e,i){r=n.tr(t,i)})).next((function(){return r}))}},{key:"nr",value:function(e,t){var n=this,r={size:0,document:a_.newInvalidDocument(t)};return bT(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(kT(t))},(function(e,i){r={document:n.tr(t,i),size:YI(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=aS();return this.rr(e,t,(function(e,t){var i=n.tr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r=aS(),i=new gx(lw.comparator);return this.rr(e,t,(function(e,t){var a=n.tr(e,t);r=r.insert(e,a),i=i.insert(e,YI(t))})).next((function(){return{documents:r,sr:i}}))}},{key:"rr",value:function(e,t,n){if(t.isEmpty())return Sw.resolve();var r=new wx(xT);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(kT(r.first()),kT(r.last())),a=r.getIterator(),o=a.getNext();return bT(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=lw.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&xT(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(kT(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),rI(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bT(e).G(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=aS(),o=C(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.tr(lw.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Z_(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=aS(),o=wT(t,n),u=wT(t,gw.max());return bT(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.tr(lw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new yT(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return gT(e).get("remoteDocumentGlobalKey").next((function(e){return Uk(!!e),e}))}},{key:"er",value:function(e,t){return gT(e).put("remoteDocumentGlobalKey",t)}},{key:"tr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=zE(e.lt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=lw.fromSegments(t.noDocument.path),i=aI(t.noDocument.readTime);n=a_.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Vk();var a=lw.fromSegments(t.unknownDocument.path),o=aI(t.unknownDocument.version);n=a_.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new iw(e[0],e[1]);return aw.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(aw.min()))return n}return a_.newInvalidDocument(e)}}]),e}();function mT(e){return new vT(e)}var yT=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._r=e,i.trackRemovals=r,i.ar=new rS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new wx((function(e,t){return tw(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ar.get(a);if(n.push(t._r.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=nI(t._r.serializer,o);i=i.add(a.path.popLast());var c=YI(s);r+=c-u.size,n.push(t._r.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=nI(t._r.serializer,o.convertToNoDocument(aw.min()));n.push(t._r.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t._r.indexManager.addToCollectionParentIndex(e,r))})),n.push(this._r.updateMetadata(e,r)),Sw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this._r.nr(e,t).next((function(e){return n.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this._r.ir(e,t).next((function(e){var t=e.documents;return e.sr.forEach((function(e,r){n.ar.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(pT);function gT(e){return px(e,"remoteDocumentGlobal")}function bT(e){return px(e,"remoteDocumentsV14")}function kT(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function wT(e,t){var n=t.documentKey.path.toArray();return[e,rI(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function xT(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=tw(n[a],r[a]))return i;return(i=tw(n.length,r.length))||((i=tw(n[n.length-2],r[r.length-2]))||tw(n[n.length-1],r[r.length-1]))}var _T=g((function e(t,n){p(this,e),this.overlayedDocument=t,this.mutatedFields=n})),ST=function(){function e(t,n,r,i){p(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&VS(r.mutation,e,Sx.empty(),iw.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,pS()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pS(),i=cS();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=uS();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=cS();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,pS())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=aS(),a=fS(),o=fS();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof qS)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),VS(o.mutation,t,o.mutation.getFieldMask(),iw.now())):a.set(t.key,Sx.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new _T(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=fS(),i=new gx((function(e,t){return e-t})),a=pS();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Sx.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||pS()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=lS();c.forEach((function(e){if(!a.has(e)){var n=FS(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Sw.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return lw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):W_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Sw.resolve(cS()),u=-1,s=a;return o.next((function(t){return Sw.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Sw.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,pS())})).next((function(e){return{batchId:u,changes:sS(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new lw(t)).next((function(e){var t=uS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=uS();return this.indexManager.getCollectionParents(e,i).next((function(o){return Sw.forEach(o,(function(o){var u=function(e,t){return new z_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,a_.newInvalidDocument(r)))}));var n=uS();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&VS(a.mutation,i,Sx.empty(),iw.now()),Z_(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),ET=function(){function e(t){p(this,e),this.serializer=t,this.ur=new Map,this.cr=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return Sw.resolve(this.ur.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:CE(e.createTime)}}(t)),Sw.resolve()}},{key:"getNamedQuery",value:function(e,t){return Sw.resolve(this.cr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:cI(e.bundledQuery),readTime:CE(e.readTime)}}(t)),Sw.resolve()}}]),e}(),IT=function(){function e(){p(this,e),this.overlays=new gx(lw.comparator),this.lr=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return Sw.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=cS();return Sw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Pt(e,t,i)})),Sw.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.lr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.lr.delete(n)),Sw.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=cS(),i=t.length+1,a=new lw(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Sw.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new gx((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=cS(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=cS(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Sw.resolve(s)}},{key:"Pt",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new ZS(t,n));var a=this.lr.get(t);void 0===a&&(a=pS(),this.lr.set(t,a)),this.lr.set(t,a.add(n.key))}}]),e}(),TT=function(){function e(){p(this,e),this.hr=new wx(CT.Pr),this.Ir=new wx(CT.Tr)}return g(e,[{key:"isEmpty",value:function(){return this.hr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new CT(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}},{key:"Er",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.dr(new CT(e,t))}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Rr",value:function(e){var t=this,n=new lw(new uw([])),r=new CT(n,e),i=new CT(n,e+1),a=[];return this.Ir.forEachInRange([r,i],(function(e){t.dr(e),a.push(e.key)})),a}},{key:"Vr",value:function(){var e=this;this.hr.forEach((function(t){return e.dr(t)}))}},{key:"dr",value:function(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}},{key:"mr",value:function(e){var t=new lw(new uw([])),n=new CT(t,e),r=new CT(t,e+1),i=pS();return this.Ir.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new CT(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),CT=function(){function e(t,n){p(this,e),this.key=t,this.gr=n}return g(e,null,[{key:"Pr",value:function(e,t){return lw.comparator(e.key,t.key)||tw(e.gr,t.gr)}},{key:"Tr",value:function(e,t){return tw(e.gr,t.gr)||lw.comparator(e.key,t.key)}}]),e}(),AT=function(){function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new wx(CT.Pr)}return g(e,[{key:"checkEmpty",value:function(e){return Sw.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new XS(i,t,n,r);this.mutationQueue.push(a);var o,u=C(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.yr=this.yr.add(new CT(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Sw.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Sw.resolve(this.wr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Sr(n),i=r<0?0:r;return Sw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Sw.resolve(0===this.mutationQueue.length?-1:this.pr-1)}},{key:"getAllMutationBatches",value:function(e){return Sw.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new CT(t,0),i=new CT(t,Number.POSITIVE_INFINITY),a=[];return this.yr.forEachInRange([r,i],(function(e){var t=n.wr(e.gr);a.push(t)})),Sw.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new wx(tw);return t.forEach((function(e){var t=new CT(e,0),i=new CT(e,Number.POSITIVE_INFINITY);n.yr.forEachInRange([t,i],(function(e){r=r.add(e.gr)}))})),Sw.resolve(this.br(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;lw.isDocumentKey(i)||(i=i.child(""));var a=new CT(new lw(i),0),o=new wx(tw);return this.yr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),a),Sw.resolve(this.br(o))}},{key:"br",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.wr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Uk(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.yr;return Sw.forEach(t.mutations,(function(i){var a=new CT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.yr=r}))}},{key:"Fn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new CT(t,0),r=this.yr.firstAfterOrEqual(n);return Sw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Sw.resolve()}},{key:"Dr",value:function(e,t){return this.Sr(e)}},{key:"Sr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"wr",value:function(e){var t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),RT=function(){function e(t){p(this,e),this.vr=t,this.docs=new gx(lw.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Sw.resolve(n?n.document.mutableCopy():a_.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=aS();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():a_.newInvalidDocument(e))})),Sw.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=aS(),a=t.path,o=new lw(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||bw(yw(l),n)<=0||(r.has(l.key)||Z_(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Sw.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Vk()}},{key:"Cr",value:function(e,t){return Sw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new NT(this)}},{key:"getSize",value:function(e){return Sw.resolve(this.size)}}]),e}(),NT=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this))._r=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t._r.addEntry(e,i)):t._r.removeEntry(r)})),Sw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this._r.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this._r.getEntries(e,t)}}]),n}(pT),PT=function(){function e(t){p(this,e),this.persistence=t,this.Fr=new rS((function(e){return P_(e)}),O_),this.lastRemoteSnapshotVersion=aw.min(),this.highestTargetId=0,this.Mr=0,this.Or=new TT,this.targetCount=0,this.Nr=nT.On()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.Fr.forEach((function(e,n){return t(n)})),Sw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Sw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Sw.resolve(this.Mr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Nr.next(),Sw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Sw.resolve()}},{key:"kn",value:function(e){this.Fr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Nr=new nT(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.kn(t),this.targetCount+=1,Sw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.kn(t),Sw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Sw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Sw.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Sw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fr.get(t)||null;return Sw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Or.Er(t,n),Sw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Or.Ar(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Sw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Or.Rr(t),Sw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Or.mr(t);return Sw.resolve(n)}},{key:"containsKey",value:function(e,t){return Sw.resolve(this.Or.containsKey(t))}}]),e}(),OT=function(){function e(t,n){var r=this;p(this,e),this.Br={},this.overlays={},this.Lr=new Lw(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new PT(this),this.indexManager=new zI,this.remoteDocumentCache=function(e){return new RT(e)}((function(e){return r.referenceDelegate.Qr(e)})),this.serializer=new tI(n),this.Kr=new ET(this.serializer)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new IT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new AT(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;Mk("MemoryPersistence","Starting transaction:",e);var i=new DT(this.Lr.next());return this.referenceDelegate.$r(),n(i).next((function(e){return r.referenceDelegate.Ur(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Wr",value:function(e,t){return Sw.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),DT=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(ww),MT=function(){function e(t){p(this,e),this.persistence=t,this.Gr=new TT,this.zr=null}return g(e,[{key:"Hr",get:function(){if(this.zr)return this.zr;throw Vk()}},{key:"addReference",value:function(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Sw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Sw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hr.add(t.toString()),Sw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gr.Rr(t.targetId).forEach((function(e){return n.Hr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"$r",value:function(){this.zr=new Set}},{key:"Ur",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sw.forEach(this.Hr,(function(r){var i=lw.fromPath(r);return t.Jr(e,i).next((function(e){e||n.removeEntry(i,aw.min())}))})).next((function(){return t.zr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Jr(e,t).next((function(e){e?n.Hr.delete(t.toString()):n.Hr.add(t.toString())}))}},{key:"Qr",value:function(e){return 0}},{key:"Jr",value:function(e,t){var n=this;return Sw.or([function(){return Sw.resolve(n.Gr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Wr(e,t)}])}}],[{key:"jr",value:function(t){return new e(t)}}]),e}(),LT=function(){function e(t){p(this,e),this.serializer=t}return g(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new Ew("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ww,{unique:!0}),e.createObjectStore("documentMutations")}(e),FT(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Sw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),FT(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:aw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ww,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Sw.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Zr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ei(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ni(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ax});t.createIndex("collectionPathOverlayIndex",ox,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ux,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Qw});t.createIndex("documentKeyIndex",$w),t.createIndex("collectionGroupIndex",Yw)}(e)})).next((function(){return i.ri(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ii(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:tx}).createIndex("sequenceNumberIndex",nx,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:rx}).createIndex("documentKeyIndex",ix,{unique:!1})}(e)}))),o}},{key:"Xr",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=YI(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Zr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return Sw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return Sw.forEach(r,(function(r){Uk(r.userId===n.userId);var i=oI(t.serializer,r);return $I(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ei",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new uw(n),o=function(e){return[0,Uw(e)]}(a);r.push(t.get(o).next((function(n){return n?Sw.resolve():function(n){return t.put({targetId:0,path:Uw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Sw.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ex});var n=t.store("collectionParents"),r=new VI,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Uw(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new uw(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],qw(r));return i(a.popLast())}))}))}},{key:"ni",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=uI(r),a=sI(t.serializer,i);return n.put(a)}))}},{key:"ri",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new lw(uw.fromString(e.document.name).popFirst(5)):e.noDocument?lw.fromSegments(e.noDocument.path):e.unknownDocument?lw.fromSegments(e.unknownDocument.path):Vk()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Sw.waitFor(r)}))}},{key:"ii",value:function(e,t){var n=this,r=t.store("mutations"),i=mT(this.serializer),a=new OT(MT.jr,this.serializer.lt);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:pS();oI(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Sw.forEach(r,(function(e,r){var o=new Nk(r),u=mI.ht(n.serializer,o),s=a.getIndexManager(o),c=XI.ht(o,n.serializer,s,a.referenceDelegate);return new ST(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new hx(t,Lw.ae),e).next()}))}))}}]),e}();function FT(e){e.createObjectStore("targetDocuments",{keyPath:Jw}).createIndex("documentTargetsIndex",Zw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xw,{unique:!0}),e.createObjectStore("targetGlobal")}var zT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",VT=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(p(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=u,this.oi=c,this._i=l,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=function(e){return Promise.resolve()},!e.v())throw new qk(Bk.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dT(this,i),this.Ii=n+"main",this.serializer=new tI(s),this.Ti=new Iw(this.Ii,this.ai,new LT(this.serializer)),this.qr=new rT(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mT(this.serializer),this.Kr=new hI,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&Lk("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.di().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new qk(Bk.FAILED_PRECONDITION,zT);return e.Ai(),e.Ri(),e.Vi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qr.getHighestSequenceNumber(t)}))})).then((function(t){e.Lr=new Lw(t,e.oi)})).then((function(){e.kr=!0})).catch((function(t){return e.Ti&&e.Ti.close(),Promise.reject(t)}))}},{key:"mi",value:function(e){var t=this;return this.Pi=function(){var n=tu(Zo().mark((function n(r){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ti.k(function(){var t=tu(Zo().mark((function t(n){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.di();case 4:case"end":return e.stop()}}),e)})))))}},{key:"di",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return jT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.Pi(!1)})))}))})).next((function(){return e.gi(t)})).next((function(n){return e.isPrimary&&!n?e.pi(t).next((function(){return!1})):!!n&&e.yi(t).next((function(){return!0}))}))})).catch((function(t){if(Aw(t))return Mk("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Mk("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.Pi(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return UT(e).get("owner").next((function(e){return Sw.resolve(t.wi(e))}))}},{key:"Si",value:function(e){return jT(e).delete(this.clientId)}},{key:"bi",value:function(){var e=tu(Zo().mark((function e(){var t,n,r,i,a=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Di(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=px(e,"clientMetadata");return t.G().next((function(e){var n=a.vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Sw.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ei){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ei.removeItem(this.Ci(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(){var e=this;this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.di().then((function(){return e.bi()})).then((function(){return e.Vi()}))}))}},{key:"wi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"gi",value:function(e){var t=this;return this._i?Sw.resolve(!0):UT(e).get("owner").next((function(n){if(null!==n&&t.Di(n.leaseTimestampMs,5e3)&&!t.Fi(n.ownerId)){if(t.wi(n)&&t.networkEnabled)return!0;if(!t.wi(n)){if(!n.allowTabSynchronization)throw new qk(Bk.FAILED_PRECONDITION,zT);return!1}}return!(!t.networkEnabled||!t.inForeground)||jT(e).G().next((function(e){return void 0===t.vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Mk("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=tu(Zo().mark((function e(){var t=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),e.next=7,this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new hx(e,Lw.ae);return t.pi(n).next((function(){return t.Si(n)}))}));case 7:this.Ti.close(),this.Ni();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vi",value:function(e,t){var n=this;return e.filter((function(e){return n.Di(e.updateTimeMs,t)&&!n.Fi(e.clientId)}))}},{key:"Bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return jT(t).G().next((function(t){return e.vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.kr}},{key:"getMutationQueue",value:function(e,t){return XI.ht(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new jI(e,this.serializer.lt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return mI.ht(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;Mk("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?dx:14===e?fx:13===e?lx:12===e?cx:11===e?sx:void Vk()}(this.ai);return this.Ti.runTransaction(e,a,o,(function(a){return i=new hx(a,r.Lr?r.Lr.next():Lw.ae),"readwrite-primary"===t?r.fi(i).next((function(e){return!!e||r.gi(i)})).next((function(t){if(!t)throw Lk("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.Pi(!1)})),new qk(Bk.FAILED_PRECONDITION,kw);return n(i)})).next((function(e){return r.yi(i).next((function(){return e}))})):r.Li(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Li",value:function(e){var t=this;return UT(e).get("owner").next((function(e){if(null!==e&&t.Di(e.leaseTimestampMs,5e3)&&!t.Fi(e.ownerId)&&!t.wi(e)&&!(t._i||t.allowTabSynchronization&&e.allowTabSynchronization))throw new qk(Bk.FAILED_PRECONDITION,zT)}))}},{key:"yi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return UT(e).put("owner",t)}},{key:"pi",value:function(e){var t=this,n=UT(e);return n.get("owner").next((function(e){return t.wi(e)?(Mk("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Sw.resolve()}))}},{key:"Di",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Lk("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ai",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.di()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"Ri",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Mi();var e=/(?:Version|Mobile)\/1[456]/;!hu()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Oi",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Fi",value:function(e){var t;try{var n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.Ci(e)));return Mk("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Lk("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Mi",value:function(){if(this.Ei)try{this.Ei.setItem(this.Ci(this.clientId),String(Date.now()))}catch(e){Lk("Failed to set zombie client id.",e)}}},{key:"Ni",value:function(){if(this.Ei)try{this.Ei.removeItem(this.Ci(this.clientId))}catch(e){}}},{key:"Ci",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"v",value:function(){return Iw.v()}}]),e}();function UT(e){return px(e,"owner")}function jT(e){return px(e,"clientMetadata")}function BT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var qT=function(){function e(t,n,r,i){p(this,e),this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}return g(e,null,[{key:"Qi",value:function(t,n){var r,i=pS(),a=pS(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),WT=function(){function e(){p(this,e),this.Ki=!1}return g(e,[{key:"initialize",value:function(e,t){this.$i=e,this.indexManager=t,this.Ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ui(e,t).next((function(a){return a||i.Wi(e,t,r,n)})).next((function(n){return n||i.Gi(e,t)}))}},{key:"Ui",value:function(e,t){var n=this;if(j_(t))return Sw.resolve(null);var r=G_(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=$_(t,null,"F"),r=G_(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=pS.apply(void 0,h(i));return n.$i.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.zi(t,i);return n.ji(t,o,a,r.readTime)?n.Ui(e,$_(t,null,"F")):n.Hi(e,o,t,r)}))}))})))}))}},{key:"Wi",value:function(e,t,n,r){var i=this;return j_(t)||r.isEqual(aw.min())?this.Gi(e,t):this.$i.getDocuments(e,n).next((function(a){var o=i.zi(t,a);return i.ji(t,o,n,r)?i.Gi(e,t):(Dk()<=Fu.DEBUG&&Mk("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),J_(t)),i.Hi(e,o,t,mw(r,-1)))}))}},{key:"zi",value:function(e,t){var n=new wx(tS(e));return t.forEach((function(t,r){Z_(e,r)&&(n=n.add(r))})),n}},{key:"ji",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Gi",value:function(e,t){return Dk()<=Fu.DEBUG&&Mk("QueryEngine","Using full collection scan to execute query:",J_(t)),this.$i.getDocumentsMatchingQuery(e,t,gw.min())}},{key:"Hi",value:function(e,t,n,r){return this.$i.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),KT=function(){function e(t,n,r,i){p(this,e),this.persistence=t,this.Ji=n,this.serializer=i,this.Yi=new gx(tw),this.Zi=new rS((function(e){return P_(e)}),O_),this.Xi=new Map,this.es=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.ts(r)}return g(e,[{key:"ts",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ST(this.es,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.es.setIndexManager(this.indexManager),this.Ji.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Yi)}))}}]),e}();function GT(e,t,n,r){return new KT(e,t,n,r)}function HT(e,t){return QT.apply(this,arguments)}function QT(){return QT=tu(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.ts(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=pS(),s=C(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=C(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=C(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ns:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),QT.apply(this,arguments)}function $T(e,t){var n=jk(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.es.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Sw.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Uk(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=pS(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function YT(e){var t=jk(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qr.getLastRemoteSnapshotVersion(e)}))}function XT(e,t){var n=jk(e),r=t.snapshotVersion,i=n.Yi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.es.newChangeBuffer({trackRemovals:!0});i=n.Yi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.qr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.qr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(Ix.EMPTY_BYTE_STRING,aw.min()).withLastLimboFreeSnapshotVersion(aw.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.qr.updateTargetData(e,c))}}));var u=aS(),s=pS();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(JT(e,a,t.documentUpdates).next((function(e){u=e.rs,s=e.ss}))),!r.isEqual(aw.min())){var c=n.qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Sw.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Yi=i,e}))}function JT(e,t,n){var r=pS(),i=pS();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=aS();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(aw.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Mk("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{rs:r,ss:i}}))}function ZT(e,t){var n=jk(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function eC(e,t){var n=jk(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qr.getTargetData(e,t).next((function(i){return i?(r=i,Sw.resolve(r)):n.qr.allocateTargetId(e).next((function(i){return r=new eI(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Yi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Yi=n.Yi.insert(e.targetId,e),n.Zi.set(t,e.targetId)),e}))}function tC(e,t,n){return nC.apply(this,arguments)}function nC(){return nC=tu(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=jk(t),a=i.Yi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Aw(e.t1)){e.next=12;break}throw e.t1;case 12:Mk("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Yi=i.Yi.remove(n),i.Zi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),nC.apply(this,arguments)}function rC(e,t,n){var r=jk(e),i=aw.min(),a=pS();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=jk(e),i=r.Zi.get(n);return void 0!==i?Sw.resolve(r.Yi.get(i)):r.qr.getTargetData(t,n)}(r,e,G_(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ji.getDocumentsMatchingQuery(e,t,n?i:aw.min(),n?a:pS())})).next((function(e){return oC(r,eS(t),e),{documents:e,os:a}}))}))}function iC(e,t){var n=jk(e),r=jk(n.qr),i=n.Yi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ct(e,t).next((function(e){return e?e.target:null}))}))}function aC(e,t){var n=jk(e),r=n.Xi.get(t)||aw.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.es.getAllFromCollectionGroup(e,t,mw(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return oC(n,t,e),e}))}function oC(e,t,n){var r=e.Xi.get(t)||aw.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function uC(e,t,n,r){return sC.apply(this,arguments)}function sC(){return sC=tu(Zo().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=jk(t),o=pS(),u=aS(),s=C(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n._s(l.metadata.name),l.document&&(o=o.add(f)),(d=n.us(l)).setReadTime(n.cs(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.es.newChangeBuffer({trackRemovals:!0}),e.next=7,eC(a,function(e){return G_(U_(uw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return JT(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.rs,t.ss)})).next((function(){return t.rs}))}))})));case 9:case"end":return e.stop()}}),e)}))),sC.apply(this,arguments)}function cC(e,t){return lC.apply(this,arguments)}function lC(){return lC=tu(Zo().mark((function e(t,n){var r,i,a,o=arguments;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:pS(),e.next=3,eC(t,G_(cI(n.bundledQuery)));case 3:return i=e.sent,a=jk(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=CE(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kr.saveNamedQuery(e,n);var o=i.withResumeToken(Ix.EMPTY_BYTE_STRING,t);return a.Yi=a.Yi.insert(o.targetId,o),a.qr.updateTargetData(e,o).next((function(){return a.qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}function fC(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function dC(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function hC(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var pC=function(){function e(t,n,r,i){p(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"hs",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ls",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new qk(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Lk("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),vC=function(){function e(t,n,r){p(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"hs",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ls",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new qk(i.error.code,i.error.message))),a?new e(t,i.state,r):(Lk("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),mC=function(){function e(t,n){p(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"ls",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=mS(),o=0;i&&o<r.activeTargetIds.length;++o)i=Vw(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Lk("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),yC=function(){function e(t,n){p(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"ls",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Lk("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),gC=function(){function e(){p(this,e),this.activeTargetIds=mS()}return g(e,[{key:"Ps",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Is",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hs",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),bC=function(){function e(t,n,r,i,a){p(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.Ts=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Es=this.ds.bind(this),this.As=new gx(tw),this.started=!1,this.Rs=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Vs=fC(this.persistenceKey,this.Ts),this.fs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.As=this.As.insert(this.Ts,new gC),this.gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ps=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.ys=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.ws=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ss=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Es)}return g(e,[{key:"start",value:function(){var e=tu(Zo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Bi();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Ts){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(fC(this.persistenceKey,i)))&&(o=mC.ls(i,a))&&(this.As=this.As.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.bs(),(u=this.storage.getItem(this.ws))&&(s=this.Ds(u))&&this.vs(s),c=C(this.Rs);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ds(f)}catch(h){c.e(h)}finally{c.f()}this.Rs=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.fs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Cs(this.As)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.As.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Fs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Fs(e,t,n),this.Ms(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(hC(this.persistenceKey,e));if(n){var r=vC.ls(e,n);r&&(t=r.state)}}return this.xs.Ps(e),this.bs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.xs.Is(e),this.bs()}},{key:"isLocalQueryTarget",value:function(e){return this.xs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(hC(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Os(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ms(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ns(e)}},{key:"notifyBundleLoaded",value:function(e){this.Bs(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Es),this.removeItem(this.Vs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Mk("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Mk("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Mk("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ds",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Mk("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Vs)return void Lk("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(tu(Zo().mark((function e(){var r,i,a,o,u,s,c;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Ls(n.key),e.abrupt("return",t.ks(r,null));case 6:if(!(i=t.qs(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ks(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ps.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Qs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Ks(a));case 16:e.next=41;break;case 18:if(!t.ys.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.$s(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Us(o));case 23:e.next=41;break;case 25:if(n.key!==t.ws){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Ds(n.newValue))){e.next=30;break}return e.abrupt("return",t.vs(u));case 30:e.next=41;break;case 32:if(n.key!==t.fs){e.next=37;break}s=function(e){var t=Lw.ae;if(null!=e)try{var n=JSON.parse(e);Uk("number"==typeof n),t=n}catch(e){Lk("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Lw.ae&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Ss){e.next=41;break}return c=t.Ws(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Gs(e)})));case 41:e.next=44;break;case 43:t.Rs.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"xs",get:function(){return this.As.get(this.Ts)}},{key:"bs",value:function(){this.setItem(this.Vs,this.xs.hs())}},{key:"Fs",value:function(e,t,n){var r=new pC(this.currentUser,e,t,n),i=dC(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hs())}},{key:"Ms",value:function(e){var t=dC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ns",value:function(e){var t={clientId:this.Ts,onlineState:e};this.storage.setItem(this.ws,JSON.stringify(t))}},{key:"Os",value:function(e,t,n){var r=hC(this.persistenceKey,e),i=new vC(e,t,n);this.setItem(r,i.hs())}},{key:"Bs",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Ss,t)}},{key:"Ls",value:function(e){var t=this.gs.exec(e);return t?t[1]:null}},{key:"qs",value:function(e,t){var n=this.Ls(e);return mC.ls(n,t)}},{key:"Qs",value:function(e,t){var n=this.ps.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return pC.ls(new Nk(i),r,t)}},{key:"$s",value:function(e,t){var n=this.ys.exec(e),r=Number(n[1]);return vC.ls(r,t)}},{key:"Ds",value:function(e){return yC.ls(e)}},{key:"Ws",value:function(e){return JSON.parse(e)}},{key:"Ks",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.zs(t.batchId,t.state,t.error));case 2:Mk("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Us",value:function(e){return this.syncEngine.js(e.targetId,e.state,e.error)}},{key:"ks",value:function(e,t){var n=this,r=t?this.As.insert(e,t):this.As.remove(e),i=this.Cs(this.As),a=this.Cs(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Hs(o,u).then((function(){n.As=r}))}},{key:"vs",value:function(e){this.As.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Cs",value:function(e){var t=mS();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"v",value:function(e){return!(!e||!e.localStorage)}}]),e}(),kC=function(){function e(){p(this,e),this.Js=new gC,this.Ys={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Js.Ps(e),this.Ys[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ys[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Js.Is(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Js.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ys[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Js.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Js.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Js=new gC,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),wC=function(){function e(){p(this,e)}return g(e,[{key:"Zs",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),xC=function(){function e(){var t=this;p(this,e),this.Xs=function(){return t.eo()},this.no=function(){return t.ro()},this.io=[],this.so()}return g(e,[{key:"Zs",value:function(e){this.io.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xs),window.removeEventListener("offline",this.no)}},{key:"so",value:function(){window.addEventListener("online",this.Xs),window.addEventListener("offline",this.no)}},{key:"eo",value:function(){Mk("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.io);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ro",value:function(){Mk("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.io);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),_C=null;function SC(){return null===_C?_C=268435456+Math.round(2147483648*Math.random()):_C++,"0x"+_C.toString(16)}var EC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},IC=function(){function e(t){p(this,e),this.oo=t.oo,this._o=t._o}return g(e,[{key:"ao",value:function(e){this.uo=e}},{key:"co",value:function(e){this.lo=e}},{key:"onMessage",value:function(e){this.ho=e}},{key:"close",value:function(){this._o()}},{key:"send",value:function(e){this.oo(e)}},{key:"Po",value:function(){this.uo()}},{key:"Io",value:function(e){this.lo(e)}},{key:"To",value:function(e){this.ho(e)}}]),e}(),TC="WebChannelConnection",CC=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return g(n,[{key:"yo",value:function(e,t,n,r){var i=SC();return new Promise((function(a,o){var u=new Tk;u.setWithCredentials(!0),u.listenOnce(xk.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case wk.NO_ERROR:var t=u.getResponseJson();Mk(TC,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case wk.TIMEOUT:Mk(TC,"RPC '".concat(e,"' ").concat(i," timed out")),o(new qk(Bk.DEADLINE_EXCEEDED,"Request time out"));break;case wk.HTTP_ERROR:var n=u.getStatus();if(Mk(TC,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Bk).indexOf(t)>=0?t:Bk.UNKNOWN}(s.status);o(new qk(c,s.message))}else o(new qk(Bk.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new qk(Bk.UNAVAILABLE,"Connection failed."));break;default:Vk()}}finally{Mk(TC,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Mk(TC,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"So",value:function(e,t,n){var r=SC(),i=[this.Eo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=bk(),o=kk(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new Ek({})),this.po(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");Mk(TC,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,d=!1,h=new IC({oo:function(t){d?Mk(TC,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Mk(TC,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Mk(TC,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},_o:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Ik.EventType.OPEN,(function(){d||Mk(TC,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Ik.EventType.CLOSE,(function(){d||(d=!0,Mk(TC,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.Io())})),p(l,Ik.EventType.ERROR,(function(t){d||(d=!0,Fk(TC,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.Io(new qk(Bk.UNAVAILABLE,"The operation could not be completed")))})),p(l,Ik.EventType.MESSAGE,(function(t){var n;if(!d){var i=t.data[0];Uk(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Mk(TC,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=HS[e];if(void 0!==t)return nE(t)}(u),c=o.message;void 0===s&&(s=Bk.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),d=!0,h.Io(new qk(s,c)),l.close()}else Mk(TC,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.To(i)}})),p(o,_k.STAT_EVENT,(function(t){t.stat===Sk.PROXY?Mk(TC,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Sk.NOPROXY&&Mk(TC,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.Po()}),0),h}}]),n}(function(){function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Eo=n+"://"+t.host,this.Ao="projects/".concat(r,"/databases/").concat(i),this.Ro="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return g(e,[{key:"Vo",get:function(){return!1}},{key:"mo",value:function(e,t,n,r,i){var a=SC(),o=this.fo(e,t);Mk("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.Ao,"x-goog-request-params":this.Ro};return this.po(u,r,i),this.yo(e,o,u,n).then((function(t){return Mk("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Fk("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"wo",value:function(e,t,n,r,i,a){return this.mo(e,t,n,r,i)}},{key:"po",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=EC[e];return"".concat(this.Eo,"/v1/").concat(t,":").concat(n)}}]),e}());function AC(){return"undefined"!=typeof window?window:null}function RC(){return"undefined"!=typeof document?document:null}function NC(e){return new _E(e,!0)}var PC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this.si=t,this.timerId=n,this.bo=r,this.Do=i,this.vo=a,this.Co=0,this.Fo=null,this.Mo=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.Co=0}},{key:"xo",value:function(){this.Co=this.vo}},{key:"Oo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Co+this.No()),r=Math.max(0,Date.now()-this.Mo),i=Math.max(0,n-r);i>0&&Mk("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Co," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Fo=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Mo=Date.now(),e()})),this.Co*=this.Do,this.Co<this.bo&&(this.Co=this.bo),this.Co>this.vo&&(this.Co=this.vo)}},{key:"Bo",value:function(){null!==this.Fo&&(this.Fo.skipDelay(),this.Fo=null)}},{key:"cancel",value:function(){null!==this.Fo&&(this.Fo.cancel(),this.Fo=null)}},{key:"No",value:function(){return(Math.random()-.5)*this.Co}}]),e}(),OC=function(){function e(t,n,r,i,a,o,u,s){p(this,e),this.si=t,this.Lo=r,this.ko=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.qo=0,this.Qo=null,this.Ko=null,this.stream=null,this.$o=new PC(t,n)}return g(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Wo()}},{key:"Wo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zo",value:function(){this.state=0,this.$o.reset()}},{key:"jo",value:function(){var e=this;this.Wo()&&null===this.Qo&&(this.Qo=this.si.enqueueAfterDelay(this.Lo,6e4,(function(){return e.Ho()})))}},{key:"Jo",value:function(e){this.Yo(),this.stream.send(e)}},{key:"Ho",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Wo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}},{key:"Zo",value:function(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}},{key:"close",value:function(){var e=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Yo(),this.Zo(),this.$o.cancel(),this.qo++,4!==t?this.$o.reset():n&&n.code===Bk.RESOURCE_EXHAUSTED?(Lk(n.toString()),Lk("Using maximum backoff delay to prevent overloading the backend."),this.$o.xo()):n&&n.code===Bk.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Xo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.co(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Xo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.e_(this.qo),n=this.qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.qo===n&&e.t_(i,a)}),(function(n){t((function(){var t=new qk(Bk.UNKNOWN,"Fetching auth token failed: "+n.message);return e.n_(t)}))}))}},{key:"t_",value:function(e,t){var n=this,r=this.e_(this.qo);this.stream=this.r_(e,t),this.stream.ao((function(){r((function(){return n.state=2,n.Ko=n.si.enqueueAfterDelay(n.ko,1e4,(function(){return n.Wo()&&(n.state=3),Promise.resolve()})),n.listener.ao()}))})),this.stream.co((function(e){r((function(){return n.n_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.$o.Oo(tu(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"n_",value:function(e){return Mk("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"e_",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.qo===e?n():(Mk("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),DC=function(e){k(n,e);var t=S(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return g(n,[{key:"r_",value:function(e,t){return this.connection.So("Listen",e,t)}},{key:"onMessage",value:function(e){this.$o.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Vk()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Uk(void 0===t||"string"==typeof t),Ix.fromBase64String(t||"")):(Uk(void 0===t||t instanceof Uint8Array),Ix.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Bk.UNKNOWN:nE(e.code);return new qk(t,e.message||"")}(o);n=new vE(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=PE(e,s.document.name),l=CE(s.document.updateTime),f=s.document.createTime?CE(s.document.createTime):aw.min(),d=new r_({mapValue:{fields:s.document.fields}}),h=a_.newFoundDocument(c,l,f,d),p=s.targetIds||[],v=s.removedTargetIds||[];n=new hE(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=PE(e,m.document),g=m.readTime?CE(m.readTime):aw.min(),b=a_.newNoDocument(y,g),k=m.removedTargetIds||[];n=new hE([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=PE(e,w.document),_=w.removedTargetIds||[];n=new hE([],_,x,null)}else{if(!("filter"in t))return Vk();t.filter;var S=t.filter;S.targetId;var E=S.count,I=void 0===E?0:E,T=S.unchangedNames,C=new eE(I,T),A=S.targetId;n=new pE(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return aw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?aw.min():t.readTime?CE(t.readTime):aw.min()}(e);return this.listener.i_(t,n)}},{key:"s_",value:function(e){var t={};t.database=ME(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=D_(r)?{documents:BE(e,r)}:{query:qE(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=IE(e,t.resumeToken);var i=SE(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(aw.min())>0){n.readTime=EE(e,t.snapshotVersion.toTimestamp());var a=SE(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vk()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Jo(t)}},{key:"o_",value:function(e){var t={};t.database=ME(this.serializer),t.removeTarget=e,this.Jo(t)}}]),n}(OC),MC=function(e){k(n,e);var t=S(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.__=!1,s}return g(n,[{key:"a_",get:function(){return this.__}},{key:"start",value:function(){this.__=!1,this.lastStreamToken=void 0,Jo(w(n.prototype),"start",this).call(this)}},{key:"Xo",value:function(){this.__&&this.u_([])}},{key:"r_",value:function(e,t){return this.connection.So("Write",e,t)}},{key:"onMessage",value:function(e){if(Uk(!!e.streamToken),this.lastStreamToken=e.streamToken,this.__){this.$o.reset();var t=function(e,t){return e&&e.length>0?(Uk(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?CE(e.updateTime):CE(t);return n.isEqual(aw.min())&&(n=CE(t)),new OS(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=CE(e.commitTime);return this.listener.c_(n,t)}return Uk(!e.writeResults||0===e.writeResults.length),this.__=!0,this.listener.l_()}},{key:"h_",value:function(){var e={};e.database=ME(this.serializer),this.Jo(e)}},{key:"u_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return UE(t.serializer,e)}))};this.Jo(n)}}]),n}(OC),LC=function(e){k(n,e);var t=S(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.P_=!1,o}return g(n,[{key:"I_",value:function(){if(this.P_)throw new qk(Bk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"mo",value:function(e,t,n){var r=this;return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.connection.mo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Bk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new qk(Bk.UNKNOWN,e.toString())}))}},{key:"wo",value:function(e,t,n,r){var i=this;return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=f(a,2),u=o[0],s=o[1];return i.connection.wo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Bk.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new qk(Bk.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.P_=!0}}]),n}(g((function e(){p(this,e)})));var FC=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.E_=0,this.d_=null,this.A_=!0}return g(e,[{key:"R_",value:function(){var e=this;0===this.E_&&(this.V_("Unknown"),this.d_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.d_=null,e.m_("Backend didn't respond within 10 seconds."),e.V_("Offline"),Promise.resolve()})))}},{key:"f_",value:function(e){"Online"===this.state?this.V_("Unknown"):(this.E_++,this.E_>=1&&(this.g_(),this.m_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.V_("Offline")))}},{key:"set",value:function(e){this.g_(),this.E_=0,"Online"===e&&(this.A_=!1),this.V_(e)}},{key:"V_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"m_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.A_?(Lk(t),this.A_=!1):Mk("OnlineStateTracker",t)}},{key:"g_",value:function(){null!==this.d_&&(this.d_.cancel(),this.d_=null)}}]),e}(),zC=g((function e(t,n,r,i,a){var o=this;p(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.p_=[],this.y_=new Map,this.w_=new Set,this.S_=[],this.b_=a,this.b_.Zs((function(e){r.enqueueAndForget(tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=$C(o),!e.t0){e.next=5;break}return Mk("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=jk(t)).w_.add(4),e.next=4,jC(n);case 4:return n.D_.set("Unknown"),n.w_.delete(4),e.next=8,VC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.D_=new FC(r,i)}));function VC(e){return UC.apply(this,arguments)}function UC(){return(UC=tu(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$C(t)){e.next=18;break}n=C(t.S_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function jC(e){return BC.apply(this,arguments)}function BC(){return(BC=tu(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.S_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function qC(e,t){var n=jk(e);n.y_.has(t.targetId)||(n.y_.set(t.targetId,t),QC(n)?HC(n):SA(n).Wo()&&KC(n,t))}function WC(e,t){var n=jk(e),r=SA(n);n.y_.delete(t),r.Wo()&&GC(n,t),0===n.y_.size&&(r.Wo()?r.jo():$C(n)&&n.D_.set("Unknown"))}function KC(e,t){if(e.v_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(aw.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}SA(e).s_(t)}function GC(e,t){e.v_.Le(t),SA(e).o_(t)}function HC(e){e.v_=new yE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ct:function(t){return e.y_.get(t)||null},it:function(){return e.datastore.serializer.databaseId}}),SA(e).start(),e.D_.R_()}function QC(e){return $C(e)&&!SA(e).Uo()&&e.y_.size>0}function $C(e){return 0===jk(e).w_.size}function YC(e){e.v_=void 0}function XC(e){return JC.apply(this,arguments)}function JC(){return(JC=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.y_.forEach((function(e,n){KC(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZC(e,t){return eA.apply(this,arguments)}function eA(){return(eA=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:YC(t),QC(t)?(t.D_.f_(n),HC(t)):t.D_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tA(e,t,n){return nA.apply(this,arguments)}function nA(){return nA=tu(Zo().mark((function e(t,n,r){var i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.D_.set("Online"),!(n instanceof vE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=tu(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.y_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.y_.delete(o),t.v_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Mk("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,rA(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof hE?t.v_.Ge(n):n instanceof pE?t.v_.Xe(n):t.v_.He(n),r.isEqual(aw.min())){e.next=29;break}return e.prev=14,e.next=17,YT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.v_.ot(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.y_.get(r);i&&e.y_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.y_.get(t);if(r){e.y_.set(t,r.withResumeToken(Ix.EMPTY_BYTE_STRING,r.snapshotVersion)),GC(e,t);var i=new eI(r.target,t,n,r.sequenceNumber);KC(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Mk("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,rA(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),nA.apply(this,arguments)}function rA(e,t,n){return iA.apply(this,arguments)}function iA(){return(iA=tu(Zo().mark((function e(t,n,r){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Aw(n)){e.next=2;break}throw n;case 2:return t.w_.add(1),e.next=5,jC(t);case 5:t.D_.set("Offline"),r||(r=function(){return YT(t.localStore)}),t.asyncQueue.enqueueRetryable(tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mk("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.w_.delete(1),e.next=6,VC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aA(e,t){return t().catch((function(n){return rA(e,n,t)}))}function oA(e){return uA.apply(this,arguments)}function uA(){return uA=tu(Zo().mark((function e(t){var n,r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=jk(t),r=EA(n),i=n.p_.length>0?n.p_[n.p_.length-1].batchId:-1;case 2:if(!sA(n)){e.next=19;break}return e.prev=3,e.next=6,ZT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.p_.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,cA(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,rA(n,e.t0);case 17:e.next=2;break;case 19:lA(n)&&fA(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),uA.apply(this,arguments)}function sA(e){return $C(e)&&e.p_.length<10}function cA(e,t){e.p_.push(t);var n=EA(e);n.Wo()&&n.a_&&n.u_(t.mutations)}function lA(e){return $C(e)&&!EA(e).Uo()&&e.p_.length>0}function fA(e){EA(e).start()}function dA(e){return hA.apply(this,arguments)}function hA(){return(hA=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:EA(t).h_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pA(e){return vA.apply(this,arguments)}function vA(){return(vA=tu(Zo().mark((function e(t){var n,r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=EA(t),r=C(t.p_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.u_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mA(e,t,n){return yA.apply(this,arguments)}function yA(){return yA=tu(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.p_.shift(),a=JS.from(i,n,r),e.next=3,aA(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,oA(t);case 5:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function gA(e,t){return bA.apply(this,arguments)}function bA(){return bA=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&EA(t).a_,!e.t0){e.next=4;break}return e.next=4,function(){var e=tu(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return tE(e)&&e!==Bk.ABORTED}(n.code)){e.next=7;break}return r=t.p_.shift(),EA(t).zo(),e.next=5,aA(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,oA(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:lA(t)&&fA(t);case 5:case"end":return e.stop()}}),e)}))),bA.apply(this,arguments)}function kA(e,t){return wA.apply(this,arguments)}function wA(){return wA=tu(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=jk(t)).asyncQueue.verifyOperationInProgress(),Mk("RemoteStore","RemoteStore received new credentials"),i=$C(r),r.w_.add(3),e.next=6,jC(r);case 6:return i&&r.D_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.w_.delete(3),e.next=12,VC(r);case 12:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}function xA(e,t){return _A.apply(this,arguments)}function _A(){return(_A=tu(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jk(t),!n){e.next=7;break}return r.w_.delete(2),e.next=5,VC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.w_.add(2),e.next=12,jC(r);case 12:r.D_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SA(e){return e.C_||(e.C_=function(e,t,n){var r=jk(e);return r.I_(),new DC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ao:XC.bind(null,e),co:ZC.bind(null,e),i_:tA.bind(null,e)}),e.S_.push(function(){var t=tu(Zo().mark((function t(n){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.C_.zo(),QC(e)?HC(e):e.D_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.C_.stop();case 6:YC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.C_}function EA(e){return e.F_||(e.F_=function(e,t,n){var r=jk(e);return r.I_(),new MC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ao:dA.bind(null,e),co:gA.bind(null,e),l_:pA.bind(null,e),c_:mA.bind(null,e)}),e.S_.push(function(){var t=tu(Zo().mark((function t(n){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.F_.zo(),t.next=4,oA(e);case 4:t.next=9;break;case 6:return t.next=8,e.F_.stop();case 8:e.p_.length>0&&(Mk("RemoteStore","Stopping write stream with ".concat(e.p_.length," pending writes")),e.p_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.F_}var IA=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wk,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qk(Bk.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function TA(e,t){if(Lk("AsyncQueue","".concat(t,": ").concat(e)),Aw(e))return new qk(Bk.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var CA=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||lw.comparator(e.key,n.key)}:function(e,t){return lw.comparator(e.key,t.key)},this.keyedMap=uS(),this.sortedSet=new gx(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),AA=function(){function e(){p(this,e),this.M_=new gx(lw.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.M_.get(t);n?0!==e.type&&3===n.type?this.M_=this.M_.insert(t,e):3===e.type&&1!==n.type?this.M_=this.M_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.M_=this.M_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.M_=this.M_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.M_=this.M_.remove(t):1===e.type&&2===n.type?this.M_=this.M_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.M_=this.M_.insert(t,{type:2,doc:e.doc}):Vk():this.M_=this.M_.insert(t,e)}},{key:"x_",value:function(){var e=[];return this.M_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),RA=function(){function e(t,n,r,i,a,o,u,s,c){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Y_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,CA.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),NA=g((function e(){p(this,e),this.O_=void 0,this.listeners=[]})),PA=g((function e(){p(this,e),this.queries=new rS((function(e){return X_(e)}),Y_),this.onlineState="Unknown",this.N_=new Set}));function OA(e,t){return DA.apply(this,arguments)}function DA(){return DA=tu(Zo().mark((function e(t,n){var r,i,a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jk(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new NA),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.O_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=TA(e.t0,"Initialization of query '".concat(J_(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.B_(r.onlineState),o.O_&&n.L_(o.O_)&&VA(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),DA.apply(this,arguments)}function MA(e,t){return LA.apply(this,arguments)}function LA(){return LA=tu(Zo().mark((function e(t,n){var r,i,a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jk(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function FA(e,t){var n,r=jk(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=C(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.L_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.O_=o}}}catch(f){a.e(f)}finally{a.f()}i&&VA(r)}function zA(e,t,n){var r=jk(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function VA(e){e.N_.forEach((function(e){e.next()}))}var UA=function(){function e(t,n,r){p(this,e),this.query=t,this.k_=n,this.q_=!1,this.Q_=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"L_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new RA(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.q_?this.K_(e)&&(this.k_.next(e),a=!0):this.U_(e,this.onlineState)&&(this.W_(e),a=!0),this.Q_=e,a}},{key:"onError",value:function(e){this.k_.error(e)}},{key:"B_",value:function(e){this.onlineState=e;var t=!1;return this.Q_&&!this.q_&&this.U_(this.Q_,e)&&(this.W_(this.Q_),t=!0),t}},{key:"U_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.G_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"K_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Q_&&this.Q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"W_",value:function(e){e=RA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.q_=!0,this.k_.next(e)}}]),e}(),jA=function(){function e(t,n){p(this,e),this.z_=t,this.byteLength=n}return g(e,[{key:"j_",value:function(){return"metadata"in this.z_}}]),e}(),BA=function(){function e(t){p(this,e),this.serializer=t}return g(e,[{key:"_s",value:function(e){return PE(this.serializer,e)}},{key:"us",value:function(e){return e.metadata.exists?zE(this.serializer,e.document,!1):a_.newNoDocument(this._s(e.metadata.name),this.cs(e.metadata.readTime))}},{key:"cs",value:function(e){return CE(e)}}]),e}(),qA=function(){function e(t,n,r){p(this,e),this.H_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=WA(t)}return g(e,[{key:"J_",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.z_.namedQuery)this.queries.push(e.z_.namedQuery);else if(e.z_.documentMetadata){this.documents.push({metadata:e.z_.documentMetadata}),e.z_.documentMetadata.exists||++t;var n=uw.fromString(e.z_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.z_.document&&(this.documents[this.documents.length-1].document=e.z_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Y_",value:function(e){var t,n=new Map,r=new BA(this.serializer),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r._s(a.metadata.name),s=C(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||pS()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=tu(Zo().mark((function e(){var t,n,r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uC(this.localStore,new BA(this.serializer),this.documents,this.H_.id);case 2:t=e.sent,n=this.Y_(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,cC(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Z_:this.collectionGroups,X_:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function WA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var KA=g((function e(t){p(this,e),this.key=t})),GA=g((function e(t){p(this,e),this.key=t})),HA=function(){function e(t,n){p(this,e),this.query=t,this.ea=n,this.ta=null,this.hasCachedResults=!1,this.current=!1,this.na=pS(),this.mutatedKeys=pS(),this.ra=tS(t),this.ia=new CA(this.ra)}return g(e,[{key:"sa",get:function(){return this.ea}},{key:"oa",value:function(e,t){var n=this,r=t?t._a:new AA,i=t?t.ia:this.ia,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Z_(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.aa(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ra(f,s)>0||c&&n.ra(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ia:o,_a:r,ji:u,mutatedKeys:a}}},{key:"aa",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ia;this.ia=e.ia,this.mutatedKeys=e.mutatedKeys;var a=e._a.x_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vk()}};return n(e)-n(t)}(e.type,t.type)||r.ra(e.doc,t.doc)})),this.ua(n);var o=t?this.ca():[],u=0===this.na.size&&this.current?1:0,s=u!==this.ta;return this.ta=u,0!==a.length||s?{snapshot:new RA(this.query,e.ia,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),la:o}:{la:o}}},{key:"B_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ia:this.ia,_a:new AA,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{la:[]}}},{key:"ha",value:function(e){return!this.ea.has(e)&&!!this.ia.has(e)&&!this.ia.get(e).hasLocalMutations}},{key:"ua",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ea=t.ea.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ea=t.ea.delete(e)})),this.current=e.current)}},{key:"ca",value:function(){var e=this;if(!this.current)return[];var t=this.na;this.na=pS(),this.ia.forEach((function(t){e.ha(t.key)&&(e.na=e.na.add(t.key))}));var n=[];return t.forEach((function(t){e.na.has(t)||n.push(new GA(t))})),this.na.forEach((function(e){t.has(e)||n.push(new KA(e))})),n}},{key:"Pa",value:function(e){this.ea=e.os,this.na=pS();var t=this.oa(e.documents);return this.applyChanges(t,!0)}},{key:"Ia",value:function(){return RA.fromInitialDocuments(this.query,this.ia,this.mutatedKeys,0===this.ta,this.hasCachedResults)}}]),e}(),QA=g((function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r})),$A=g((function e(t){p(this,e),this.key=t,this.Ta=!1})),YA=function(){function e(t,n,r,i,a,o){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ea={},this.da=new rS((function(e){return X_(e)}),Y_),this.Aa=new Map,this.Ra=new Set,this.Va=new gx(lw.comparator),this.ma=new Map,this.fa=new TT,this.ga={},this.pa=new Map,this.ya=nT.Nn(),this.onlineState="Unknown",this.wa=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.wa}}]),e}();function XA(e,t){return JA.apply(this,arguments)}function JA(){return JA=tu(Zo().mark((function e(t,n){var r,i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=WR(t),!(o=r.da.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Ia(),e.next=15;break;case 6:return e.next=8,eC(r.localStore,G_(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,ZA(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&qC(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),JA.apply(this,arguments)}function ZA(e,t,n,r,i){return eR.apply(this,arguments)}function eR(){return eR=tu(Zo().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Sa=function(e,n,r){return function(){var e=tu(Zo().mark((function e(t,n,r,i){var a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.oa(r),e.t0=a.ji,!e.t0){e.next=6;break}return e.next=5,rC(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.oa(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(kR(t,n.targetId,u.la),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,rC(t.localStore,n,!0);case 3:return o=e.sent,u=new HA(n,o.os),s=u.oa(o.documents),c=dE.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),kR(t,r,l.la),f=new QA(n,r,u),e.abrupt("return",(t.da.set(n,f),t.Aa.has(r)?t.Aa.get(r).push(n):t.Aa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),eR.apply(this,arguments)}function tR(e,t){return nR.apply(this,arguments)}function nR(){return nR=tu(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jk(t),i=r.da.get(n),!((a=r.Aa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Aa.set(i.targetId,a.filter((function(e){return!Y_(e,n)}))),void r.da.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,tC(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),WC(r.remoteStore,i.targetId),gR(r,i.targetId)})).catch(xw);case 9:e.next=14;break;case 11:return gR(r,i.targetId),e.next=14,tC(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),nR.apply(this,arguments)}function rR(e,t,n){return iR.apply(this,arguments)}function iR(){return iR=tu(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=KR(t),e.prev=1,e.next=4,function(e,t){var n,r,i=jk(e),a=iw.now(),o=t.reduce((function(e,t){return e.add(t.key)}),pS());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=aS(),s=pS();return i.es.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=C(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=US(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new qS(c.key,l,i_(l.value.mapValue),DS.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:sS(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ga[e.currentUser.toKey()];r||(r=new gx(tw)),r=r.insert(t,n),e.ga[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,_R(i,a.changes);case 9:return e.next=11,oA(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=TA(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),iR.apply(this,arguments)}function aR(e,t){return oR.apply(this,arguments)}function oR(){return oR=tu(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),e.prev=1,e.next=4,XT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ma.get(t);n&&(Uk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ta=!0:e.modifiedDocuments.size>0?Uk(n.Ta):e.removedDocuments.size>0&&(Uk(n.Ta),n.Ta=!1))})),e.next=8,_R(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,xw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),oR.apply(this,arguments)}function uR(e,t,n){var r=jk(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.da.forEach((function(e,n){var r=n.view.B_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=jk(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.B_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&VA(n)}(r.eventManager,t),i.length&&r.Ea.i_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function sR(e,t,n){return cR.apply(this,arguments)}function cR(){return cR=tu(Zo().mark((function e(t,n,r){var i,a,o,u,s,c;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=jk(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ma.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new gx(lw.comparator)).insert(o,a_.newNoDocument(o,aw.min())),s=pS().add(o),c=new fE(aw.min(),new Map,new gx(tw),u,s),e.next=9,aR(i,c);case 9:i.Va=i.Va.remove(o),i.ma.delete(n),xR(i),e.next=16;break;case 14:return e.next=16,tC(i.localStore,n,!1).then((function(){return gR(i,n,r)})).catch(xw);case 16:case"end":return e.stop()}}),e)}))),cR.apply(this,arguments)}function lR(e,t){return fR.apply(this,arguments)}function fR(){return fR=tu(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),i=n.batch.batchId,e.prev=1,e.next=4,$T(r.localStore,n);case 4:return a=e.sent,yR(r,i,null),mR(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,_R(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),fR.apply(this,arguments)}function dR(e,t,n){return hR.apply(this,arguments)}function hR(){return hR=tu(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jk(t),e.prev=1,e.next=4,function(e,t){var n=jk(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Uk(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,yR(i,n,r),mR(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,_R(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hR.apply(this,arguments)}function pR(e,t){return vR.apply(this,arguments)}function vR(){return vR=tu(Zo().mark((function e(t,n){var r,i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $C((r=jk(t)).remoteStore)||Mk("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=jk(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.pa.get(i)||[]).push(n),r.pa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=TA(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),vR.apply(this,arguments)}function mR(e,t){(e.pa.get(t)||[]).forEach((function(e){e.resolve()})),e.pa.delete(t)}function yR(e,t,n){var r=jk(e),i=r.ga[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ga[r.currentUser.toKey()]=i}}function gR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e.Aa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.da.delete(a),n&&e.Ea.ba(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Aa.delete(t),e.isPrimaryClient&&e.fa.Rr(t).forEach((function(t){e.fa.containsKey(t)||bR(e,t)}))}function bR(e,t){e.Ra.delete(t.path.canonicalString());var n=e.Va.get(t);null!==n&&(WC(e.remoteStore,n),e.Va=e.Va.remove(t),e.ma.delete(n),xR(e))}function kR(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof KA?(e.fa.addReference(a.key,t),wR(e,a)):a instanceof GA?(Mk("SyncEngine","Document no longer in limbo: "+a.key),e.fa.removeReference(a.key,t),e.fa.containsKey(a.key)||bR(e,a.key)):Vk()}}catch(o){i.e(o)}finally{i.f()}}function wR(e,t){var n=t.key,r=n.path.canonicalString();e.Va.get(n)||e.Ra.has(r)||(Mk("SyncEngine","New document in limbo: "+n),e.Ra.add(r),xR(e))}function xR(e){for(;e.Ra.size>0&&e.Va.size<e.maxConcurrentLimboResolutions;){var t=e.Ra.values().next().value;e.Ra.delete(t);var n=new lw(uw.fromString(t)),r=e.ya.next();e.ma.set(r,new $A(n)),e.Va=e.Va.insert(n,r),qC(e.remoteStore,new eI(G_(U_(n.path)),r,"TargetPurposeLimboResolution",Lw.ae))}}function _R(e,t,n){return SR.apply(this,arguments)}function SR(){return SR=tu(Zo().mark((function e(t,n,r){var i,a,o,u;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=jk(t),a=[],o=[],u=[],e.t0=i.da.isEmpty(),e.t0){e.next=9;break}return i.da.forEach((function(e,t){u.push(i.Sa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=qT.Qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ea.i_(a),e.next=9,function(){var e=tu(Zo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Sw.forEach(n,(function(t){return Sw.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Sw.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Aw(e.t0)){e.next=10;break}throw e.t0;case 10:Mk("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Yi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Yi=r.Yi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),SR.apply(this,arguments)}function ER(e,t){return IR.apply(this,arguments)}function IR(){return(IR=tu(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=jk(t)).currentUser.isEqual(n)){e.next=11;break}return Mk("SyncEngine","User change. New user:",n.toKey()),e.next=5,HT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.pa.forEach((function(e){e.forEach((function(e){e.reject(new qk(Bk.CANCELLED,t))}))})),e.pa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,_R(r,i.ns);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TR(e,t){var n=jk(e),r=n.ma.get(t);if(r&&r.Ta)return pS().add(r.key);var i=pS(),a=n.Aa.get(t);if(!a)return i;var o,u=C(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.da.get(s);i=i.unionWith(c.view.sa)}}catch(l){u.e(l)}finally{u.f()}return i}function CR(e,t){return AR.apply(this,arguments)}function AR(){return AR=tu(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),e.next=3,rC(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Pa(i),e.abrupt("return",(r.isPrimaryClient&&kR(r,n.targetId,a.la),a));case 6:case"end":return e.stop()}}),e)}))),AR.apply(this,arguments)}function RR(e,t){return NR.apply(this,arguments)}function NR(){return(NR=tu(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),e.abrupt("return",aC(r.localStore,n).then((function(e){return _R(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PR(e,t,n,r){return OR.apply(this,arguments)}function OR(){return OR=tu(Zo().mark((function e(t,n,r,i){var a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jk(t),e.next=3,function(e,t){var n=jk(e),r=jk(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Sw.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,oA(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(yR(a,n,i||null),mR(a,n),function(e,t){jk(jk(e).mutationQueue).Fn(t)}(a.localStore,n)):Vk();case 11:return e.next=13,_R(a,o);case 13:e.next=16;break;case 15:Mk("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),OR.apply(this,arguments)}function DR(e,t){return MR.apply(this,arguments)}function MR(){return(MR=tu(Zo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(WR(r=jk(t)),KR(r),!0!==n||!0===r.wa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,LR(r,i.toArray());case 5:return a=e.sent,r.wa=!0,e.next=9,xA(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(u=o.n()).done;)s=u.value,qC(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wa){e.next=25;break}return c=[],l=Promise.resolve(),r.Aa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return gR(r,t),tC(r.localStore,t,!0)})),WC(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,LR(r,c);case 21:return function(e){var t=jk(e);t.ma.forEach((function(e,n){WC(t.remoteStore,n)})),t.fa.Vr(),t.ma=new Map,t.Va=new gx(lw.comparator)}(r),r.wa=!1,e.next=25,xA(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LR(e,t,n){return FR.apply(this,arguments)}function FR(){return FR=tu(Zo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,y;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=jk(t),a=[],o=[],u=C(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Aa.get(c))||0===f.length){e.next=34;break}return e.next=11,eC(i.localStore,G_(f[0]));case 11:l=e.sent,d=C(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.da.get(p),e.next=20,CR(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,iC(i.localStore,c);case 36:return y=e.sent,e.next=39,eC(i.localStore,y);case 39:return l=e.sent,e.next=42,ZA(i,zR(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ea.i_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),FR.apply(this,arguments)}function zR(e){return V_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function VR(e){return function(e){return jk(jk(e).persistence).Bi()}(jk(e).localStore)}function UR(e,t,n,r){return jR.apply(this,arguments)}function jR(){return jR=tu(Zo().mark((function e(t,n,r,i){var a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=jk(t)).wa){e.next=3;break}return e.abrupt("return",void Mk("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.Aa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,aC(a.localStore,eS(o[0]));case 10:return u=e.sent,s=fE.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Ix.EMPTY_BYTE_STRING),e.next=14,_R(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,tC(a.localStore,n,!0);case 17:return gR(a,n,i),e.abrupt("break",20);case 19:Vk();case 20:case"end":return e.stop()}}),e)}))),jR.apply(this,arguments)}function BR(e,t,n){return qR.apply(this,arguments)}function qR(){return qR=tu(Zo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=WR(t)).wa){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Aa.has(u)){e.next=10;break}return Mk("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,iC(i.localStore,u);case 12:return s=e.sent,e.next=15,eC(i.localStore,s);case 15:return c=e.sent,e.next=18,ZA(i,zR(s),c.targetId,!1,c.resumeToken);case 18:qC(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,d=Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Aa.has(t),!e.t0){e.next=5;break}return e.next=5,tC(i.localStore,t,!1).then((function(){WC(i.remoteStore,t),gR(i,t)})).catch(xw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),qR.apply(this,arguments)}function WR(e){var t=jk(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sR.bind(null,t),t.Ea.i_=FA.bind(null,t.eventManager),t.Ea.ba=zA.bind(null,t.eventManager),t}function KR(e){var t=jk(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dR.bind(null,t),t}function GR(e,t,n){var r=jk(e);(function(){var e=tu(Zo().mark((function e(t,n,r){var i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=jk(e),r=CE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(WA(i)),a=new qA(i,t.localStore,n.serializer),e.next=15,n.Da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.J_(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.Da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,_R(t,s.X_,void 0);case 31:return e.next=33,function(e,t){var n=jk(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Z_));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Fk("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var HR=function(){function e(){p(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=NC(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return GT(this.persistence,new WT,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new OT(MT.jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new kC}},{key:"terminate",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),QR=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).va=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(n,[{key:"initialize",value:function(){var e=tu(Zo().mark((function e(t){var r=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jo(w(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.va.initialize(this,t);case 4:return e.next=6,KR(this.va.syncEngine);case 6:return e.next=8,oA(this.va.remoteStore);case 8:return e.next=10,this.persistence.mi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return GT(this.persistence,new WT,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new cT(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Mw(t,this.persistence);return new Dw(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=BT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?QI.withCacheSize(this.cacheSizeBytes):QI.DEFAULT;return new VT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,AC(),RC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new kC}}]),n}(HR),$R=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r,!1)).va=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=tu(Zo().mark((function e(t){var r,i=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jo(w(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.va.syncEngine,e.t0=this.sharedClientState instanceof bC,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={zs:PR.bind(null,r),js:UR.bind(null,r),Hs:BR.bind(null,r),Bi:VR.bind(null,r),Gs:RR.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.mi(function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DR(i.va.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=AC();if(!bC.v(t))throw new qk(Bk.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=BT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(QR),YR=function(){function e(){p(this,e)}return g(e,[{key:"initialize",value:function(){var e=tu(Zo().mark((function e(t,n){var r=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return uR(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ER.bind(null,this.syncEngine),e.next=12,xA(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new PA}},{key:"createDatastore",value:function(e){var t=NC(e.databaseInfo.databaseId),n=function(e){return new CC(e)}(e.databaseInfo);return function(e,t,n,r){return new LC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new zC(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return uR(t.syncEngine,e,0)}),xC.v()?new xC:new wC)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new YA(e,t,n,r,i,a);return o&&(u.wa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jk(t),Mk("RemoteStore","RemoteStore shutting down."),n.w_.add(5),e.next=5,jC(n);case 5:n.b_.shutdown(),n.D_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function XR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return tu(Zo().mark((function r(){var i;return Zo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var JR=function(){function e(t){p(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Ca(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ca(this.observer.error,e):Lk("Uncaught Error in snapshot listener:",e.toString())}},{key:"Fa",value:function(){this.muted=!0}},{key:"Ca",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ZR=function(){function e(t,n){var r=this;p(this,e),this.Ma=t,this.serializer=n,this.metadata=new Wk,this.buffer=new Uint8Array,this.xa=new TextDecoder("utf-8"),this.Oa().then((function(e){e&&e.j_()?r.metadata.resolve(e.z_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.z_))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.Ma.cancel()}},{key:"getMetadata",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Oa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oa",value:function(){var e=tu(Zo().mark((function e(){var t,n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Na();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xa.decode(t),r=Number(n),isNaN(r)&&this.Ba("length string (".concat(n,") is not valid number")),e.next=9,this.La(r);case 9:return i=e.sent,e.abrupt("return",new jA(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ka",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Na",value:function(){var e=tu(Zo().mark((function e(){var t,n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ka()<0)){e.next=7;break}return e.next=3,this.qa();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ka())<0&&this.Ba("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"La",value:function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.qa();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ba("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ba",value:function(e){throw this.Ma.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"qa",value:function(){var e=tu(Zo().mark((function e(){var t,n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ma.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),eN=function(){function e(t){p(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=tu(Zo().mark((function e(t){var n,r=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new qk(Bk.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=tu(Zo().mark((function e(t,n){var r,i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),i=ME(r.serializer)+"/documents",a={documents:n.map((function(e){return NE(r.serializer,e)}))},e.next=5,r.wo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=VE(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Uk(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new $S(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=tu(Zo().mark((function e(){var t,n=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=lw.fromPath(t);n.mutations.push(new YS(r,n.precondition(r)))})),e.next=7,function(){var e=tu(Zo().mark((function e(t,n){var r,i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jk(t),i=ME(r.serializer)+"/documents",a={writes:n.map((function(e){return UE(r.serializer,e)}))},e.next=3,r.mo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Vk();t=aw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new qk(Bk.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(aw.min())?DS.exists(!1):DS.updateTime(t):DS.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(aw.min()))throw new qk(Bk.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return DS.updateTime(t)}return DS.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),tN=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Qa=r.maxAttempts,this.$o=new PC(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.Qa-=1,this.Ka()}},{key:"Ka",value:function(){var e=this;this.$o.Oo(tu(Zo().mark((function t(){var n,r;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new eN(e.datastore),(r=e.$a(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ua(t)}))}))})).catch((function(t){e.Ua(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"$a",value:function(e){try{var t=this.updateFunction(e);return!Fw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ua",value:function(e){var t=this;this.Qa>0&&this.Wa(e)?(this.Qa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Ka(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Wa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!tE(t)}return!1}}]),e}(),nN=function(){function e(t,n,r,i){var a=this;p(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nk.UNAUTHENTICATED,this.clientId=ew.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mk("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Mk("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new qk(Bk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Wk;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(tu(Zo().mark((function n(){var r;return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=TA(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function rN(e,t){return iN.apply(this,arguments)}function iN(){return iN=tu(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Mk("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,HT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),iN.apply(this,arguments)}function aN(e,t){return oN.apply(this,arguments)}function oN(){return oN=tu(Zo().mark((function e(t,n){var r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,sN(t);case 3:return r=e.sent,Mk("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return kA(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return kA(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),oN.apply(this,arguments)}function uN(e){return"FirebaseError"===e.name?e.code===Bk.FAILED_PRECONDITION||e.code===Bk.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function sN(e){return cN.apply(this,arguments)}function cN(){return(cN=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Mk("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,rN(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),uN(n=e.t0)){e.next=13;break}throw n;case 13:return Fk("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,rN(t,new HR);case 16:e.next=21;break;case 18:return Mk("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,rN(t,new HR);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function lN(e){return fN.apply(this,arguments)}function fN(){return(fN=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Mk("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,aN(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Mk("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,aN(t,new YR);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dN(e){return sN(e).then((function(e){return e.persistence}))}function hN(e){return sN(e).then((function(e){return e.localStore}))}function pN(e){return lN(e).then((function(e){return e.remoteStore}))}function vN(e){return lN(e).then((function(e){return e.syncEngine}))}function mN(e){return lN(e).then((function(e){return e.datastore}))}function yN(e){return gN.apply(this,arguments)}function gN(){return(gN=tu(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lN(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=XA.bind(null,n.syncEngine),r.onUnlisten=tR.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Wk;return e.asyncQueue.enqueueAndForget(tu(Zo().mark((function i(){return Zo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new JR({next:function(a){t.enqueueAndForget((function(){return MA(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new qk(Bk.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new qk(Bk.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new UA(U_(n.path),a,{includeMetadataChanges:!0,G_:!0});return OA(e,o)},i.next=3,yN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function kN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Wk;return e.asyncQueue.enqueueAndForget(tu(Zo().mark((function i(){return Zo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new JR({next:function(n){t.enqueueAndForget((function(){return MA(e,o)})),n.fromCache&&"server"===r.source?i.reject(new qk(Bk.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new UA(n,a,{includeMetadataChanges:!0,G_:!0});return OA(e,o)},i.next=3,yN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function wN(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var xN=new Map;function _N(e,t,n){if(!n)throw new qk(Bk.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function SN(e,t,n,r){if(!0===t&&!0===r)throw new qk(Bk.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function EN(e){if(!lw.isDocumentKey(e))throw new qk(Bk.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function IN(e){if(lw.isDocumentKey(e))throw new qk(Bk.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function TN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Vk()}function CN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new qk(Bk.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=TN(e);throw new qk(Bk.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function AN(e,t){if(t<=0)throw new qk(Bk.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var RN=function(){function e(t){var n,r;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new qk(Bk.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new qk(Bk.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}SN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wN(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new qk(Bk.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new qk(Bk.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new qk(Bk.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),NN=function(){function e(t,n,r,i){p(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RN({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new qk(Bk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new qk(Bk.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Gk;switch(e.type){case"firstParty":return new Yk(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new qk(Bk.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=xN.get(e);t&&(Mk("ComponentProvider","Removing Datastore"),xN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function PN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=CN(e,NN))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Fk("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=Nk.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[au(JSON.stringify({alg:"none",type:"JWT"})),au(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new qk(Bk.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Nk(c)}e._authCredentials=new Hk(new Kk(u,s))}}var ON=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),DN=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new MN(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),MN=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,U_(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new DN(this.firestore,null,new lw(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(ON);function LN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nu(e),_N("collection","path",t),e instanceof NN){var a=uw.fromString.apply(uw,[t].concat(r));return IN(a),new MN(e,null,a)}if(!(e instanceof DN||e instanceof MN))throw new qk(Bk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(uw.fromString.apply(uw,[t].concat(r)));return IN(o),new MN(e.firestore,null,o)}function FN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Nu(e),1===arguments.length&&(t=ew.V()),_N("doc","path",t),e instanceof NN){var a=uw.fromString.apply(uw,[t].concat(r));return EN(a),new DN(e,null,new lw(a))}if(!(e instanceof DN||e instanceof MN))throw new qk(Bk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(uw.fromString.apply(uw,[t].concat(r)));return EN(o),new DN(e.firestore,e instanceof MN?e.converter:null,new lw(o))}function zN(e,t){return e=Nu(e),t=Nu(t),(e instanceof DN||e instanceof MN)&&(t instanceof DN||t instanceof MN)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function VN(e,t){return e=Nu(e),t=Nu(t),e instanceof ON&&t instanceof ON&&e.firestore===t.firestore&&Y_(e._query,t._query)&&e.converter===t.converter}var UN=function(){function e(){var t=this;p(this,e),this.Ga=Promise.resolve(),this.za=[],this.ja=!1,this.Ha=[],this.Ja=null,this.Ya=!1,this.Za=!1,this.Xa=[],this.$o=new PC(this,"async_queue_retry"),this.eu=function(){var e=RC();e&&Mk("AsyncQueue","Visibility state changed to "+e.visibilityState),t.$o.Bo()};var n=RC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.eu)}return g(e,[{key:"isShuttingDown",get:function(){return this.ja}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.tu(),this.nu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ja){this.ja=!0,this.Za=e||!1;var t=RC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.eu)}}},{key:"enqueue",value:function(e){var t=this;if(this.tu(),this.ja)return new Promise((function(){}));var n=new Wk;return this.nu((function(){return t.ja&&t.Za?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.za.push(e),t.ru()}))}},{key:"ru",value:function(){var e=tu(Zo().mark((function e(){var t=this;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.za.length){e.next=14;break}return e.prev=1,e.next=4,this.za[0]();case 4:this.za.shift(),this.$o.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Aw(e.t0)){e.next=12;break}throw e.t0;case 12:Mk("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.za.length>0&&this.$o.Oo((function(){return t.ru()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(e){var t=this,n=this.Ga.then((function(){return t.Ya=!0,e().catch((function(e){t.Ja=e,t.Ya=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Lk("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ya=!1,e}))}));return this.Ga=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.tu(),this.Xa.indexOf(e)>-1&&(t=0);var i=IA.createAndSchedule(this,e,t,n,(function(e){return r.iu(e)}));return this.Ha.push(i),i}},{key:"tu",value:function(){this.Ja&&Vk()}},{key:"verifyOperationInProgress",value:function(){}},{key:"su",value:function(){var e=tu(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ga,e.next=3,t;case 3:if(t!==this.Ga){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ou",value:function(e){var t,n=C(this.Ha);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"_u",value:function(e){var t=this;return this.su().then((function(){t.Ha.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.Ha);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.su()}))}},{key:"au",value:function(e){this.Xa.push(e)}},{key:"iu",value:function(e){var t=this.Ha.indexOf(e);this.Ha.splice(t,1)}}]),e}();function jN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var BN=function(){function e(){p(this,e),this._progressObserver={},this._taskCompletionResolver=new Wk,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),qN=function(e){k(n,e);var t=S(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new UN,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||KN(this),this._firestoreClient.terminate()}}]),n}(NN);function WN(e){return e._firestoreClient||KN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function KN(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Dx(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,wN(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new nN(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function GN(e,t,n){var r=new Wk;return e.asyncQueue.enqueue(tu(Zo().mark((function i(){var a;return Zo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,rN(e,n);case 3:return i.next=5,aN(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),uN(a=i.t0)){i.next=13;break}throw a;case 13:Fk("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function HN(e){return function(e){var t=new Wk;return e.asyncQueue.enqueueAndForget(tu(Zo().mark((function n(){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=pR,n.next=3,vN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(WN(e=CN(e,qN)))}function QN(e){return function(e){return e.asyncQueue.enqueue(tu(Zo().mark((function t(){var n,r;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dN(e);case 2:return n=t.sent,t.next=5,pN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=jk(e);return t.w_.delete(0),VC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(WN(e=CN(e,qN)))}function $N(e){return function(e){return e.asyncQueue.enqueue(tu(Zo().mark((function t(){var n,r;return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dN(e);case 2:return n=t.sent,t.next=5,pN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=jk(t)).w_.add(0),e.next=4,jC(n);case 4:n.D_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(WN(e=CN(e,qN)))}function YN(e,t){var n=WN(e=CN(e,qN)),r=new BN;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ZR(e,t)}(function(e,t){if(e instanceof Uint8Array)return XR(e,t);if(e instanceof ArrayBuffer)return XR(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?aE().encode(e):e),t)}(n,NC(t));e.asyncQueue.enqueueAndForget(tu(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=GR,t.next=3,vN(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function XN(e,t){return function(e,t){return e.asyncQueue.enqueue(tu(Zo().mark((function n(){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=jk(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kr.getNamedQuery(e,t)}))},n.next=3,hN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(WN(e=CN(e,qN)),t).then((function(t){return t?new ON(e,null,t.query):null}))}function JN(e){if(e._initialized||e._terminated)throw new qk(Bk.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ZN=function(){function e(t){p(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ix.fromBase64String(t))}catch(t){throw new qk(Bk.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ix.fromUint8Array(t))}}]),e}(),eP=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new qk(Bk.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cw(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var tP=g((function e(t){p(this,e),this._methodName=t})),nP=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new qk(Bk.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new qk(Bk.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return tw(this._lat,e._lat)||tw(this._long,e._long)}}]),e}(),rP=/^__.*__$/,iP=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new qS(e,this.data,this.fieldMask,t,this.fieldTransforms):new BS(e,this.data,t,this.fieldTransforms)}}]),e}(),aP=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new qS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function oP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vk()}}var uP=function(){function e(t,n,r,i,a,o){p(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.uu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"cu",get:function(){return this.settings.cu}},{key:"lu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"hu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.lu({path:n,Pu:!1});return r.Iu(e),r}},{key:"Tu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.lu({path:n,Pu:!1});return r.uu(),r}},{key:"Eu",value:function(e){return this.lu({path:void 0,Pu:!0})}},{key:"du",value:function(e){return TP(e,this.settings.methodName,this.settings.Au||!1,this.path,this.settings.Ru)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"uu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Iu(this.path.get(e))}},{key:"Iu",value:function(e){if(0===e.length)throw this.du("Document fields must not be empty");if(oP(this.cu)&&rP.test(e))throw this.du('Document fields cannot begin and end with "__"')}}]),e}(),sP=function(){function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||NC(t)}return g(e,[{key:"Vu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uP({cu:e,methodName:t,Ru:n,path:cw.emptyPath(),Pu:!1,Au:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function cP(e){var t=e._freezeSettings(),n=NC(e._databaseId);return new sP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lP(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Vu(a.merge||a.mergeFields?2:0,t,n,i);_P("Data must be an object, but it was:",o,r);var u,s,c=wP(r,o);if(a.merge)u=new Sx(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=C(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=SP(t,l.value,n);if(!o.contains(h))throw new qk(Bk.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));CP(f,h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}u=new Sx(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new iP(new r_(c),u,s)}var fP=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.cu)throw 1===e.cu?e.du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tP);function dP(e,t,n){return new uP({cu:3,Ru:t.settings.Ru,methodName:e._methodName,Pu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var hP=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new PS(e.path,new SS)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tP),pP=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).mu=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=dP(this,e,!0),n=this.mu.map((function(e){return kP(e,t)})),r=new ES(n);return new PS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tP),vP=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).mu=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=dP(this,e,!0),n=this.mu.map((function(e){return kP(e,t)})),r=new TS(n);return new PS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tP),mP=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).fu=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new AS(e.serializer,bS(e.serializer,this.fu));return new PS(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tP);function yP(e,t,n,r){var i=e.Vu(1,t,n);_P("Data must be an object, but it was:",i,r);var a=[],o=r_.empty();mx(r,(function(e,r){var u=IP(t,e,n);r=Nu(r);var s=i.Tu(u);if(r instanceof fP)a.push(u);else{var c=kP(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Sx(a);return new aP(o,u,i.fieldTransforms)}function gP(e,t,n,r,i,a){var o=e.Vu(1,t,n),u=[SP(t,r,n)],s=[i];if(a.length%2!=0)throw new qk(Bk.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(SP(t,a[c])),s.push(a[c+1]);for(var l=[],f=r_.empty(),d=u.length-1;d>=0;--d)if(!CP(l,u[d])){var h=u[d],p=s[d];p=Nu(p);var v=o.Tu(h);if(p instanceof fP)l.push(h);else{var m=kP(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new Sx(l);return new aP(f,y,o.fieldTransforms)}function bP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kP(n,e.Vu(r?4:3,t))}function kP(e,t){if(xP(e=Nu(e)))return _P("Unsupported field value:",t,e),wP(e,t);if(e instanceof tP)return function(e,t){if(!oP(t.cu))throw t.du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.du("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Pu&&4!==t.cu)throw t.du("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=kP(n.value,t.Eu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Nu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bS(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=iw.fromDate(e);return{timestampValue:EE(t.serializer,n)}}if(e instanceof iw){var r=new iw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:EE(t.serializer,r)}}if(e instanceof nP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZN)return{bytesValue:IE(t.serializer,e._byteString)};if(e instanceof DN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.du("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:AE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.du("Unsupported field value: ".concat(TN(e)))}(e,t)}function wP(e,t){var n={};return yx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mx(e,(function(e,r){var i=kP(r,t.hu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof iw||e instanceof nP||e instanceof ZN||e instanceof DN||e instanceof tP)}function _P(e,t,n){if(!xP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=TN(n);throw"an object"===r?t.du(e+" a custom object"):t.du(e+" "+r)}}function SP(e,t,n){if((t=Nu(t))instanceof eP)return t._internalPath;if("string"==typeof t)return IP(e,t);throw TP("Field path arguments must be of type string or ",e,!1,void 0,n)}var EP=new RegExp("[~\\*/\\[\\]]");function IP(e,t,n){if(t.search(EP)>=0)throw TP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(eP,h(t.split(".")))._internalPath}catch(nt){throw TP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function TP(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new qk(Bk.INVALID_ARGUMENT,u+e+s)}function CP(e,t){return e.some((function(e){return e.isEqual(t)}))}var AP=function(){function e(t,n,r,i,a){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new DN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new RP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(NP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),RP=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return Jo(w(n.prototype),"data",this).call(this)}}]),n}(AP);function NP(e,t){return"string"==typeof t?IP(e,t):t instanceof eP?t._internalPath:t._delegate._internalPath}function PP(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new qk(Bk.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var OP=g((function e(){p(this,e)})),DP=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(OP);function MP(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof OP&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof FP})).length,n=e.filter((function(e){return e instanceof LP})).length;if(t>1||t>0&&n>0)throw new qk(Bk.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=C(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var LP=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return $P(e._query,t),new ON(e.firestore,e.converter,Q_(e._query,t))}},{key:"_parse",value:function(e){var t=cP(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new qk(Bk.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){QP(o,a);var s,c=[],l=C(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(HP(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=HP(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||QP(o,a),u=bP(n,t,o,"in"===a||"not-in"===a);return d_.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(DP);var FP=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:h_.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;$P(r,a),r=Q_(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new ON(e.firestore,e.converter,Q_(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(OP);var zP=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new qk(Bk.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new qk(Bk.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new c_(t,n);return function(e,t){if(null===B_(e)){var n=q_(e);null!==n&&YP(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new ON(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new z_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(DP);var VP=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new ON(e.firestore,e.converter,$_(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(DP);var UP=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=GP(e,this.type,this._docOrFields,this._inclusive);return new ON(e.firestore,e.converter,function(e,t){return new z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(DP);function jP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return UP._create("startAt",t,!0)}function BP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return UP._create("startAfter",t,!1)}var qP=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=GP(e,this.type,this._docOrFields,this._inclusive);return new ON(e.firestore,e.converter,function(e,t){return new z_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(DP);function WP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qP._create("endBefore",t,!1)}function KP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qP._create("endAt",t,!0)}function GP(e,t,n,r){if(n[0]=Nu(n[0]),n[0]instanceof AP)return function(e,t,n,r,i){if(!r)throw new qk(Bk.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=C(K_(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Kx(t,r.key));else{var c=r.data.field(s.field);if(Nx(c))throw new qk(Bk.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new qk(Bk.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new o_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=cP(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new qk(Bk.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new qk(Bk.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!W_(e)&&-1!==c.indexOf("/"))throw new qk(Bk.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(uw.fromString(c));if(!lw.isDocumentKey(l))throw new qk(Bk.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new lw(l);u.push(Kx(t,f))}else{var d=bP(n,r,c);u.push(d)}}return new o_(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function HP(e,t,n){if("string"==typeof(n=Nu(n))){if(""===n)throw new qk(Bk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!W_(t)&&-1!==n.indexOf("/"))throw new qk(Bk.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(uw.fromString(n));if(!lw.isDocumentKey(r))throw new qk(Bk.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Kx(e,new lw(r))}if(n instanceof DN)return Kx(e,n._key);throw new qk(Bk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(TN(n),"."))}function QP(e,t){if(!Array.isArray(e)||0===e.length)throw new qk(Bk.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function $P(e,t){if(t.isInequality()){var n=q_(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new qk(Bk.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=B_(e);null!==i&&YP(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new qk(Bk.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new qk(Bk.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function YP(e,t,n){if(!n.isEqual(t))throw new qk(Bk.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var XP=function(){function e(){p(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(zx(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ax(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rx(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Vk()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return mx(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new nP(Ax(e.latitude),Ax(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Px(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ox(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Cx(e);return new iw(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=uw.fromString(e);Uk(ZE(n));var r=new Mx(n.get(1),n.get(3)),i=new lw(n.popFirst(5));return r.isEqual(t)||Lk("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function JP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ZP=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new ZN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new DN(this.firestore,null,t)}}]),n}(XP);var eO=function(){function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),tO=function(e){k(n,e);var t=S(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return g(n,[{key:"exists",value:function(){return Jo(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new nO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(NP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(AP),nO=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jo(w(n.prototype),"data",this).call(this,e)}}]),n}(tO),rO=function(){function e(t,n,r,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new eO(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new nO(n._firestore,n._userDataWriter,r.key,r,new eO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qk(Bk.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new nO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new eO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new nO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new eO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:iO(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function iO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vk()}}function aO(e,t){return e instanceof tO&&t instanceof tO?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof rO&&t instanceof rO&&e._firestore===t._firestore&&VN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var oO=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new ZN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new DN(this.firestore,null,t)}}]),n}(XP);function uO(e){e=CN(e,DN);var t=CN(e.firestore,qN),n=WN(t),r=new oO(t);return function(e,t){var n=new Wk;return e.asyncQueue.enqueueAndForget(tu(Zo().mark((function r(){return Zo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=tu(Zo().mark((function e(t,n,r){var i,a;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=jk(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new qk(Bk.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=TA(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new tO(t,r,e._key,n,new eO(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function sO(e){e=CN(e,ON);var t=CN(e.firestore,qN),n=WN(t),r=new oO(t);return PP(e._query),kN(n,e._query).then((function(n){return new rO(t,r,e,n)}))}function cO(e){e=CN(e,ON);var t=CN(e.firestore,qN),n=WN(t),r=new oO(t);return function(e,t){var n=new Wk;return e.asyncQueue.enqueueAndForget(tu(Zo().mark((function r(){return Zo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=tu(Zo().mark((function e(t,n,r){var i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rC(t,n,!0);case 3:i=e.sent,a=new HA(n,i.os),o=a.oa(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=TA(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new rO(t,r,e,n)}))}function lO(e){e=CN(e,ON);var t=CN(e.firestore,qN),n=WN(t),r=new oO(t);return kN(n,e._query,{source:"server"}).then((function(n){return new rO(t,r,e,n)}))}function fO(e,t,n){e=CN(e,DN);var r=CN(e.firestore,qN),i=JP(e.converter,t,n);return vO(r,[lP(cP(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,DS.none())])}function dO(e,t,n){e=CN(e,DN);for(var r=CN(e.firestore,qN),i=cP(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return vO(r,[("string"==typeof(t=Nu(t))||t instanceof eP?gP(i,"updateDoc",e._key,t,n,o):yP(i,"updateDoc",e._key,t)).toMutation(e._key,DS.exists(!0))])}function hO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Nu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||jN(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(jN(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof DN)l=CN(e.firestore,qN),f=U_(e._key.path),c={next:function(t){n[s]&&n[s](mO(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=CN(e,ON);l=CN(p.firestore,qN),f=p._query;var v=new oO(l);c={next:function(e){n[s]&&n[s](new rO(l,v,p,e))},error:n[s+1],complete:n[s+2]},PP(e._query)}return function(e,t,n,r){var i=new JR(r),a=new UA(t,i,n);return e.asyncQueue.enqueueAndForget(tu(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=OA,t.next=3,yN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Fa(),e.asyncQueue.enqueueAndForget(tu(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=MA,t.next=3,yN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(WN(l),f,d,c)}function pO(e,t){return function(e,t){var n=new JR(t);return e.asyncQueue.enqueueAndForget(tu(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){jk(e).N_.add(t),t.next()},t.next=3,yN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Fa(),e.asyncQueue.enqueueAndForget(tu(Zo().mark((function t(){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){jk(e).N_.delete(t)},t.next=3,yN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(WN(e=CN(e,qN)),jN(t)?t:{next:t})}function vO(e,t){return function(e,t){var n=new Wk;return e.asyncQueue.enqueueAndForget(tu(Zo().mark((function r(){return Zo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=rR,r.next=3,vN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(WN(e),t)}function mO(e,t,n){var r=n.docs.get(t._key),i=new oO(e);return new tO(e,i,t._key,r,new eO(n.hasPendingWrites,n.fromCache),t.converter)}var yO={maxAttempts:5},gO=function(){function e(t,n){p(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cP(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=bO(e,this._firestore),i=JP(r.converter,t,n),a=lP(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,DS.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=bO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Nu(t))||t instanceof eP?gP(this._dataReader,"WriteBatch.update",i._key,t,n,o):yP(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,DS.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=bO(e,this._firestore);return this._mutations=this._mutations.concat(new $S(t._key,DS.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new qk(Bk.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function bO(e,t){if((e=Nu(e)).firestore!==t)throw new qk(Bk.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var kO=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=bO(e,this._firestore),i=new oO(this._firestore);return Jo(w(n.prototype),"get",this).call(this,e).then((function(e){return new tO(t._firestore,i,r._key,e._document,new eO(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){p(this,e),this._firestore=t,this._transaction=n,this._dataReader=cP(t)}return g(e,[{key:"get",value:function(e){var t=this,n=bO(e,this._firestore),r=new ZP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Vk();var i=e[0];if(i.isFoundDocument())return new AP(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new AP(t._firestore,r,n._key,null,n.converter);throw Vk()}))}},{key:"set",value:function(e,t,n){var r=bO(e,this._firestore),i=JP(r.converter,t,n),a=lP(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=bO(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Nu(t))||t instanceof eP?gP(this._dataReader,"Transaction.update",i._key,t,n,o):yP(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=bO(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function wO(e,t,n){e=CN(e,qN);var r=Object.assign(Object.assign({},yO),n);return function(e){if(e.maxAttempts<1)throw new qk(Bk.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Wk;return e.asyncQueue.enqueueAndForget(tu(Zo().mark((function i(){var a;return Zo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,mN(e);case 2:a=i.sent,new tN(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(WN(e),(function(n){return t(new kO(e,n))}),r)}function xO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pP("arrayUnion",t)}function _O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vP("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Pk=e}(As),xs(new Pu("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new qN(new Qk(e.getProvider("auth-internal")),new Jk(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new qk(Bk.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mx(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ms(Rk,"4.1.1",e),Ms(Rk,"4.1.1","esm2017")}();var SO=function(){return SO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},SO.apply(this,arguments)},EO=function(e){return{loading:void 0===e||null===e,value:e}},IO=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return SO(SO({},e),{error:t.error,loading:!1,value:void 0});case"reset":return EO(t.defaultValue);case"value":return SO(SO({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),EO(t)),r=n[0],a=n[1],o=(0,i.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,i.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,i.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},TO=function(e,t,n){var r=(0,i.useRef)(e);return(0,i.useEffect)((function(){t(e,r.current)||(r.current=e,n&&n())})),r},CO=function(e,t){var n=!e&&!t,r=!!e&&!!t&&VN(e,t);return n||r},AO=function(e,t){return TO(e,CO,t)},RO=function(e,t){var n=function(e,t){var n=IO(),r=n.error,a=n.loading,o=n.reset,u=n.setError,s=n.setValue,c=n.value,l=AO(e,o);return(0,i.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?hO(l.current,t.snapshotListenOptions,s,u):hO(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]),[c,a,r]}(e,t),r=n[0],a=n[1],o=n[2];return[NO(r,null===t||void 0===t?void 0:t.snapshotOptions,null===t||void 0===t?void 0:t.initialValue),a,o,r]},NO=function(e,t,n){return(0,i.useMemo)((function(){var r;return null!==(r=null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(t)})))&&void 0!==r?r:n}),[e,t])};function PO(e){return ha("MuiSvgIcon",e)}pa("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var OO=["children","className","color","component","fontSize","htmlColor","titleAccess","viewBox"],DO=ia("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(fa(n.color))],t["fontSize".concat(fa(n.fontSize))]]}})((function(e){var t,n,r=e.theme,i=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:r.transitions.create("fill",{duration:r.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:r.typography.pxToRem(20),medium:r.typography.pxToRem(24),large:r.typography.pxToRem(35)}[i.fontSize],color:null!=(t=null==(n=r.palette[i.color])?void 0:n.main)?t:{action:r.palette.action.active,disabled:r.palette.action.disabled,inherit:void 0}[i.color]}})),MO=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,l=void 0===c?"medium":c,f=n.htmlColor,d=n.titleAccess,h=n.viewBox,p=void 0===h?"0 0 24 24":h,v=et(n,OO),m=tt({},n,{color:o,component:s,fontSize:l,viewBox:p}),y=function(e){var t=e.color,n=e.fontSize,r=e.classes;return it({root:["root","inherit"!==t&&"color".concat(fa(t)),"fontSize".concat(fa(n))]},PO,r)}(m);return(0,ma.jsxs)(DO,tt({as:s,className:rt(y.root,i),ownerState:m,focusable:"false",viewBox:p,color:f,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t},v,{children:[r,d?(0,ma.jsx)("title",{children:d}):null]}))}));MO.muiName="SvgIcon";var LO=MO;function FO(e,t){var n=function(n,r){return(0,ma.jsx)(LO,tt({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))};return n.muiName=LO.muiName,i.memo(i.forwardRef(n))}var zO=FO((0,ma.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function VO(e){return ha("MuiAvatar",e)}pa("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var UO=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],jO=ia("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return tt({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:t.shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),BO=ia("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),qO=ia(zO,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var WO=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiAvatar"}),r=n.alt,a=n.children,o=n.className,u=n.component,s=void 0===u?"div":u,c=n.imgProps,l=n.sizes,d=n.src,h=n.srcSet,p=n.variant,v=void 0===p?"circular":p,m=et(n,UO),y=null,g=function(e){var t=e.crossOrigin,n=e.referrerPolicy,r=e.src,a=e.srcSet,o=f(i.useState(!1),2),u=o[0],s=o[1];return i.useEffect((function(){if(r||a){s(!1);var e=!0,i=new Image;return i.onload=function(){e&&s("loaded")},i.onerror=function(){e&&s("error")},i.crossOrigin=t,i.referrerPolicy=n,i.src=r,a&&(i.srcset=a),function(){e=!1}}}),[t,n,r,a]),u}(tt({},c,{src:d,srcSet:h})),b=d||h,k=b&&"error"!==g,w=tt({},n,{colorDefault:!k,component:s,variant:v}),x=function(e){var t=e.classes;return it({root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]},VO,t)}(w);return y=k?(0,ma.jsx)(BO,tt({alt:r,src:d,srcSet:h,sizes:l,ownerState:w,className:x.img},c)):null!=a?a:b&&r?r[0]:(0,ma.jsx)(qO,{className:x.fallback}),(0,ma.jsx)(jO,tt({as:s,ownerState:w,className:rt(x.root,o),ref:t},m,{children:y}))})),KO=WO;var GO=function(e){return"string"===typeof e};function HO(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var QO=i.createContext();function $O(){return i.useContext(QO)}function YO(){return sa(ea)}var XO=Ka;var JO=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r};function ZO(e){return e&&e.ownerDocument||document}function eD(e){return ZO(e).defaultView||window}var tD=eD,nD=["onChange","maxRows","minRows","style","value"];function rD(e,t){return parseInt(e[t],10)||0}var iD={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},aD=i.forwardRef((function(e,t){var n=e.onChange,r=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,c=et(e,nD),l=i.useRef(null!=s).current,d=i.useRef(null),h=Wa(t,d),p=i.useRef(null),v=i.useRef(0),m=f(i.useState({}),2),y=m[0],g=m[1],b=i.useCallback((function(){var t=d.current,n=tD(t).getComputedStyle(t);if("0px"!==n.width){var i=p.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");var a=n["box-sizing"],u=rD(n,"padding-bottom")+rD(n,"padding-top"),s=rD(n,"border-bottom-width")+rD(n,"border-top-width"),c=i.scrollHeight;i.value="x";var l=i.scrollHeight,f=c;o&&(f=Math.max(Number(o)*l,f)),r&&(f=Math.min(Number(r)*l,f));var h=(f=Math.max(f,l))+("border-box"===a?u+s:0),m=Math.abs(f-c)<=1;g((function(e){return v.current<20&&(h>0&&Math.abs((e.outerHeightStyle||0)-h)>1||e.overflow!==m)?(v.current+=1,{overflow:m,outerHeightStyle:h}):e}))}}),[r,o,e.placeholder]);i.useEffect((function(){var e=JO((function(){v.current=0,b()})),t=tD(d.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}),[b]),XO((function(){b()})),i.useEffect((function(){v.current=0}),[s]);return(0,ma.jsxs)(i.Fragment,{children:[(0,ma.jsx)("textarea",tt({value:s,onChange:function(e){v.current=0,l||b(),n&&n(e)},ref:h,rows:o,style:tt({height:y.outerHeightStyle,overflow:y.overflow?"hidden":null},u)},c)),(0,ma.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:tt({},iD,u,{padding:0})})]})})),oD=aD;function uD(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,ma.jsx)(ho,{styles:i})}var sD=function(e){return(0,ma.jsx)(uD,tt({},e,{defaultTheme:ea}))};function cD(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function lD(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(cD(e.value)&&""!==e.value||t&&cD(e.defaultValue)&&""!==e.defaultValue)}function fD(e){return ha("MuiInputBase",e)}var dD=pa("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),hD=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],pD=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(fa(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},vD=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},mD=ia("div",{name:"MuiInputBase",slot:"Root",overridesResolver:pD})((function(e){var t=e.theme,n=e.ownerState;return tt({},t.typography.body1,Gn({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(dD.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&tt({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),yD=ia("input",{name:"MuiInputBase",slot:"Input",overridesResolver:vD})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a={color:"currentColor",opacity:i?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},o={opacity:"0 !important"},u={opacity:i?.42:.5};return tt((Gn(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(dD.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),Gn(t,"&.".concat(dD.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),Gn(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield",WebkitAppearance:"textfield"})})),gD=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiInputBase"}),r=n["aria-describedby"],a=n.autoComplete,o=n.autoFocus,u=n.className,s=n.components,c=void 0===s?{}:s,l=n.componentsProps,d=void 0===l?{}:l,h=n.defaultValue,p=n.disabled,v=n.endAdornment,m=n.fullWidth,y=void 0!==m&&m,g=n.id,b=n.inputComponent,k=void 0===b?"input":b,w=n.inputProps,x=void 0===w?{}:w,_=n.inputRef,S=n.maxRows,E=n.minRows,I=n.multiline,T=void 0!==I&&I,C=n.name,A=n.onBlur,R=n.onChange,N=n.onClick,P=n.onFocus,O=n.onKeyDown,D=n.onKeyUp,M=n.placeholder,L=n.readOnly,F=n.renderSuffix,z=n.rows,V=n.startAdornment,U=n.type,j=void 0===U?"text":U,B=n.value,q=et(n,hD),W=YO(),K=null!=x.value?x.value:B,G=i.useRef(null!=K).current,H=i.useRef(),Q=i.useCallback((function(e){0}),[]),$=Wa(x.ref,Q),Y=Wa(_,$),X=Wa(H,Y),J=f(i.useState(!1),2),Z=J[0],ee=J[1],te=$O();var ne=HO({props:n,muiFormControl:te,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ne.focused=te?te.focused:Z,i.useEffect((function(){!te&&p&&Z&&(ee(!1),A&&A())}),[te,p,Z,A]);var re=te&&te.onFilled,ie=te&&te.onEmpty,ae=i.useCallback((function(e){lD(e)?re&&re():ie&&ie()}),[re,ie]);XO((function(){G&&ae({value:K})}),[K,ae,G]);i.useEffect((function(){ae(H.current)}),[]);var oe=k,ue=x;T&&"input"===oe&&(ue=tt(z?{type:void 0,minRows:z,maxRows:z}:{type:void 0,maxRows:S,minRows:E},ue),oe=oD);i.useEffect((function(){te&&te.setAdornedStart(Boolean(V))}),[te,V]);var se=tt({},n,{color:ne.color||"primary",disabled:ne.disabled,endAdornment:v,error:ne.error,focused:ne.focused,formControl:te,fullWidth:y,hiddenLabel:ne.hiddenLabel,multiline:T,size:ne.size,startAdornment:V,type:j}),ce=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.size,d=e.startAdornment,h=e.type;return it({root:["root","color".concat(fa(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===f&&"sizeSmall",l&&"multiline",d&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===h&&"inputTypeSearch",l&&"inputMultiline","small"===f&&"inputSizeSmall",c&&"inputHiddenLabel",d&&"inputAdornedStart",a&&"inputAdornedEnd"]},fD,t)}(se),le=c.Root||mD,fe=d.root||{},de=c.Input||yD;return ue=tt({},ue,d.input),(0,ma.jsxs)(i.Fragment,{children:[(0,ma.jsx)(sD,{styles:{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}}}),(0,ma.jsxs)(le,tt({},fe,!GO(le)&&{ownerState:tt({},se,fe.ownerState),theme:W},{ref:t,onClick:function(e){H.current&&e.currentTarget===e.target&&H.current.focus(),N&&N(e)}},q,{className:rt(ce.root,fe.className,u),children:[V,(0,ma.jsx)(QO.Provider,{value:null,children:(0,ma.jsx)(de,tt({ownerState:se,"aria-invalid":ne.error,"aria-describedby":r,autoComplete:a,autoFocus:o,defaultValue:h,disabled:ne.disabled,id:g,onAnimationStart:function(e){ae("mui-auto-fill-cancel"===e.animationName?H.current:{value:"x"})},name:C,placeholder:M,readOnly:L,required:ne.required,rows:z,value:K,onKeyDown:O,onKeyUp:D,type:j},ue,!GO(de)&&{as:oe,ownerState:tt({},se,ue.ownerState),theme:W},{ref:X,className:rt(ce.input,ue.className,x.className),onBlur:function(e){A&&A(e),x.onBlur&&x.onBlur(e),te&&te.onBlur?te.onBlur(e):ee(!1)},onChange:function(e){if(!G){var t=e.target||H.current;if(null==t)throw new Error(Hn(1));ae({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];x.onChange&&x.onChange.apply(x,[e].concat(r)),R&&R.apply(void 0,[e].concat(r))},onFocus:function(e){ne.disabled?e.stopPropagation():(P&&P(e),x.onFocus&&x.onFocus(e),te&&te.onFocus?te.onFocus(e):ee(!0))}}))}),v,F?F(tt({},ne,{startAdornment:V})):null]}))]})})),bD=gD;function kD(e){return ha("MuiInput",e)}var wD=pa("MuiInput",["root","formControl","focused","disabled","colorSecondary","underline","error","sizeSmall","multiline","fullWidth","input","inputSizeSmall","inputMultiline","inputTypeSearch"]),xD=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],_D=ia(mD,{shouldForwardProp:function(e){return ta(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(h(pD(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return tt({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(Gn(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(wD.focused,":after"),{transform:"scaleX(1)"}),Gn(t,"&.".concat(wD.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),Gn(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),Gn(t,"&:hover:not(.".concat(wD.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),Gn(t,"&.".concat(wD.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),SD=ia(yD,{name:"MuiInput",slot:"Input",overridesResolver:vD})({}),ED=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,u=n.fullWidth,s=void 0!==u&&u,c=n.inputComponent,l=void 0===c?"input":c,f=n.multiline,d=void 0!==f&&f,h=n.type,p=void 0===h?"text":h,v=et(n,xD),m=function(e){var t=e.classes;return tt({},t,it({root:["root",!e.disableUnderline&&"underline"],input:["input"]},kD,t))}(n),y={root:{ownerState:{disableUnderline:r}}},g=o?zn(o,y):y;return(0,ma.jsx)(bD,tt({components:tt({Root:_D,Input:SD},a),componentsProps:g,fullWidth:s,inputComponent:l,multiline:d,ref:t,type:p},v,{classes:m}))}));ED.muiName="Input";var ID=ED;function TD(e){return ha("MuiFilledInput",e)}var CD=pa("MuiFilledInput",["root","colorSecondary","underline","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","hiddenLabel","input","inputSizeSmall","inputHiddenLabel","inputMultiline","inputAdornedStart","inputAdornedEnd"]),AD=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],RD=ia(mD,{shouldForwardProp:function(e){return ta(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(h(pD(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r=e.theme,i=e.ownerState,a="light"===r.palette.mode,o=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return tt((Gn(t={position:"relative",backgroundColor:u,borderTopLeftRadius:r.shape.borderRadius,borderTopRightRadius:r.shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:u}}},"&.".concat(CD.focused),{backgroundColor:u}),Gn(t,"&.".concat(CD.disabled),{backgroundColor:a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!i.disableUnderline&&(Gn(n={"&:after":{borderBottom:"2px solid ".concat(r.palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(CD.focused,":after"),{transform:"scaleX(1)"}),Gn(n,"&.".concat(CD.error,":after"),{borderBottomColor:r.palette.error.main,transform:"scaleX(1)"}),Gn(n,"&:before",{borderBottom:"1px solid ".concat(o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"}),Gn(n,"&:hover:not(.".concat(CD.disabled,"):before"),{borderBottom:"1px solid ".concat(r.palette.text.primary)}),Gn(n,"&.".concat(CD.disabled,":before"),{borderBottomStyle:"dotted"}),n),i.startAdornment&&{paddingLeft:12},i.endAdornment&&{paddingRight:12},i.multiline&&tt({padding:"25px 12px 8px"},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),ND=ia(yD,{name:"MuiFilledInput",slot:"Input",overridesResolver:vD})((function(e){var t=e.theme,n=e.ownerState;return tt({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),PD=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiFilledInput"}),r=n.components,i=void 0===r?{}:r,a=n.componentsProps,o=n.fullWidth,u=void 0!==o&&o,s=n.inputComponent,c=void 0===s?"input":s,l=n.multiline,f=void 0!==l&&l,d=n.type,h=void 0===d?"text":d,p=et(n,AD),v=tt({},n,{fullWidth:u,inputComponent:c,multiline:f,type:h}),m=function(e){var t=e.classes;return tt({},t,it({root:["root",!e.disableUnderline&&"underline"],input:["input"]},TD,t))}(n),y={root:{ownerState:v},input:{ownerState:v}},g=a?zn(a,y):y;return(0,ma.jsx)(bD,tt({components:tt({Root:RD,Input:ND},i),componentsProps:g,fullWidth:u,inputComponent:c,multiline:f,ref:t,type:h},p,{classes:m}))}));PD.muiName="Input";var OD=PD,DD=["children","classes","className","label","notched"],MD=ia("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),LD=ia("legend",{skipSx:!0})((function(e){var t=e.ownerState,n=e.theme;return tt({},void 0===t.label&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},void 0!==t.label&&tt({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function FD(e){return ha("MuiOutlinedInput",e)}var zD=pa("MuiOutlinedInput",["root","colorSecondary","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","notchedOutline","input","inputSizeSmall","inputMultiline","inputAdornedStart","inputAdornedEnd"]),VD=["components","fullWidth","inputComponent","label","multiline","notched","type"],UD=ia(mD,{shouldForwardProp:function(e){return ta(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:pD})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return tt((Gn(t={position:"relative",borderRadius:n.shape.borderRadius},"&:hover .".concat(zD.notchedOutline),{borderColor:n.palette.text.primary}),Gn(t,"@media (hover: none)",Gn({},"&:hover .".concat(zD.notchedOutline),{borderColor:i})),Gn(t,"&.".concat(zD.focused," .").concat(zD.notchedOutline),{borderColor:n.palette[r.color].main,borderWidth:2}),Gn(t,"&.".concat(zD.error," .").concat(zD.notchedOutline),{borderColor:n.palette.error.main}),Gn(t,"&.".concat(zD.disabled," .").concat(zD.notchedOutline),{borderColor:n.palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&tt({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),jD=ia((function(e){var t=e.className,n=e.label,r=e.notched,i=et(e,DD),a=tt({},e,{notched:r,label:n});return(0,ma.jsx)(MD,tt({"aria-hidden":!0,className:t,ownerState:a},i,{children:(0,ma.jsx)(LD,{ownerState:a,children:n?(0,ma.jsx)("span",{children:n}):(0,ma.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}})})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),BD=ia(yD,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:vD})((function(e){var t=e.theme,n=e.ownerState;return tt({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),qD=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiOutlinedInput"}),r=n.components,i=void 0===r?{}:r,a=n.fullWidth,o=void 0!==a&&a,u=n.inputComponent,s=void 0===u?"input":u,c=n.label,l=n.multiline,f=void 0!==l&&l,d=n.notched,h=n.type,p=void 0===h?"text":h,v=et(n,VD),m=function(e){var t=e.classes;return tt({},t,it({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},FD,t))}(n);return(0,ma.jsx)(bD,tt({components:tt({Root:UD,Input:BD},i),renderSuffix:function(e){return(0,ma.jsx)(jD,{className:m.notchedOutline,label:c,notched:"undefined"!==typeof d?d:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:o,inputComponent:s,multiline:f,ref:t,type:p},v,{classes:tt({},m,{notchedOutline:null})}))}));qD.muiName="Input";var WD=qD;function KD(e){return ha("MuiFormLabel",e)}var GD=pa("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),HD=["children","className","color","component","disabled","error","filled","focused","required"],QD=ia("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return tt({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return tt({color:n.palette.text.secondary},n.typography.body1,(Gn(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(GD.focused),{color:n.palette[r.color].main}),Gn(t,"&.".concat(GD.disabled),{color:n.palette.text.disabled}),Gn(t,"&.".concat(GD.error),{color:n.palette.error.main}),t))})),$D=ia("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return Gn({},"&.".concat(GD.error),{color:t.palette.error.main})})),YD=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=et(n,HD),s=HO({props:n,muiFormControl:$O(),states:["color","required","focused","disabled","error","filled"]}),c=tt({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required;return it({root:["root","color".concat(fa(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]},KD,t)}(c);return(0,ma.jsxs)(QD,tt({as:o,ownerState:c,className:rt(l.root,i),ref:t},u,{children:[r,s.required&&(0,ma.jsxs)($D,{ownerState:c,"aria-hidden":!0,className:l.asterisk,children:["\u2009","*"]})]}))})),XD=YD;function JD(e){return ha("MuiInputLabel",e)}pa("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var ZD=["disableAnimation","margin","shrink","variant"],eM=ia(XD,{shouldForwardProp:function(e){return ta(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Gn({},"& .".concat(GD.asterisk),t.asterisk),t.root,!n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return tt({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&tt({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&tt({transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&tt({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),tM=i.forwardRef((function(e,t){var n=la({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=et(n,ZD),u=$O(),s=a;"undefined"===typeof s&&u&&(s=u.filled||u.focused||u.adornedStart);var c=HO({props:n,muiFormControl:u,states:["size","variant","required"]}),l=tt({},n,{disableAnimation:i,formControl:u,shrink:s,size:c.size,variant:c.variant,required:c.required}),f=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return tt({},t,it({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},JD,t))}(l);return(0,ma.jsx)(eM,tt({"data-shrink":s,ownerState:l,ref:t},o,{classes:f}))}));var nM=function(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function rM(e){return ha("MuiFormControl",e)}pa("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var iM=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],aM=ia("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return tt({},t.root,t["margin".concat(fa(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return tt({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),oM=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiFormControl"}),r=n.children,a=n.className,o=n.color,u=void 0===o?"primary":o,s=n.component,c=void 0===s?"div":s,l=n.disabled,d=void 0!==l&&l,h=n.error,p=void 0!==h&&h,v=n.focused,m=n.fullWidth,y=void 0!==m&&m,g=n.hiddenLabel,b=void 0!==g&&g,k=n.margin,w=void 0===k?"none":k,x=n.required,_=void 0!==x&&x,S=n.size,E=void 0===S?"medium":S,I=n.variant,T=void 0===I?"outlined":I,C=et(n,iM),A=tt({},n,{color:u,component:c,disabled:d,error:p,fullWidth:y,hiddenLabel:b,margin:w,required:_,size:E,variant:T}),R=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return it({root:["root","none"!==n&&"margin".concat(fa(n)),r&&"fullWidth"]},rM,t)}(A),N=f(i.useState((function(){var e=!1;return r&&i.Children.forEach(r,(function(t){if(nM(t,["Input","Select"])){var n=nM(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),2),P=N[0],O=N[1],D=f(i.useState((function(){var e=!1;return r&&i.Children.forEach(r,(function(t){nM(t,["Input","Select"])&&lD(t.props,!0)&&(e=!0)})),e})),2),M=D[0],L=D[1],F=f(i.useState(!1),2),z=F[0],V=F[1];d&&z&&V(!1);var U=void 0===v||d?z:v,j=i.useCallback((function(){L(!0)}),[]),B={adornedStart:P,setAdornedStart:O,color:u,disabled:d,error:p,filled:M,focused:U,fullWidth:y,hiddenLabel:b,size:E,onBlur:function(){V(!1)},onEmpty:i.useCallback((function(){L(!1)}),[]),onFilled:j,onFocus:function(){V(!0)},registerEffect:undefined,required:_,variant:T};return(0,ma.jsx)(QO.Provider,{value:B,children:(0,ma.jsx)(aM,tt({as:c,ownerState:A,className:rt(R.root,a),ref:t},C,{children:r}))})})),uM=oM;function sM(e){return ha("MuiFormHelperText",e)}var cM=pa("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),lM=["children","className","component","disabled","error","filled","focused","margin","required","variant"],fM=ia("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(fa(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return tt({color:n.palette.text.secondary},n.typography.caption,(Gn(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(cM.disabled),{color:n.palette.text.disabled}),Gn(t,"&.".concat(cM.error),{color:n.palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),dM=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,u=et(n,lM),s=HO({props:n,muiFormControl:$O(),states:["variant","size","disabled","error","filled","focused","required"]}),c=tt({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,u=e.focused,s=e.required;return it({root:["root",i&&"disabled",a&&"error",r&&"size".concat(fa(r)),n&&"contained",u&&"focused",o&&"filled",s&&"required"]},sM,t)}(c);return(0,ma.jsx)(fM,tt({as:o,ownerState:c,className:rt(l.root,i),ref:t},u,{children:" "===r?(0,ma.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):r}))})),hM=(n(441),ZO);var pM=i.createContext({});function vM(e){return ha("MuiList",e)}pa("MuiList",["root","padding","dense","subheader"]);var mM=["children","className","component","dense","disablePadding","subheader"],yM=ia("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return tt({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),gM=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiList"}),r=n.children,a=n.className,o=n.component,u=void 0===o?"ul":o,s=n.dense,c=void 0!==s&&s,l=n.disablePadding,f=void 0!==l&&l,d=n.subheader,h=et(n,mM),p=i.useMemo((function(){return{dense:c}}),[c]),v=tt({},n,{component:u,dense:c,disablePadding:f}),m=function(e){var t=e.classes;return it({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},vM,t)}(v);return(0,ma.jsx)(pM.Provider,{value:p,children:(0,ma.jsxs)(yM,tt({as:u,className:rt(m.root,a),ref:t,ownerState:v},h,{children:[d,r]}))})}));function bM(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var kM=bM,wM=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function xM(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function _M(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function SM(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function EM(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return!1;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&SM(u,a)&&!s)return u.focus(),!0;u=i(e,u,n)}return!1}var IM=i.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,a=void 0!==r&&r,o=e.autoFocusItem,u=void 0!==o&&o,s=e.children,c=e.className,l=e.disabledItemsFocusable,f=void 0!==l&&l,d=e.disableListWrap,h=void 0!==d&&d,p=e.onKeyDown,v=e.variant,m=void 0===v?"selectedMenu":v,y=et(e,wM),g=i.useRef(null),b=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});XO((function(){a&&g.current.focus()}),[a]),i.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!g.current.style.width;if(e.clientHeight<g.current.clientHeight&&n){var r="".concat(kM(hM(e)),"px");g.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,g.current.style.width="calc(100% + ".concat(r,")")}return g.current}}}),[]);var k=Wa(g,t),w=-1;i.Children.forEach(s,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===m&&e.props.selected||-1===w)&&(w=t))}));var x=i.Children.map(s,(function(e,t){if(t===w){var n={};return u&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===m&&(n.tabIndex=0),i.cloneElement(e,n)}return e}));return(0,ma.jsx)(gM,tt({role:"menu",ref:k,className:c,onKeyDown:function(e){var t=g.current,n=e.key,r=hM(t).activeElement;if("ArrowDown"===n)e.preventDefault(),EM(t,r,h,f,xM);else if("ArrowUp"===n)e.preventDefault(),EM(t,r,h,f,_M);else if("Home"===n)e.preventDefault(),EM(t,null,h,f,xM);else if("End"===n)e.preventDefault(),EM(t,null,h,f,_M);else if(1===n.length){var i=b.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&SM(r,i);i.previousKeyMatched&&(u||EM(t,r,!1,f,xM,i))?e.preventDefault():i.previousKeyMatched=!1}p&&p(e)},tabIndex:a?0:-1},y,{children:x}))})),TM=IM,CM=n(164),AM=!1,RM="unmounted",NM="exited",PM="entering",OM="entered",DM="exiting",MM=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=NM,r.appearStatus=PM):i=OM:i=t.unmountOnExit||t.mountOnEnter?RM:NM,r.state={status:i},r.nextCallback=null,r}io(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===RM?{status:NM}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==PM&&n!==OM&&(t=PM):n!==PM&&n!==OM||(t=DM)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===PM){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:CM.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===NM&&this.setState({status:RM})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[CM.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||AM?this.safeSetState({status:OM},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:PM},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:OM},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:CM.findDOMNode(this);t&&!AM?(this.props.onExit(r),this.safeSetState({status:DM},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:NM},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:NM},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:CM.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===RM)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,et(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(ao.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function LM(){}MM.contextType=ao,MM.propTypes={},MM.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:LM,onEntering:LM,onEntered:LM,onExit:LM,onExiting:LM,onExited:LM},MM.UNMOUNTED=RM,MM.EXITED=NM,MM.ENTERING=PM,MM.ENTERED=OM,MM.EXITING=DM;var FM=MM,zM=function(e){return e.scrollTop};function VM(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var UM=["appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function jM(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var BM={entering:{opacity:1,transform:jM(1)},entered:{opacity:1,transform:"none"}},qM=i.forwardRef((function(e,t){var n=e.appear,r=void 0===n||n,a=e.children,o=e.easing,u=e.in,s=e.onEnter,c=e.onEntered,l=e.onEntering,f=e.onExit,d=e.onExited,h=e.onExiting,p=e.style,v=e.timeout,m=void 0===v?"auto":v,y=e.TransitionComponent,g=void 0===y?FM:y,b=et(e,UM),k=i.useRef(),w=i.useRef(),x=YO(),_=i.useRef(null),S=Wa(a.ref,t),E=Wa(_,S),I=function(e){return function(t){if(e){var n=_.current;void 0===t?e(n):e(n,t)}}},T=I(l),C=I((function(e,t){zM(e);var n,r=VM({style:p,timeout:m,easing:o},{mode:"enter"}),i=r.duration,a=r.delay,u=r.easing;"auto"===m?(n=x.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=i,e.style.transition=[x.transitions.create("opacity",{duration:n,delay:a}),x.transitions.create("transform",{duration:.666*n,delay:a,easing:u})].join(","),s&&s(e,t)})),A=I(c),R=I(h),N=I((function(e){var t,n=VM({style:p,timeout:m,easing:o},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===m?(t=x.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=r,e.style.transition=[x.transitions.create("opacity",{duration:t,delay:i}),x.transitions.create("transform",{duration:.666*t,delay:i||.333*t,easing:a})].join(","),e.style.opacity="0",e.style.transform=jM(.75),f&&f(e)})),P=I(d);return i.useEffect((function(){return function(){clearTimeout(k.current)}}),[]),(0,ma.jsx)(g,tt({appear:r,in:u,nodeRef:_,onEnter:C,onEntered:A,onEntering:T,onExit:N,onExited:P,onExiting:R,addEndListener:function(e){"auto"===m&&(k.current=setTimeout(e,w.current||0))},timeout:"auto"===m?null:m},b,{children:function(e,t){return i.cloneElement(a,tt({style:tt({opacity:0,transform:jM(.75),visibility:"exited"!==e||u?void 0:"hidden"},BM[e],p,a.props.style),ref:E},t))}}))}));qM.muiSupportAuto=!0;var WM=qM;function KM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var GM=i.forwardRef((function(e,t){var n=e.children,r=e.container,a=e.disablePortal,o=void 0!==a&&a,u=f(i.useState(null),2),s=u[0],c=u[1],l=qa(i.isValidElement(n)?n.ref:null,t);return Ka((function(){o||c(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),Ka((function(){if(s&&!o)return Ba(t,s),function(){Ba(t,null)}}),[t,s,o]),o?i.isValidElement(n)?i.cloneElement(n,{ref:l}):n:s?CM.createPortal(n,s):s}));function HM(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function QM(e){return parseInt(eD(e).getComputedStyle(e).paddingRight,10)||0}function $M(e,t,n){var r=arguments.length>4?arguments[4]:void 0,i=[t,n].concat(h(arguments.length>3&&void 0!==arguments[3]?arguments[3]:[])),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===i.indexOf(e)&&-1===a.indexOf(e.tagName)&&HM(e,r)}))}function YM(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function XM(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=ZO(e);return t.body===e?eD(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=bM(ZO(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(QM(r)+i,"px");var a=ZO(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(QM(e)+i,"px")}))}var o=r.parentElement,u=eD(r),s="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===u.getComputedStyle(o).overflowY?o:r;n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var JM=function(){function e(){p(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return g(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&HM(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);$M(t,e.mount,e.modalRef,r,!0);var i=YM(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=YM(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=XM(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=YM(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&HM(e.modalRef,!0),$M(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&HM(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),ZM=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function eL(e){var t=[],n=[];return Array.from(e.querySelectorAll(ZM)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function tL(){return!0}var nL=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?eL:c,f=e.isEnabled,d=void 0===f?tL:f,h=e.open,p=i.useRef(),v=i.useRef(null),m=i.useRef(null),y=i.useRef(null),g=i.useRef(null),b=i.useRef(!1),k=i.useRef(null),w=qa(t.ref,k),x=i.useRef(null);i.useEffect((function(){h&&k.current&&(b.current=!r)}),[r,h]),i.useEffect((function(){if(h&&k.current){var e=ZO(k.current);return k.current.contains(e.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex",-1),b.current&&k.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[h]),i.useEffect((function(){if(h&&k.current){var e=ZO(k.current),t=function(t){var n=k.current;if(null!==n)if(e.hasFocus()&&!o&&d()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(k.current)),r.length>0){var i,a,u=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),s=r[0],c=r[r.length-1];u?c.focus():s.focus()}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&d()&&"Tab"===t.key&&e.activeElement===k.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[r,o,s,d,h,l]);var _=function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,ma.jsxs)(i.Fragment,{children:[(0,ma.jsx)("div",{tabIndex:0,onFocus:_,ref:v,"data-test":"sentinelStart"}),i.cloneElement(t,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0,g.current=e.target;var n=t.props.onFocus;n&&n(e)}}),(0,ma.jsx)("div",{tabIndex:0,onFocus:_,ref:m,"data-test":"sentinelEnd"})]})};function rL(e){return ha("MuiModal",e)}pa("MuiModal",["root","hidden"]);var iL=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var aL=new JM,oL=i.forwardRef((function(e,t){var n=e.BackdropComponent,r=e.BackdropProps,a=e.children,o=e.classes,u=e.className,s=e.closeAfterTransition,c=void 0!==s&&s,l=e.component,d=void 0===l?"div":l,h=e.components,p=void 0===h?{}:h,v=e.componentsProps,m=void 0===v?{}:v,y=e.container,g=e.disableAutoFocus,b=void 0!==g&&g,k=e.disableEnforceFocus,w=void 0!==k&&k,x=e.disableEscapeKeyDown,_=void 0!==x&&x,S=e.disablePortal,E=void 0!==S&&S,I=e.disableRestoreFocus,T=void 0!==I&&I,C=e.disableScrollLock,A=void 0!==C&&C,R=e.hideBackdrop,N=void 0!==R&&R,P=e.keepMounted,O=void 0!==P&&P,D=e.manager,M=void 0===D?aL:D,L=e.onBackdropClick,F=e.onClose,z=e.onKeyDown,V=e.open,U=e.theme,j=e.onTransitionEnter,B=e.onTransitionExited,q=et(e,iL),W=f(i.useState(!0),2),K=W[0],G=W[1],H=i.useRef({}),Q=i.useRef(null),$=i.useRef(null),Y=qa($,t),X=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),J=function(){return H.current.modalRef=$.current,H.current.mountNode=Q.current,H.current},Z=function(){M.mount(J(),{disableScrollLock:A}),$.current.scrollTop=0},ee=Ga((function(){var e=function(e){return"function"===typeof e?e():e}(y)||ZO(Q.current).body;M.add(J(),e),$.current&&Z()})),te=i.useCallback((function(){return M.isTopModal(J())}),[M]),ne=Ga((function(e){Q.current=e,e&&(V&&te()?Z():HM($.current,!0))})),re=i.useCallback((function(){M.remove(J())}),[M]);i.useEffect((function(){return function(){re()}}),[re]),i.useEffect((function(){V?ee():X&&c||re()}),[V,re,X,c,ee]);var ie=tt({},e,{classes:o,closeAfterTransition:c,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:_,disablePortal:E,disableRestoreFocus:T,disableScrollLock:A,exited:K,hideBackdrop:N,keepMounted:O}),ae=function(e){var t=e.open,n=e.exited;return it({root:["root",!t&&n&&"hidden"]},rL,e.classes)}(ie);if(!O&&!V&&(!X||K))return null;var oe={};void 0===a.props.tabIndex&&(oe.tabIndex="-1"),X&&(oe.onEnter=KM((function(){G(!1),j&&j()}),a.props.onEnter),oe.onExited=KM((function(){G(!0),B&&B(),c&&re()}),a.props.onExited));var ue=p.Root||d,se=m.root||{};return(0,ma.jsx)(GM,{ref:ne,container:y,disablePortal:E,children:(0,ma.jsxs)(ue,tt({role:"presentation"},se,!GO(ue)&&{as:d,ownerState:tt({},ie,se.ownerState),theme:U},q,{ref:Y,onKeyDown:function(e){z&&z(e),"Escape"===e.key&&te()&&(_||(e.stopPropagation(),F&&F(e,"escapeKeyDown")))},className:rt(ae.root,se.className,u),children:[!N&&n?(0,ma.jsx)(n,tt({open:V,onClick:function(e){e.target===e.currentTarget&&(L&&L(e),F&&F(e,"backdropClick"))}},r)):null,(0,ma.jsx)(nL,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:T,isEnabled:te,open:V,children:i.cloneElement(a,oe)})]}))})})),uL=oL;function sL(e){return ha("MuiBackdrop",e)}pa("MuiBackdrop",["root","invisible"]);var cL=["classes","className","invisible","component","components","componentsProps","theme"],lL=i.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.invisible,a=void 0!==i&&i,o=e.component,u=void 0===o?"div":o,s=e.components,c=void 0===s?{}:s,l=e.componentsProps,f=void 0===l?{}:l,d=e.theme,h=et(e,cL),p=tt({},e,{classes:n,invisible:a}),v=function(e){var t=e.classes;return it({root:["root",e.invisible&&"invisible"]},sL,t)}(p),m=c.Root||u,y=f.root||{};return(0,ma.jsx)(m,tt({"aria-hidden":!0},y,!GO(m)&&{as:u,ownerState:tt({},p,y.ownerState),theme:d},{ref:t},h,{className:rt(v.root,y.className,r)}))})),fL=["appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],dL={entering:{opacity:1},entered:{opacity:1}},hL={enter:Gi.enteringScreen,exit:Gi.leavingScreen},pL=i.forwardRef((function(e,t){var n=e.appear,r=void 0===n||n,a=e.children,o=e.easing,u=e.in,s=e.onEnter,c=e.onEntered,l=e.onEntering,f=e.onExit,d=e.onExited,h=e.onExiting,p=e.style,v=e.timeout,m=void 0===v?hL:v,y=e.TransitionComponent,g=void 0===y?FM:y,b=et(e,fL),k=YO(),w=i.useRef(null),x=Wa(a.ref,t),_=Wa(w,x),S=function(e){return function(t){if(e){var n=w.current;void 0===t?e(n):e(n,t)}}},E=S(l),I=S((function(e,t){zM(e);var n=VM({style:p,timeout:m,easing:o},{mode:"enter"});e.style.webkitTransition=k.transitions.create("opacity",n),e.style.transition=k.transitions.create("opacity",n),s&&s(e,t)})),T=S(c),C=S(h),A=S((function(e){var t=VM({style:p,timeout:m,easing:o},{mode:"exit"});e.style.webkitTransition=k.transitions.create("opacity",t),e.style.transition=k.transitions.create("opacity",t),f&&f(e)})),R=S(d);return(0,ma.jsx)(g,tt({appear:r,in:u,nodeRef:w,onEnter:I,onEntered:T,onEntering:E,onExit:A,onExited:R,onExiting:C,timeout:m},b,{children:function(e,t){return i.cloneElement(a,tt({style:tt({opacity:0,visibility:"exited"!==e||u?void 0:"hidden"},dL[e],p,a.props.style),ref:_},t))}}))})),vL=pL,mL=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],yL=ia("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return tt({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),gL=i.forwardRef((function(e,t){var n,r=la({props:e,name:"MuiBackdrop"}),i=r.children,a=r.components,o=void 0===a?{}:a,u=r.componentsProps,s=void 0===u?{}:u,c=r.className,l=r.invisible,f=void 0!==l&&l,d=r.open,h=r.transitionDuration,p=r.TransitionComponent,v=void 0===p?vL:p,m=et(r,mL),y=function(e){return e.classes}(tt({},r,{invisible:f}));return(0,ma.jsx)(v,tt({in:d,timeout:h},m,{children:(0,ma.jsx)(lL,{className:c,invisible:f,components:tt({Root:yL},o),componentsProps:{root:tt({},s.root,(!o.Root||!GO(o.Root))&&{ownerState:tt({},null==(n=s.root)?void 0:n.ownerState)})},classes:y,ref:t,children:i})}))})),bL=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],kL=ia("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return tt({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),wL=ia(gL,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),xL=i.forwardRef((function(e,t){var n,r=la({name:"MuiModal",props:e}),a=r.BackdropComponent,o=void 0===a?wL:a,u=r.closeAfterTransition,s=void 0!==u&&u,c=r.children,l=r.components,d=void 0===l?{}:l,h=r.componentsProps,p=void 0===h?{}:h,v=r.disableAutoFocus,m=void 0!==v&&v,y=r.disableEnforceFocus,g=void 0!==y&&y,b=r.disableEscapeKeyDown,k=void 0!==b&&b,w=r.disablePortal,x=void 0!==w&&w,_=r.disableRestoreFocus,S=void 0!==_&&_,E=r.disableScrollLock,I=void 0!==E&&E,T=r.hideBackdrop,C=void 0!==T&&T,A=r.keepMounted,R=void 0!==A&&A,N=et(r,bL),P=f(i.useState(!0),2),O=P[0],D=P[1],M={closeAfterTransition:s,disableAutoFocus:m,disableEnforceFocus:g,disableEscapeKeyDown:k,disablePortal:x,disableRestoreFocus:S,disableScrollLock:I,hideBackdrop:C,keepMounted:R},L=function(e){return e.classes}(tt({},r,M,{exited:O}));return(0,ma.jsx)(uL,tt({components:tt({Root:kL},d),componentsProps:{root:tt({},p.root,(!d.Root||!GO(d.Root))&&{ownerState:tt({},null==(n=p.root)?void 0:n.ownerState)})},BackdropComponent:o,onTransitionEnter:function(){return D(!1)},onTransitionExited:function(){return D(!0)},ref:t},N,{classes:L},M,{children:c}))}));function _L(e){return ha("MuiPopover",e)}pa("MuiPopover",["root","paper"]);var SL=["onEntering"],EL=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function IL(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function TL(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function CL(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function AL(e){return"function"===typeof e?e():e}var RL=ia(xL,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),NL=ia(wa,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),PL=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiPopover"}),r=n.action,a=n.anchorEl,o=n.anchorOrigin,u=void 0===o?{vertical:"top",horizontal:"left"}:o,s=n.anchorPosition,c=n.anchorReference,l=void 0===c?"anchorEl":c,f=n.children,d=n.className,h=n.container,p=n.elevation,v=void 0===p?8:p,m=n.marginThreshold,y=void 0===m?16:m,g=n.open,b=n.PaperProps,k=void 0===b?{}:b,w=n.transformOrigin,x=void 0===w?{vertical:"top",horizontal:"left"}:w,_=n.TransitionComponent,S=void 0===_?WM:_,E=n.transitionDuration,I=void 0===E?"auto":E,T=n.TransitionProps,C=(void 0===T?{}:T).onEntering,A=et(n.TransitionProps,SL),R=et(n,EL),N=i.useRef(),P=Wa(N,k.ref),O=tt({},n,{anchorOrigin:u,anchorReference:l,elevation:v,marginThreshold:y,PaperProps:k,transformOrigin:x,TransitionComponent:S,transitionDuration:I,TransitionProps:A}),D=function(e){return it({root:["root"],paper:["paper"]},_L,e.classes)}(O),M=i.useCallback((function(){if("anchorPosition"===l)return s;var e=AL(a),t=(e&&1===e.nodeType?e:hM(N.current).body).getBoundingClientRect();return{top:t.top+IL(t,u.vertical),left:t.left+TL(t,u.horizontal)}}),[a,u.horizontal,u.vertical,s,l]),L=i.useCallback((function(e){return{vertical:IL(e,x.vertical),horizontal:TL(e,x.horizontal)}}),[x.horizontal,x.vertical]),F=i.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=L(t);if("none"===l)return{top:null,left:null,transformOrigin:CL(n)};var r=M(),i=r.top-n.vertical,o=r.left-n.horizontal,u=i+t.height,s=o+t.width,c=tD(AL(a)),f=c.innerHeight-y,d=c.innerWidth-y;if(i<y){var h=i-y;i-=h,n.vertical+=h}else if(u>f){var p=u-f;i-=p,n.vertical+=p}if(o<y){var v=o-y;o-=v,n.horizontal+=v}else if(s>d){var m=s-d;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:CL(n)}}),[a,l,M,L,y]),z=i.useCallback((function(){var e=N.current;if(e){var t=F(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[F]);i.useEffect((function(){g&&z()})),i.useImperativeHandle(r,(function(){return g?{updatePosition:function(){z()}}:null}),[g,z]),i.useEffect((function(){if(g){var e=JO((function(){z()})),t=tD(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,g,z]);var V=I;"auto"!==I||S.muiSupportAuto||(V=void 0);var U=h||(a?hM(AL(a)).body:void 0);return(0,ma.jsx)(RL,tt({BackdropProps:{invisible:!0},className:rt(D.root,d),container:U,open:g,ref:t,ownerState:O},R,{children:(0,ma.jsx)(S,tt({appear:!0,in:g,onEntering:function(e,t){C&&C(e,t),z()},timeout:V},A,{children:(0,ma.jsx)(NL,tt({elevation:v},k,{ref:P,className:rt(D.paper,k.className),children:f}))}))}))})),OL=PL;function DL(e){return ha("MuiMenu",e)}pa("MuiMenu",["root","paper","list"]);var ML=["onEntering"],LL=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],FL={vertical:"top",horizontal:"right"},zL={vertical:"top",horizontal:"left"},VL=ia(OL,{shouldForwardProp:function(e){return ta(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),UL=ia(wa,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),jL=ia(TM,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),BL=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiMenu"}),r=n.autoFocus,a=void 0===r||r,o=n.children,u=n.disableAutoFocusItem,s=void 0!==u&&u,c=n.MenuListProps,l=void 0===c?{}:c,f=n.onClose,d=n.open,h=n.PaperProps,p=void 0===h?{}:h,v=n.PopoverClasses,m=n.transitionDuration,y=void 0===m?"auto":m,g=n.TransitionProps,b=(void 0===g?{}:g).onEntering,k=n.variant,w=void 0===k?"selectedMenu":k,x=et(n.TransitionProps,ML),_=et(n,LL),S=YO(),E="rtl"===S.direction,I=tt({},n,{autoFocus:a,disableAutoFocusItem:s,MenuListProps:l,onEntering:b,PaperProps:p,transitionDuration:y,TransitionProps:x,variant:w}),T=function(e){return it({root:["root"],paper:["paper"],list:["list"]},DL,e.classes)}(I),C=a&&!s&&d,A=i.useRef(null),R=-1;return i.Children.map(o,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===w&&e.props.selected||-1===R)&&(R=t))})),(0,ma.jsx)(VL,tt({classes:v,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?FL:zL,PaperProps:tt({component:UL},p,{classes:tt({},p.classes,{root:T.paper})}),className:T.root,open:d,ref:t,transitionDuration:y,TransitionProps:tt({onEntering:function(e,t){A.current&&A.current.adjustStyleForScrollbar(e,S),b&&b(e,t)}},x),ownerState:I},_,{children:(0,ma.jsx)(jL,tt({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:A,autoFocus:a&&(-1===R||s),autoFocusItem:C,variant:w},l,{className:rt(T.list,l.className),children:o}))}))})),qL=BL;function WL(e){return ha("MuiNativeSelect",e)}var KL=pa("MuiNativeSelect",["root","select","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),GL=["className","disabled","IconComponent","inputRef","variant"],HL=function(e){var t,n=e.ownerState,r=e.theme;return tt((Gn(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},"&.".concat(KL.disabled),{cursor:"default"}),Gn(t,"&[multiple]",{height:"auto"}),Gn(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),Gn(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},QL=ia("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ta,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant]]}})(HL),$L=function(e){var t=e.ownerState,n=e.theme;return tt(Gn({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(KL.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},YL=ia("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(fa(n.variant))],n.open&&t.iconOpen]}})($L),XL=i.forwardRef((function(e,t){var n=e.className,r=e.disabled,a=e.IconComponent,o=e.inputRef,u=e.variant,s=void 0===u?"standard":u,c=et(e,GL),l=tt({},e,{disabled:r,variant:s}),f=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.open;return it({select:["select",n,r&&"disabled"],icon:["icon","icon".concat(fa(n)),i&&"iconOpen",r&&"disabled"]},WL,t)}(l);return(0,ma.jsxs)(i.Fragment,{children:[(0,ma.jsx)(QL,tt({ownerState:l,className:rt(f.select,n),disabled:r,ref:o||t},c)),e.multiple?null:(0,ma.jsx)(YL,{as:a,ownerState:l,className:f.icon})]})})),JL=XL;var ZL=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,i.useRef(void 0!==t).current),a=f(i.useState(n),2),o=a[0],u=a[1];return[r?t:o,i.useCallback((function(e){r||u(e)}),[])]};function eF(e){return ha("MuiSelect",e)}var tF=pa("MuiSelect",["root","select","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),nF=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],rF=ia("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[Gn({},"&.".concat(tF.select),t.select),Gn({},"&.".concat(tF.select),t[n.variant])]}})(HL,Gn({},"&.".concat(tF.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),iF=ia("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(fa(n.variant))],n.open&&t.iconOpen]}})($L),aF=ia("input",{shouldForwardProp:function(e){return na(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function oF(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function uF(e){return null==e||"string"===typeof e&&!e.trim()}var sF,cF,lF=i.forwardRef((function(e,t){var n=e["aria-describedby"],r=e["aria-label"],a=e.autoFocus,o=e.autoWidth,u=e.children,s=e.className,c=e.defaultValue,l=e.disabled,d=e.displayEmpty,h=e.IconComponent,p=e.inputRef,v=e.labelId,m=e.MenuProps,y=void 0===m?{}:m,g=e.multiple,b=e.name,k=e.onBlur,w=e.onChange,x=e.onClose,_=e.onFocus,S=e.onOpen,E=e.open,I=e.readOnly,T=e.renderValue,C=e.SelectDisplayProps,A=void 0===C?{}:C,R=e.tabIndex,N=e.value,P=e.variant,O=void 0===P?"standard":P,D=et(e,nF),M=f(ZL({controlled:N,default:c,name:"Select"}),2),L=M[0],F=M[1],z=i.useRef(null),V=i.useRef(null),U=f(i.useState(null),2),j=U[0],B=U[1],q=i.useRef(null!=E).current,W=f(i.useState(),2),K=W[0],G=W[1],H=f(i.useState(!1),2),Q=H[0],$=H[1],Y=Wa(t,p),X=i.useCallback((function(e){V.current=e,e&&B(e)}),[]);i.useImperativeHandle(Y,(function(){return{focus:function(){V.current.focus()},node:z.current,value:L}}),[L]),i.useEffect((function(){a&&V.current.focus()}),[a]),i.useEffect((function(){var e=hM(V.current).getElementById(v);if(e){var t=function(){getSelection().isCollapsed&&V.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}),[v]);var J,Z,ee=function(e,t){e?S&&S(t):x&&x(t),q||(G(o?null:j.clientWidth),$(e))},te=i.Children.toArray(u),ne=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(g){n=Array.isArray(L)?L.slice():[];var r=L.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),L!==n&&(F(n),w)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:b}}),w(a,e)}g||ee(!1,t)}}},re=null!==j&&(q?E:Q);delete D["aria-invalid"];var ie=[],ae=!1;(lD({value:L})||d)&&(T?J=T(L):ae=!0);var oe=te.map((function(e){if(!i.isValidElement(e))return null;var t;if(g){if(!Array.isArray(L))throw new Error(Hn(2));t=L.some((function(t){return oF(t,e.props.value)})),t&&ae&&ie.push(e.props.children)}else(t=oF(L,e.props.value))&&ae&&(Z=e.props.children);return t&&!0,i.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ne(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ae&&(J=g?ie.join(", "):Z);var ue,se=K;!o&&q&&j&&(se=j.clientWidth),ue="undefined"!==typeof R?R:l?null:0;var ce=A.id||(b?"mui-component-select-".concat(b):void 0),le=tt({},e,{variant:O,value:L,open:re}),fe=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.open;return it({select:["select",n,r&&"disabled"],icon:["icon","icon".concat(fa(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},eF,t)}(le);return(0,ma.jsxs)(i.Fragment,{children:[(0,ma.jsx)(rF,tt({ref:X,tabIndex:ue,role:"button","aria-disabled":l?"true":void 0,"aria-expanded":re?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[v,ce].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!I){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ee(!0,e))}},onMouseDown:l||I?null:function(e){0===e.button&&(e.preventDefault(),V.current.focus(),ee(!0,e))},onBlur:function(e){!re&&k&&(Object.defineProperty(e,"target",{writable:!0,value:{value:L,name:b}}),k(e))},onFocus:_},A,{ownerState:le,className:rt(fe.select,s,A.className),id:ce,children:uF(J)?(0,ma.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):J})),(0,ma.jsx)(aF,tt({value:Array.isArray(L)?L.join(","):L,name:b,ref:z,"aria-hidden":!0,onChange:function(e){var t=te.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=te[t];F(n.props.value),w&&w(e,n)}},tabIndex:-1,disabled:l,className:fe.nativeInput,autoFocus:a,ownerState:le},D)),(0,ma.jsx)(iF,{as:h,className:fe.icon,ownerState:le}),(0,ma.jsx)(qL,tt({id:"menu-".concat(b||""),anchorEl:j,open:re,onClose:function(e){ee(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:tt({"aria-labelledby":v,role:"listbox",disableListWrap:!0},y.MenuListProps),PaperProps:tt({},y.PaperProps,{style:tt({minWidth:se},null!=y.PaperProps?y.PaperProps.style:null)}),children:oe}))]})})),fF=lF,dF=FO((0,ma.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),hF=["autoWidth","children","classes","className","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],pF=["root"],vF=i.forwardRef((function(e,t){var n=la({name:"MuiSelect",props:e}),r=n.autoWidth,a=void 0!==r&&r,o=n.children,u=n.classes,s=void 0===u?{}:u,c=n.className,l=n.displayEmpty,f=void 0!==l&&l,d=n.IconComponent,h=void 0===d?dF:d,p=n.id,v=n.input,m=n.inputProps,y=n.label,g=n.labelId,b=n.MenuProps,k=n.multiple,w=void 0!==k&&k,x=n.native,_=void 0!==x&&x,S=n.onClose,E=n.onOpen,I=n.open,T=n.renderValue,C=n.SelectDisplayProps,A=n.variant,R=void 0===A?"outlined":A,N=et(n,hF),P=_?JL:fF,O=HO({props:n,muiFormControl:$O(),states:["variant"]}).variant||R,D=v||{standard:sF||(sF=(0,ma.jsx)(ID,{})),outlined:(0,ma.jsx)(WD,{label:y}),filled:cF||(cF=(0,ma.jsx)(OD,{}))}[O],M=function(e){return it({root:["root"]},eF,e.classes)}(tt({},n,{classes:s})),L=et(s,pF);return i.cloneElement(D,tt({inputComponent:P,inputProps:tt({children:o,IconComponent:h,variant:O,type:void 0,multiple:w},_?{id:p}:{autoWidth:a,displayEmpty:f,labelId:g,MenuProps:b,onClose:S,onOpen:E,open:I,renderValue:T,SelectDisplayProps:tt({id:p},C)},m,{classes:m?zn(L,m.classes):L},v?v.props.inputProps:{})},w&&_&&"outlined"===O?{notched:!0}:{},{ref:t,className:rt(M.root,D.props.className,c)},N))}));vF.muiName="Select";var mF=vF;function yF(e){return ha("MuiTextField",e)}pa("MuiTextField",["root"]);var gF=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],bF={standard:ID,filled:OD,outlined:WD},kF=ia(uM,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),wF=i.forwardRef((function(e,t){var n=la({props:e,name:"MuiTextField"}),r=n.autoComplete,a=n.autoFocus,o=void 0!==a&&a,u=n.children,s=n.className,c=n.color,l=void 0===c?"primary":c,f=n.defaultValue,d=n.disabled,h=void 0!==d&&d,p=n.error,v=void 0!==p&&p,m=n.FormHelperTextProps,y=n.fullWidth,g=void 0!==y&&y,b=n.helperText,k=n.id,w=n.InputLabelProps,x=n.inputProps,_=n.InputProps,S=n.inputRef,E=n.label,I=n.maxRows,T=n.minRows,C=n.multiline,A=void 0!==C&&C,R=n.name,N=n.onBlur,P=n.onChange,O=n.onFocus,D=n.placeholder,M=n.required,L=void 0!==M&&M,F=n.rows,z=n.select,V=void 0!==z&&z,U=n.SelectProps,j=n.type,B=n.value,q=n.variant,W=void 0===q?"outlined":q,K=et(n,gF),G=tt({},n,{autoFocus:o,color:l,disabled:h,error:v,fullWidth:g,multiline:A,required:L,select:V,variant:W}),H=function(e){return it({root:["root"]},yF,e.classes)}(G);var Q={};if("outlined"===W&&(w&&"undefined"!==typeof w.shrink&&(Q.notched=w.shrink),E)){var $,Y=null!=($=null==w?void 0:w.required)?$:L;Q.label=(0,ma.jsxs)(i.Fragment,{children:[E,Y&&"\xa0*"]})}V&&(U&&U.native||(Q.id=void 0),Q["aria-describedby"]=void 0);var X=b&&k?"".concat(k,"-helper-text"):void 0,J=E&&k?"".concat(k,"-label"):void 0,Z=bF[W],ee=(0,ma.jsx)(Z,tt({"aria-describedby":X,autoComplete:r,autoFocus:o,defaultValue:f,fullWidth:g,multiline:A,name:R,rows:F,maxRows:I,minRows:T,type:j,value:B,id:k,inputRef:S,onBlur:N,onChange:P,onFocus:O,placeholder:D,inputProps:x},Q,_));return(0,ma.jsxs)(kF,tt({className:rt(H.root,s),disabled:h,error:v,fullWidth:g,ref:t,required:L,color:l,variant:W,ownerState:G},K,{children:[E&&(0,ma.jsx)(tM,tt({htmlFor:k,id:J},w,{children:E})),V?(0,ma.jsx)(mF,tt({"aria-describedby":X,id:k,labelId:J,value:B,input:ee},U,{children:u})):ee,b&&(0,ma.jsx)(dM,tt({id:X},m,{children:b}))]}))})),xF=wF;function _F(){return(0,ma.jsx)(zv,{children:(0,ma.jsx)($v,{container:!0,style:{height:window.innerHeight-50,justifyContent:"center",alignItems:"center"},children:(0,ma.jsx)($v,{container:!0,alignItems:"center",direction:"column",children:(0,ma.jsxs)("div",{className:"lds-ring",children:[(0,ma.jsx)("div",{}),(0,ma.jsx)("div",{}),(0,ma.jsx)("div",{}),(0,ma.jsx)("div",{})]})})})})}var SF=function(){var e=(0,i.useContext)(sV),t=e.auth,n=e.firestore,r=f(Pv(t),1)[0],a=f((0,i.useState)(""),2),o=a[0],u=a[1],s=f(RO(n.collection("messages").orderBy("createdAt")),2),c=s[0],l=s[1],d=function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(o),console.log(r.uid),console.log(r.displayName),n.collection("messages").add({uid:r.uid,displayName:r.displayName,photoURL:r.photoURL,text:o,createdAt:om.firestore.FieldValue.serverTimestamp()}),u("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l?(0,ma.jsx)(_F,{}):(0,ma.jsx)(zv,{children:(0,ma.jsxs)($v,{container:!0,style:{height:window.innerHeight-50,justifyContent:"center",alignItems:"center",marginTop:"10px"},children:[(0,ma.jsx)("div",{style:{width:"80%",height:"70vh",border:"1px solid rgb(152, 61, 152)",borderRadius:"10px",overflowY:"auto"},children:null===c||void 0===c?void 0:c.map((function(e){return(0,ma.jsxs)("div",{style:{margin:"20px",border:r.uid===e.uid?"2px solid green":"2px dashed red",marginLeft:r.uid===e.uid?"auto":"10px",color:r.uid===e.uid?"green":"red",width:"fit-content",padding:"5px",borderRadius:"5px"},children:[(0,ma.jsxs)($v,{container:!0,children:[(0,ma.jsx)(KO,{style:{borderRadius:"5px",margin:"5px"},src:e.photoURL}),(0,ma.jsx)("div",{style:{margin:"auto",fontFamily:"Segoe UI",fontWeight:"700"},children:e.displayName})]}),(0,ma.jsx)("div",{style:{color:"#000",fontFamily:"Segoe UI"},children:e.text})]},e.createdAt)}))}),(0,ma.jsxs)($v,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[(0,ma.jsx)(xF,{variant:"outlined",fullWidth:!0,maxRows:2,value:o,onChange:function(e){return u(e.target.value)}}),(0,ma.jsx)($o,{onClick:d,style:{marginTop:"10px"},variant:"outlined",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})},EF=[{path:Yo,Element:(0,ma.jsx)(sm,{})}],IF=[{path:Xo,Element:(0,ma.jsx)(SF,{})}];var TF=function(){var e=(0,i.useContext)(sV).auth;return f(Pv(e),1)[0]?(0,ma.jsxs)(ze,{children:[IF.map((function(e){var t=e.path,n=e.Element;return(0,ma.jsx)(Le,{path:t,element:n},t)})),(0,ma.jsx)(Le,{path:"*",element:(0,ma.jsx)(Me,{to:Xo})})]}):(0,ma.jsxs)(ze,{children:[EF.map((function(e){var t=e.path,n=e.Element;return(0,ma.jsx)(Le,{path:t,element:n},t)})),(0,ma.jsx)(Le,{path:"*",element:(0,ma.jsx)(Me,{to:Yo})})]})};var CF=function(){var e=(0,i.useContext)(sV).auth,t=f(Pv(e),3),n=(t[0],t[1]);return t[2],n?(0,ma.jsx)(_F,{}):(0,ma.jsxs)(He,{children:[(0,ma.jsx)(Ov,{}),(0,ma.jsx)(TF,{})]})};function AF(){return window}var RF=2e3;function NF(e,t,n){return PF.apply(this,arguments)}function PF(){return PF=tu(Zo().mark((function e(t,n,r){var i,a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=AF(),o=a.BuildInfo,Ic(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,zF(n.sessionId);case 4:return u=e.sent,s={},Ol()?s.ibi=o.packageName:Rl()?s.apn=o.packageName:bc(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",lv(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),PF.apply(this,arguments)}function OF(){return OF=tu(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=AF(),r=n.BuildInfo,i={},Ol()?i.iosBundleId=r.packageName:Rl()?i.androidPackageName=r.packageName:bc(t,"operation-not-supported-in-this-environment"),e.next=5,Up(t,i);case 5:case"end":return e.stop()}}),e)}))),OF.apply(this,arguments)}function DF(e){var t=AF().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function MF(e,t,n){return LF.apply(this,arguments)}function LF(){return LF=tu(Zo().mark((function e(t,n,r){var i,a,o;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=AF(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(kc(t,"redirect-cancelled-by-user"))}),RF))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Rl()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),LF.apply(this,arguments)}function FF(e){var t,n,r,i,a,o,u,s,c,l,f=AF();Sc("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Sc("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Sc("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Sc("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Sc("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function zF(e){return VF.apply(this,arguments)}function VF(){return(VF=tu(Zo().mark((function e(t){var n,r,i;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=UF(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UF(e){if(Ic(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var jF=20,BF=function(e){k(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Jo(w(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Fp);function qF(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:QF(),postBody:null,tenantId:e.tenantId,error:kc(e,"no-auth-event")}}function WF(e,t){return $F()._set(YF(e),t)}function KF(e){return GF.apply(this,arguments)}function GF(){return GF=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$F()._get(YF(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,$F()._remove(YF(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),GF.apply(this,arguments)}function HF(e,t){var n,r,i=function(e){var t=XF(e),n=t.link?decodeURIComponent(t.link):void 0,r=XF(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return XF(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=XF(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?kc(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function QF(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<jF;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function $F(){return kl(oh)}function YF(e){return _l("authEvent",e.config.apiKey,e.name)}function XF(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return Iu(t.slice(1).join("?"))}var JF=function(){function e(){p(this,e),this._redirectPersistence=sh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Op,this._overrideRedirectResult=xp}return g(e,[{key:"_initialize",value:function(){var e=tu(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new BF(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){bc(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=tu(Zo().mark((function e(t,n,r,i){var a,o,u,s;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FF(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),mp.clear(),e.next=10,this._originValidation(t);case 10:return o=qF(t,r,i),e.next=13,WF(t,o);case 13:return e.next=15,NF(t,o,n);case 15:return u=e.sent,e.next=18,DF(u);case 18:return s=e.sent,e.abrupt("return",MF(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return OF.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=AF(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(tu(Zo().mark((function n(){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,KF(e);case 2:t.onEvent(ez());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=tu(Zo().mark((function n(r){var i,a;return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,KF(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=HF(i,r.url)),t.onEvent(a||ez());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");AF().handleOpenURL=function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ZF=JF;function ez(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:kc("no-auth-event")}}var tz=1e3;function nz(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function rz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();return!("file:"!==nz()&&"ionic:"!==nz()&&"capacitor:"!==nz()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function iz(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();return mu()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du();return/Edge\/\d+/.test(e)}(e)}function az(){try{var e=self.localStorage,t=fh();if(e)return e.setItem(t,"1"),e.removeItem(t),!iz()||yu()}catch(n){return oz()&&yu()}return!1}function oz(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function uz(){return("http:"===nz()||"https:"===nz()||pu()||rz())&&!(vu()||hu())&&az()&&!oz()}function sz(){return rz()&&"undefined"!==typeof document}function cz(){return lz.apply(this,arguments)}function lz(){return(lz=tu(Zo().mark((function e(){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sz()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),tz);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fz={LOCAL:"local",NONE:"none",SESSION:"session"},dz=Sc,hz="persistence";function pz(e,t){dz(Object.values(fz).includes(t),e,"invalid-persistence-type"),vu()?dz(t!==fz.SESSION,e,"unsupported-persistence-type"):hu()?dz(t===fz.NONE,e,"unsupported-persistence-type"):oz()?dz(t===fz.NONE||t===fz.LOCAL&&yu(),e,"unsupported-persistence-type"):dz(t===fz.NONE||az(),e,"unsupported-persistence-type")}function vz(e){return mz.apply(this,arguments)}function mz(){return mz=tu(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=yz(),r=_l(hz,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),mz.apply(this,arguments)}function yz(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var gz=Sc,bz=function(){function e(){p(this,e),this.browserResolver=kl(vv),this.cordovaResolver=kl(ZF),this.underlyingResolver=null,this._redirectPersistence=sh,this._completeRedirectFn=Op,this._overrideRedirectResult=xp}return g(e,[{key:"_initialize",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=tu(Zo().mark((function e(t,n,r,i){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=tu(Zo().mark((function e(t,n,r,i){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return sz()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return gz(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=tu(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cz();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function kz(e){return e.unwrap()}function wz(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Iz(e,function(e,t){var n,r=Nu(e),i=t;return Sc(t.customData.operationType,r,"argument-error"),Sc(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Yd._fromError(r,i)}(e,t));else if(r){var i=xz(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function xz(e){var t=(e instanceof gu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof gu)&&"temporaryProof"in t&&"phoneNumber"in t)return ep.credentialFromResult(e);var n,r=t.providerId;if(!r||r===nc.PASSWORD)return null;switch(r){case nc.GOOGLE:n=zf;break;case nc.FACEBOOK:n=Ff;break;case nc.GITHUB:n=Vf;break;case nc.TWITTER:n=Bf;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Uf._create(r,u):Sf._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Lf(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof gu?n.credentialFromError(e):n.credentialFromResult(e)}function _z(e,t){return t.catch((function(t){throw t instanceof gu&&wz(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,xz(t)),additionalUserInfo:Qd(e),user:Tz.getOrCreate(r)}}))}function Sz(e,t){return Ez.apply(this,arguments)}function Ez(){return Ez=tu(Zo().mark((function e(t,n){var r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return _z(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Ez.apply(this,arguments)}var Iz=function(){function e(t,n){p(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return _z(kz(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Tz=function(){function e(t){p(this,e),this._delegate=t,this.multiFactor=function(e){var t=Nu(e);return nh.has(t)||nh.set(t,th._fromUser(t)),nh.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_z(this.auth,cd(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sz(this.auth,Qh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_z(this.auth,dp(this._delegate,t,bz)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vz(jl(this.auth));case 2:return e.abrupt("return",Ap(this._delegate,t,bz));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_z(this.auth,fd(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Sz(this.auth,function(e,t,n){return Yh.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return _z(this.auth,function(e,t,n){return fp.apply(this,arguments)}(this._delegate,e,bz))}},{key:"reauthenticateWithRedirect",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vz(jl(this.auth));case 2:return e.abrupt("return",Tp(this._delegate,t,bz));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Md.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xf(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ud(Nu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ud(Nu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Zh.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Vd.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ld.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Tz.USER_MAP=new WeakMap;var Cz=Sc,Az=function(){function e(t,n){if(p(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Cz(r,"invalid-api-key",{appName:t.name}),Cz(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?bz:void 0;this._delegate=n.initialize({options:{persistence:Nz(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(hc),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Tz.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ql(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Sd.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ed(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return _d.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=tu(Zo().mark((function e(t,n){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_z(this._delegate,Cd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Dd.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Pf.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=tu(Zo().mark((function e(){var t;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cz(uz(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Np(this._delegate,bz);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",_z(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){jl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Rz(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Rz(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Rd.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return xd.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=tu(Zo().mark((function e(t){var n,r;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pz(this._delegate,t),e.t0=t,e.next=e.t0===fz.SESSION?4:e.t0===fz.LOCAL?6:e.t0===fz.NONE?11:13;break;case 4:return n=sh,e.abrupt("break",14);case 6:return e.next=8,kl(Ph)._isAvailable();case 8:return r=e.sent,n=r?Ph:oh,e.abrupt("break",14);case 11:return n=xl,e.abrupt("break",14);case 13:return e.abrupt("return",bc("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return _z(this._delegate,function(e){return Hf.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return _z(this._delegate,ud(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return _z(this._delegate,function(e,t){return vd.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return _z(this._delegate,function(e,t,n){return ud(Nu(e),Of.credential(t,n)).catch(function(){var t=tu(Zo().mark((function t(n){return Zo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&kd(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return _z(this._delegate,function(e,t,n){return Nd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Sz(this._delegate,function(e,t,n){return Hh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cz(uz(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",_z(this._delegate,cp(this._delegate,t,bz)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=tu(Zo().mark((function e(t){return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cz(uz(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,vz(this._delegate);case 3:return e.abrupt("return",Ep(this._delegate,t,bz));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Td.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Rz(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Tz.getOrCreate(e))},error:t,complete:n}}function Nz(e,t){var n=function(e,t){var n=yz();if(!n)return[];var r=_l(hz,e,t);switch(n.getItem(r)){case fz.NONE:return[xl];case fz.LOCAL:return[Ph,sh];case fz.SESSION:return[sh];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ph)||n.push(Ph),"undefined"!==typeof window)for(var r=0,i=[oh,sh];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(xl)||n.push(xl),n}Az.Persistence=fz;var Pz=function(){function e(){p(this,e),this.providerId="phone",this._delegate=new ep(kz(om.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ep.credential(e,t)}}]),e}();Pz.PHONE_SIGN_IN_METHOD=ep.PHONE_SIGN_IN_METHOD,Pz.PROVIDER_ID=ep.PROVIDER_ID;var Oz,Dz=Sc,Mz=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:om.app();p(this,e),Dz(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Wh(i.auth(),t,n),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Oz=om).INTERNAL.registerComponent(new Pu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Az(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:rc,PASSWORD_RESET:ic,RECOVER_EMAIL:ac,REVERT_SECOND_FACTOR_ADDITION:oc,VERIFY_AND_CHANGE_EMAIL:uc,VERIFY_EMAIL:sc}},EmailAuthProvider:Of,FacebookAuthProvider:Ff,GithubAuthProvider:Vf,GoogleAuthProvider:zf,OAuthProvider:Lf,SAMLAuthProvider:jf,PhoneAuthProvider:Pz,PhoneMultiFactorGenerator:gv,RecaptchaVerifier:Mz,TwitterAuthProvider:Bf,Auth:Az,AuthCredential:Xl,Error:gu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Oz.registerVersion("@firebase/auth-compat","0.4.5");function Lz(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new qk("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Fz(){if("undefined"===typeof Uint8Array)throw new qk("unimplemented","Uint8Arrays are not available in this environment.")}function zz(){if("undefined"==typeof atob)throw new qk("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Vz=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return zz(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Fz(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return zz(),new e(ZN.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Fz(),new e(ZN.fromUint8Array(t))}}]),e}();function Uz(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var jz=function(){function e(){p(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){JN(e=CN(e,qN));var n=WN(e);if(n._uninitializedComponentsProvider)throw new qk(Bk.FAILED_PRECONDITION,"SDK cache is already specified.");Fk("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new YR;return GN(n,i,new QR(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){JN(e=CN(e,qN));var t=WN(e);if(t._uninitializedComponentsProvider)throw new qk(Bk.FAILED_PRECONDITION,"SDK cache is already specified.");Fk("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new YR;return GN(t,r,new $R(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new qk(Bk.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Wk;return e._queue.enqueueAndForgetEvenWhileRestricted(tu(Zo().mark((function n(){return Zo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=tu(Zo().mark((function e(t){var n;return Zo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Iw.v()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Iw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(BT(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Bz=function(){function e(t,n,r){var i=this;p(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Mx||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Fk("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};PN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return QN(this._delegate)}},{key:"disableNetwork",value:function(){return $N(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&SN("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return HN(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return pO(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new qk("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new nV(this,LN(this._delegate,e))}catch(t){throw Qz(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Hz(this,FN(this._delegate,e))}catch(t){throw Qz(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Zz(this,function(e,t){if(e=CN(e,NN),_N("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new qk(Bk.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new ON(e,null,function(e){return new z_(uw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Qz(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return wO(this._delegate,(function(n){return e(new Wz(t,n))}))}},{key:"batch",value:function(){var e=this;return WN(this._delegate),new Kz(new gO(this._delegate,(function(t){return vO(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return YN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return XN(this._delegate,e).then((function(e){return e?new Zz(t,e):null}))}}]),e}(),qz=function(e){k(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new Vz(new ZN(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Hz.forKey(t,this.firestore,null)}}]),n}(XP);var Wz=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new qz(t)}return g(e,[{key:"get",value:function(e){var t=this,n=rV(e);return this._delegate.get(n).then((function(e){return new Xz(t._firestore,new tO(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=rV(e);return n?(Lz("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=rV(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=rV(e);return this._delegate.delete(t),this}}]),e}(),Kz=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=rV(e);return n?(Lz("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=rV(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=rV(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Gz=function(){function e(t,n,r){p(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new nO(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jz(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new qz(t),n),i.set(n,a)),a}}]),e}();Gz.INSTANCES=new WeakMap;var Hz=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qz(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new nV(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new nV(this.firestore,LN(this._delegate,e))}catch(t){throw Qz(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Nu(e))instanceof DN&&zN(this._delegate,e)}},{key:"set",value:function(e,t){t=Lz("DocumentReference.set",t);try{return t?fO(this._delegate,e,t):fO(this._delegate,e)}catch(n){throw Qz(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?dO(this._delegate,e):dO.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Qz(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return vO(CN((e=this._delegate).firestore,qN),[new $S(e._key,DS.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=$z(n),a=Yz(n,(function(t){return new Xz(e.firestore,new tO(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return hO(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?uO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CN(e,DN);var t=CN(e.firestore,qN);return bN(WN(t),e._key,{source:"server"}).then((function(n){return mO(t,e,n)}))}(this._delegate):function(e){e=CN(e,DN);var t=CN(e.firestore,qN);return bN(WN(t),e._key).then((function(n){return mO(t,e,n)}))}(this._delegate)).then((function(e){return new Xz(t.firestore,new tO(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Gz.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new qk("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new DN(n._delegate,r,new lw(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new DN(n._delegate,r,t))}}]),e}();function Qz(e,t,n){return e.message=e.message.replace(t,n),e}function $z(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Uz(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Yz(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Uz(e[0])?e[0]:Uz(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Xz=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new Hz(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return aO(this._delegate,e._delegate)}}]),e}(),Jz=function(e){k(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||Vk(),t}}]),n}(Xz),Zz=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qz(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,MP(this._delegate,function(e,t,n){var r=t,i=NP("where",e);return LP._create(i,r,n)}(t,n,r)))}catch(i){throw Qz(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,MP(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=NP("orderBy",e);return zP._create(n,t)}(t,n)))}catch(r){throw Qz(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,MP(this._delegate,(AN("limit",n=t),VP._create("limit",n,"F"))))}catch(n){throw Qz(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,MP(this._delegate,(AN("limitToLast",n=t),VP._create("limitToLast",n,"L"))))}catch(n){throw Qz(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,MP(this._delegate,jP.apply(void 0,arguments)))}catch(t){throw Qz(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,MP(this._delegate,BP.apply(void 0,arguments)))}catch(t){throw Qz(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,MP(this._delegate,WP.apply(void 0,arguments)))}catch(t){throw Qz(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,MP(this._delegate,KP.apply(void 0,arguments)))}catch(t){throw Qz(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return VN(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?cO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?lO(this._delegate):sO(this._delegate)).then((function(e){return new tV(t.firestore,new rO(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=$z(n),a=Yz(n,(function(t){return new tV(e.firestore,new rO(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return hO(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Gz.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),eV=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Jz(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),tV=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new Zz(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Jz(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new eV(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Jz(n._firestore,r))}))}},{key:"isEqual",value:function(e){return aO(this._delegate,e._delegate)}}]),e}(),nV=function(e){k(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Hz(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Hz(this.firestore,void 0===e?FN(this._delegate):FN(this._delegate,e))}catch(t){throw Qz(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=CN(e.firestore,qN),r=FN(e),i=JP(e.converter,t);return vO(n,[lP(cP(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,DS.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Hz(t.firestore,e)}))}},{key:"isEqual",value:function(e){return zN(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Gz.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Zz);function rV(e){return CN(e,DN)}var iV=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=E(eP,n)}return g(e,[{key:"isEqual",value:function(e){return(e=Nu(e))instanceof eP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(cw.keyField().canonicalString())}}]),e}(),aV=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new hP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new fP("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=xO.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=_O.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new mP("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),oV={Firestore:Bz,GeoPoint:nP,Timestamp:iw,Blob:Vz,Transaction:Wz,WriteBatch:Kz,DocumentReference:Hz,DocumentSnapshot:Xz,Query:Zz,QueryDocumentSnapshot:Jz,QuerySnapshot:tV,CollectionReference:nV,FieldPath:iV,FieldValue:aV,setLogLevel:function(e){var t;t=e,Ok.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Pu("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},oV)))}(e,(function(e,t){return new Bz(e,t,new jz)})),e.registerVersion("@firebase/firestore-compat","0.3.15")}(om);var uV=om.initializeApp({apiKey:"AIzaSyAGdFa1P0WhPI-9bw1C2EImNjFy88v-hT4",authDomain:"chat-react-be39d.firebaseapp.com",projectId:"chat-react-be39d",storageBucket:"chat-react-be39d.appspot.com",messagingSenderId:"135501839306",appId:"1:135501839306:web:aa40668e858fb9b089ad33",measurementId:"G-C53B4GRZRM"}),sV=(0,i.createContext)(null),cV=om.auth(),lV=om.firestore();o.createRoot(document.getElementById("root")).render((0,ma.jsx)(sV.Provider,{value:{app:uV,auth:cV,firestore:lV},children:(0,ma.jsx)(CF,{})}))}()}();
//# sourceMappingURL=main.c4ae6f34.js.map