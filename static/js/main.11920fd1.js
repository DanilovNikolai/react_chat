/*! For license information please see main.11920fd1.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function j(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,Ue=null,ze={onError:function(e){Me=!0,Fe=e}};function je(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,It,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Pt=new Map,Rt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function zt(){Et=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==At&&Vt(At)&&(At=null),null!==Nt&&Vt(Nt)&&(Nt=null),Pt.forEach(Ut),Rt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return jt(t,e)}if(0<Tt.length){jt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&jt(Ct,e),null!==At&&jt(At,e),null!==Nt&&jt(Nt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Sn}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Hn=null;function Qn(e){Vr(e,0)}function $n(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Hn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Gn(t,Hn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Or=Pr[Dr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Er,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(je.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[jr]){e[jr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Kt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=jn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&zn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Re(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Ni=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ii(Ai),Ii(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Ei(Ci,e)):Ii(Ai),Ei(Ai,n)}var Vi=null,Ui=!1,zi=!1;function ji(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!zi&&null!==Vi){zi=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),He(Ze,Bi),i}finally{kt=t,zi=!1}}return null}var qi=[],Wi=0,Gi=null,Ki=0,Hi=[],Qi=0,$i=null,Yi=1,Ji="";function Xi(e,t){qi[Wi++]=Ki,qi[Wi++]=Gi,Gi=e,Ki=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Ji,Hi[Qi++]=$i,$i=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ja={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Ri(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Ri(t)?Ni:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ja.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Vc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Ja=$a(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Ei(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Vo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return To().memoizedState}function jo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return jo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return jo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Vo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ns.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:Jo,useReducer:Ao,useRef:zo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:zo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Os,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Os,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Os,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Os,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Ri(n)?Ni:Ci.current;return a=Pi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Wu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Pi(t,c=Ri(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(za(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Pi(t,s=Ri(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(za(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Pu(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Du,Ou,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,zu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return zu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,zu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),zu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Ji,Hi[Qi++]=$i,Yi=e.id,Ji=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Ri(t.type)&&Di(),Hu(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Du(e,t),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ru(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),Du(e,t),null===e&&Br(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Je()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(){},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Ju=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Ju||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Ju&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Ju&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,ds(e,t,n),Ju=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ic(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Je())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ju=(l=Ju)||f,ms(t,e),Ju=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Zu=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ju;u=Yu;var c=Ju;if(Yu=o,(Ju=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Zu=s):_s(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,Yu=u,Ju=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ju)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Ju||512&t.flags&&as(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Ss,Is=Math.ceil,Es=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Ps=null,Rs=0,Ds=0,Os=Si(0),Ls=0,Ms=null,Fs=0,Vs=0,Us=0,zs=null,js=null,Bs=0,qs=1/0,Ws=null,Gs=!1,Ks=null,Hs=null,Qs=!1,$s=null,Ys=0,Js=0,Xs=null,Zs=-1,ec=0;function tc(){return 0!==(6&As)?Je():-1!==Zs?Zs:Zs=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Js)throw Js=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(Vs|=n),4===Ls&&sc(e,Rs)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Je()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,ji(e)}(cc.bind(null,e)):ji(cc.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Rs===t||(Ws=null,qs=Je()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Es.current=o,As=i,null!==Ps?t=0:(Ns=null,Rs=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,js,Ws);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,js,Ws),t);break}xc(e,js,Ws);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,js,Ws),r);break}xc(e,js,Ws);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=zs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=js,js=n,null!==t&&uc(t)),e}function uc(e){null===js?js=e:js.push.apply(js,e)}function sc(e,t){for(t&=~Us,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,js,Ws),ic(e,Je()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Je()+500,Ui&&Bi())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&As)&&_c();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&Bi()}}function hc(){Ds=Os.current,Ii(Os)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Ps=e=Oc(e.current,null),Rs=Ds=t,Ls=0,Ms=null,Us=Vs=Fs=0,js=zs=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Ps;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Ps=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Rs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===zs?zs=[o]:zs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Hs||!Hs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function vc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Vs)||sc(Ns,Rs)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Rs===t||(Ws=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Es.current=r,null!==Ps)throw Error(a(261));return Ns=null,Rs=0,Ls}function gc(){for(;null!==Ps;)bc(Ps)}function kc(){for(;null!==Ps&&!$e();)bc(Ps)}function bc(e){var t=Ss(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?wc(e):Ps=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Ds)))return void(Ps=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Ps=n);if(null===e)return Ls=6,void(Ps=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==$s);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Ps=Ns=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Ye(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Ys=i),o=e.pendingLanes,0===o&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Ks,Ks=null,e;0!==(1&Ys)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xs?Js++:(Js=0,Xs=e):Js=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function _c(){if(null!==$s){var e=bt(Ys),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Ys=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Sc(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Rs&n)===n&&(4===Ls||3===Ls&&(130023424&Rs)===Rs&&500>Je()-Bs?dc(e,0):Us|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return He(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Rc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new zc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=ja,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Pu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Vu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Wu(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Je()),0===(6&As)&&(qs=Je()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},St=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,_=function(){R.postMessage(null)}}else _=function(){y(N,0)};function D(e){I=e,S||(S=!0,_())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/react_chat/";var r={};!function(){n.d(r,{_y:function(){return vL}});var e={};n.r(e),n.d(e,{FirebaseError:function(){return Co},SDK_VERSION:function(){return Uu},_DEFAULT_ENTRY_NAME:function(){return Eu},_addComponent:function(){return Nu},_addOrOverwriteComponent:function(){return Pu},_apps:function(){return Cu},_clearComponents:function(){return Lu},_components:function(){return Au},_getProvider:function(){return Du},_registerComponent:function(){return Ru},_removeServiceInstance:function(){return Ou},deleteApp:function(){return qu},getApp:function(){return ju},getApps:function(){return Bu},initializeApp:function(){return zu},onLog:function(){return Ku},registerVersion:function(){return Gu},setLogLevel:function(){return Hu}});var t,i=n(791),a=n.t(i,2),o=n(250);function u(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||c(e,t)||l()}function h(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){return function(e){if(Array.isArray(e))return s(e)}(e)||h(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){var t=x();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function I(e,t,n){return I=x()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&k(i,n.prototype),i},I.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return I(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),k(r,e)},E(e)}function T(e){return u(e)||h(e)||c(e)||l()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var N,P="popstate";function R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function D(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function L(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function M(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function F(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function V(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:M(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(A({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(P,v),h=e,function(){u.removeEventListener(P,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=L(y.location,e,n);r&&r(i,e);var a=O(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=L(y.location,e,n);r&&r(i,e);var a=O(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function U(e,t,n){void 0===n&&(n="/");var r=Z(("string"===typeof t?F(t):t).pathname||"/",n);if(null==r)return null;var i=z(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Y(i[o],X(r));return a}function z(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=re([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),z(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:$(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(j(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function j(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=j(i.join("/")),s=[];return s.push.apply(s,d(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,d(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:\w+$/,q=3,W=2,G=1,K=10,H=-2,Q=function(e){return"*"===e};function $(e,t){var n=e.split("/"),r=n.length;return n.some(Q)&&(r+=H),t&&(r+=W),n.filter((function(e){return!Q(e)})).reduce((function(e,t){return e+(B.test(t)?q:""===t?G:K)}),r)}function Y(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=J({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:re([i,l.pathname]),pathnameBase:ie(re([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=re([i,l.pathnameBase]))}return a}function J(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);D("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=f(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return D(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function X(e){try{return decodeURI(e)}catch(t){return D(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function te(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ne(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=F(e):(R(!(i=A({},e)).pathname||!i.pathname.includes("?"),ee("?","pathname","search",i)),R(!i.pathname||!i.pathname.includes("#"),ee("#","pathname","hash",i)),R(!i.search||!i.search.includes("#"),ee("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?F(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ae(a),hash:oe(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var re=function(e){return e.join("/").replace(/\/\/+/g,"/")},ie=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ae=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},oe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ue=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(E(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ce=["post","put","patch","delete"],le=(new Set(ce),["get"].concat(ce));new Set(le),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}var he=i.createContext(null);var de=i.createContext(null);var pe=i.createContext(null);var ve=i.createContext(null);var me=i.createContext(null);var ye=i.createContext({outlet:null,matches:[],isDataRoute:!1});var ge=i.createContext(null);function ke(){return null!=i.useContext(me)}function be(){return ke()||R(!1),i.useContext(me).location}function we(e){i.useContext(ve).static||i.useLayoutEffect(e)}function xe(){return i.useContext(ye).isDataRoute?function(){var e=Pe(Ae.UseNavigateStable).router,t=De(Ne.UseNavigateStable),n=i.useRef(!1);we((function(){n.current=!0}));var r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,fe({fromRouteId:t},i)))}),[e,t]);return r}():function(){ke()||R(!1);var e=i.useContext(he),t=i.useContext(ve),n=t.basename,r=t.navigator,a=i.useContext(ye).matches,o=be().pathname,u=JSON.stringify(te(a).map((function(e){return e.pathnameBase}))),s=i.useRef(!1);return we((function(){s.current=!0})),i.useCallback((function(t,i){if(void 0===i&&(i={}),s.current)if("number"!==typeof t){var a=ne(t,JSON.parse(u),o,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:re([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}else r.go(t)}),[n,r,u,o,e])}()}function _e(e,n,r){ke()||R(!1);var a,o=i.useContext(ve).navigator,u=i.useContext(ye).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,be());if(n){var h,d="string"===typeof n?F(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||R(!1),a=d}else a=f;var p=a.pathname||"/",v=U(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ce(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:re([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:re([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,r);return n&&m?i.createElement(me.Provider,{value:{location:fe({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Se(){var e=function(){var e,t=i.useContext(ge),n=Re(Ne.UseRouteError),r=De(Ne.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}var Ie=i.createElement(Se,null),Ee=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?i.createElement(ye.Provider,{value:this.props.routeContext},i.createElement(ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(i.Component);function Te(e){var t=e.routeContext,n=e.match,r=e.children,a=i.useContext(he);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(ye.Provider,{value:t},r)}function Ce(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(r=n)?void 0:r.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||R(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,r,a){var s=r.route.id?null==u?void 0:u[r.route.id]:null,c=null;n&&(c=r.route.errorElement||Ie);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=s?c:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(Te,{match:r,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(Ee,{location:n.location,revalidation:n.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ae||{}),Ne=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ne||{});function Pe(e){var t=i.useContext(he);return t||R(!1),t}function Re(e){var t=i.useContext(de);return t||R(!1),t}function De(e){var t=function(e){var t=i.useContext(ye);return t||R(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||R(!1),n.route.id}a.startTransition;function Oe(e){var t=e.to,n=e.replace,r=e.state,a=e.relative;ke()||R(!1);var o=i.useContext(ye).matches,u=be().pathname,s=xe(),c=ne(t,te(o).map((function(e){return e.pathnameBase})),u,"path"===a),l=JSON.stringify(c);return i.useEffect((function(){return s(JSON.parse(l),{replace:n,state:r,relative:a})}),[s,l,a,n,r]),null}function Le(e){R(!1)}function Me(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;ke()&&R(!1);var d=r.replace(/^\/*/,"/"),p=i.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=F(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,_=void 0===x?null:x,S=v.key,I=void 0===S?"default":S,E=i.useMemo((function(){var e=Z(y,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:_,key:I},navigationType:c}}),[d,y,k,w,_,I,c]);return null==E?null:i.createElement(ve.Provider,{value:p},i.createElement(me.Provider,{children:o,value:E}))}function Fe(e){var t=e.children,n=e.location;return _e(ze(t),n)}var Ve=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Ve||{}),Ue=new Promise((function(){}));i.Component;function ze(e,t){void 0===t&&(t=[]);var n=[];return i.Children.forEach(e,(function(e,r){if(i.isValidElement(e)){var a=[].concat(d(t),[r]);if(e.type!==i.Fragment){e.type!==Le&&R(!1),e.props.index&&e.props.children&&R(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ze(e.props.children,a)),n.push(o)}else n.push.apply(n,ze(e.props.children,a))}})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var je=a.startTransition;function Be(e){var t,n=e.basename,r=e.children,a=e.future,o=e.window,u=i.useRef();null==u.current&&(u.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),V((function(e,t){var n=F(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash,s=void 0===u?"":u;return i.startsWith("/")||i.startsWith(".")||(i="/"+i),L("",{pathname:i,search:o,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:M(t))}),(function(e,t){D("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var s=u.current,c=f(i.useState({action:s.action,location:s.location}),2),l=c[0],h=c[1],d=(a||{}).v7_startTransition,p=i.useCallback((function(e){d&&je?je((function(){return h(e)})):h(e)}),[h,d]);return i.useLayoutEffect((function(){return s.listen(p)}),[s,p]),i.createElement(Me,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var qe,We;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(qe||(qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(We||(We={}));function Ge(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},He.apply(this,arguments)}function Qe(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Qe(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var $e=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Qe(e))&&(r&&(r+=" "),r+=t);return r};function Ye(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function Je(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Ze(e){if(e.type)return e;if("#"===e.charAt(0))return Ze(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Je(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Je(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function et(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function tt(e){var t="hsl"===(e=Ze(e)).type?Ze(function(e){var t=(e=Ze(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),et({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function nt(e,t){return e=Ze(e),t=Xe(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,et(e)}function rt(e,t){if(e=Ze(e),t=Xe(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return et(e)}function it(e,t){if(e=Ze(e),t=Xe(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return et(e)}function at(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var ot=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ut=at((function(e){return ot.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var st=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ct=Math.abs,lt=String.fromCharCode,ft=Object.assign;function ht(e){return e.trim()}function dt(e,t,n){return e.replace(t,n)}function pt(e,t){return e.indexOf(t)}function vt(e,t){return 0|e.charCodeAt(t)}function mt(e,t,n){return e.slice(t,n)}function yt(e){return e.length}function gt(e){return e.length}function kt(e,t){return t.push(e),e}var bt=1,wt=1,xt=0,_t=0,St=0,It="";function Et(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:bt,column:wt,length:o,return:""}}function Tt(e,t){return ft(Et("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ct(){return St=_t>0?vt(It,--_t):0,wt--,10===St&&(wt=1,bt--),St}function At(){return St=_t<xt?vt(It,_t++):0,wt++,10===St&&(wt=1,bt++),St}function Nt(){return vt(It,_t)}function Pt(){return _t}function Rt(e,t){return mt(It,e,t)}function Dt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ot(e){return bt=wt=1,xt=yt(It=e),_t=0,[]}function Lt(e){return It="",e}function Mt(e){return ht(Rt(_t-1,Ut(91===e?e+2:40===e?e+1:e)))}function Ft(e){for(;(St=Nt())&&St<33;)At();return Dt(e)>2||Dt(St)>3?"":" "}function Vt(e,t){for(;--t&&At()&&!(St<48||St>102||St>57&&St<65||St>70&&St<97););return Rt(e,Pt()+(t<6&&32==Nt()&&32==At()))}function Ut(e){for(;At();)switch(St){case e:return _t;case 34:case 39:34!==e&&39!==e&&Ut(St);break;case 40:41===e&&Ut(e);break;case 92:At()}return _t}function zt(e,t){for(;At()&&e+St!==57&&(e+St!==84||47!==Nt()););return"/*"+Rt(t,_t-1)+"*"+lt(47===e?e:At())}function jt(e){for(;!Dt(Nt());)At();return Rt(e,_t)}var Bt="-ms-",qt="-moz-",Wt="-webkit-",Gt="comm",Kt="rule",Ht="decl",Qt="@keyframes";function $t(e,t){for(var n="",r=gt(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Yt(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ht:return e.return=e.return||e.value;case Gt:return"";case Qt:return e.return=e.value+"{"+$t(e.children,r)+"}";case Kt:e.value=e.props.join(",")}return yt(n=$t(e.children,r))?e.return=e.value+"{"+n+"}":""}function Jt(e){return Lt(Xt("",null,null,null,[""],e=Ot(e),0,[0],e))}function Xt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,_=k;m;)switch(p=g,g=At()){case 40:if(108!=p&&58==vt(_,f-1)){-1!=pt(_+=dt(Mt(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=Mt(g);break;case 9:case 10:case 13:case 32:_+=Ft(p);break;case 92:_+=Vt(Pt()-1,7);continue;case 47:switch(Nt()){case 42:case 47:kt(en(zt(At(),Pt()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=yt(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:-1==y&&(_=dt(_,/\f/g,"")),d>0&&yt(_)-f&&kt(d>32?tn(_+";",r,n,f-1):tn(dt(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(kt(x=Zt(_,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)Xt(_,t,x,x,b,a,f,u,w);else switch(99===h&&110===vt(_,3)?100:h){case 100:case 108:case 109:case 115:Xt(e,x,x,r&&kt(Zt(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:Xt(_,x,x,x,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=_="",f=o;break;case 58:f=1+yt(_),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==Ct())continue;switch(_+=lt(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=(yt(_)-1)*y,y=1;break;case 64:45===Nt()&&(_+=Mt(At())),h=Nt(),l=f=yt(k=_+=jt(Pt())),g++;break;case 45:45===p&&2==yt(_)&&(v=0)}}return a}function Zt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=gt(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=mt(e,f+1,f=ct(v=o[p])),k=e;y<d;++y)(k=ht(v>0?h[y]+" "+g:dt(g,/&\f/g,h[y])))&&(s[m++]=k);return Et(e,t,n,0===i?Kt:u,s,c,l)}function en(e,t,n){return Et(e,t,n,Gt,lt(St),mt(e,2,-2),0)}function tn(e,t,n,r){return Et(e,t,n,Ht,mt(e,0,r),mt(e,r+1,-1),r)}var nn=function(e,t,n){for(var r=0,i=0;r=i,i=Nt(),38===r&&12===i&&(t[n]=1),!Dt(i);)At();return Rt(e,_t)},rn=function(e,t){return Lt(function(e,t){var n=-1,r=44;do{switch(Dt(r)){case 0:38===r&&12===Nt()&&(t[n]=1),e[n]+=nn(_t-1,t,n);break;case 2:e[n]+=Mt(r);break;case 4:if(44===r){e[++n]=58===Nt()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=lt(r)}}while(r=At());return e}(Ot(e),t))},an=new WeakMap,on=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||an.get(n))&&!r){an.set(e,!0);for(var i=[],a=rn(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},un=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function sn(e,t){switch(function(e,t){return 45^vt(e,0)?(((t<<2^vt(e,0))<<2^vt(e,1))<<2^vt(e,2))<<2^vt(e,3):0}(e,t)){case 5103:return Wt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Wt+e+qt+e+Bt+e+e;case 6828:case 4268:return Wt+e+Bt+e+e;case 6165:return Wt+e+Bt+"flex-"+e+e;case 5187:return Wt+e+dt(e,/(\w+).+(:[^]+)/,Wt+"box-$1$2"+Bt+"flex-$1$2")+e;case 5443:return Wt+e+Bt+"flex-item-"+dt(e,/flex-|-self/,"")+e;case 4675:return Wt+e+Bt+"flex-line-pack"+dt(e,/align-content|flex-|-self/,"")+e;case 5548:return Wt+e+Bt+dt(e,"shrink","negative")+e;case 5292:return Wt+e+Bt+dt(e,"basis","preferred-size")+e;case 6060:return Wt+"box-"+dt(e,"-grow","")+Wt+e+Bt+dt(e,"grow","positive")+e;case 4554:return Wt+dt(e,/([^-])(transform)/g,"$1"+Wt+"$2")+e;case 6187:return dt(dt(dt(e,/(zoom-|grab)/,Wt+"$1"),/(image-set)/,Wt+"$1"),e,"")+e;case 5495:case 3959:return dt(e,/(image-set\([^]*)/,Wt+"$1$`$1");case 4968:return dt(dt(e,/(.+:)(flex-)?(.*)/,Wt+"box-pack:$3"+Bt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wt+e+e;case 4095:case 3583:case 4068:case 2532:return dt(e,/(.+)-inline(.+)/,Wt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yt(e)-1-t>6)switch(vt(e,t+1)){case 109:if(45!==vt(e,t+4))break;case 102:return dt(e,/(.+:)(.+)-([^]+)/,"$1"+Wt+"$2-$3$1"+qt+(108==vt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~pt(e,"stretch")?sn(dt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==vt(e,t+1))break;case 6444:switch(vt(e,yt(e)-3-(~pt(e,"!important")&&10))){case 107:return dt(e,":",":"+Wt)+e;case 101:return dt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wt+(45===vt(e,14)?"inline-":"")+"box$3$1"+Wt+"$2$3$1"+Bt+"$2box$3")+e}break;case 5936:switch(vt(e,t+11)){case 114:return Wt+e+Bt+dt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Wt+e+Bt+dt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Wt+e+Bt+dt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Wt+e+Bt+e+e}return e}var cn=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ht:e.return=sn(e.value,e.length);break;case Qt:return $t([Tt(e,{value:dt(e.value,"@","@"+Wt)})],r);case Kt:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $t([Tt(e,{props:[dt(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return $t([Tt(e,{props:[dt(t,/:(plac\w+)/,":"+Wt+"input-$1")]}),Tt(e,{props:[dt(t,/:(plac\w+)/,":-moz-$1")]}),Tt(e,{props:[dt(t,/:(plac\w+)/,Bt+"input-$1")]})],r)}return""}))}}],ln=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||cn;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[Yt,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=gt(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([on,un].concat(r,l));a=function(e,t,n,r){s=n,$t(Jt(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new st({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var fn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hn=/[A-Z]|^ms/g,dn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pn=function(e){return 45===e.charCodeAt(1)},vn=function(e){return null!=e&&"boolean"!==typeof e},mn=at((function(e){return pn(e)?e:e.replace(hn,"-$&").toLowerCase()})),yn=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(dn,(function(e,t,n){return kn={name:t,styles:n,next:kn},t}))}return 1===fn[e]||pn(e)||"number"!==typeof t||0===t?t:t+"px"};function gn(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return kn={name:n.name,styles:n.styles,next:kn},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)kn={name:r.name,styles:r.styles,next:kn},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=gn(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":vn(o)&&(r+=mn(a)+":"+yn(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=gn(e,t,o);switch(a){case"animation":case"animationName":r+=mn(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)vn(o[s])&&(r+=mn(a)+":"+yn(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=kn,a=n(e);return kn=i,gn(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var kn,bn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var wn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";kn=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=gn(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=gn(n,t,e[o]),r&&(i+=a[o]);bn.lastIndex=0;for(var u,s="";null!==(u=bn.exec(i));)s+="-"+u[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+s;return{name:c,styles:i,next:kn}},xn=!!a.useInsertionEffect&&a.useInsertionEffect,_n=xn||function(e){return e()},Sn=(xn||i.useLayoutEffect,i.createContext("undefined"!==typeof HTMLElement?ln({key:"css"}):null));Sn.Provider;var In=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(Sn);return e(t,r,n)}))};var En=i.createContext({});var Tn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Cn=ut,An=function(e){return"theme"!==e},Nn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Cn:An},Pn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Rn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Tn(t,n,r),_n((function(){return function(e,t,n){Tn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},Dn=function e(t,n){var r,a,o=t.__emotion_real===t,u=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var s=Pn(t,n,o),c=s||Nn(u),l=!c("as");return function(){var f=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var v=In((function(e,t,n){var r=l&&e.as||u,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=i.useContext(En)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=wn(h.concat(f),t.registered,d);o+=t.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?Nn(r):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=n,i.createElement(i.Fragment,null,i.createElement(Rn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),i.createElement(r,y))}));return v.displayName=void 0!==r?r:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=u,v.__emotion_styles=h,v.__emotion_forwardProp=s,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,r){return e(t,He({},n,r,{shouldForwardProp:Pn(v,r,!0)})).apply(void 0,h)},v}}.bind();function On(e,t){return Dn(e,t)}function Ln(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Mn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?He({},e):e;return Ln(e)&&Ln(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Ln(t[i])&&i in e&&Ln(e[i])?r[i]=Mn(e[i],t[i],n):r[i]=t[i])})),r}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Dn[e]=Dn(e)}));var Fn=["values","unit","step"];var Vn={borderRadius:4},Un={xs:0,sm:600,md:900,lg:1200,xl:1536},zn={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Un[e],"px)")}};function jn(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||zn;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||zn;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||Un).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function Bn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function qn(e,t){return e.reduce((function(e,t){var n=e[t];return 0===Object.keys(n).length&&delete e[t],e}),t)}function Wn(e){if("string"!==typeof e)throw new Error(Je(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Gn(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function Kn(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:Gn(e,n)||i,t&&(r=t(r)),r}var Hn=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=Gn(e.theme,i)||{};return jn(e,n,(function(e){var n=Kn(o,a,e);return e===n&&"string"===typeof e&&(n=Kn(o,a,"".concat(t).concat("default"===e?"":Wn(e)),e)),!1===r?n:Ge({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var Qn=function(e,t){return t?Mn(e,t,{clone:!1}):e};var $n={m:"margin",p:"padding"},Yn={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Jn={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Xn=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!Jn[e])return[e];e=Jn[e]}var t=f(e.split(""),2),n=t[0],r=t[1],i=$n[n],a=Yn[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),Zn=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY"],er=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"],tr=[].concat(Zn,er);function nr(e,t,n,r){var i=Gn(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function rr(e){return nr(e,"spacing",8)}function ir(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function ar(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=ir(t,n),e}),{})}}(Xn(n),r);return jn(e,e[n],i)}function or(e,t){var n=rr(e.theme);return Object.keys(e).map((function(r){return ar(e,t,r,n)})).reduce(Qn,{})}function ur(e){return or(e,Zn)}function sr(e){return or(e,er)}function cr(e){return or(e,tr)}ur.propTypes={},ur.filterProps=Zn,sr.propTypes={},sr.filterProps=er,cr.propTypes={},cr.filterProps=tr;var lr=cr;var fr=["breakpoints","palette","spacing","shape"];var hr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=Ke(e,fr),c=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=Ke(e,Fn),s=Object.keys(n);function c(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function l(e,t){var r=s.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[s[r]]?n[s[r]]:t)-o/100).concat(i,")")}return He({keys:s,values:n,up:c,down:function(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")},between:l,only:function(e){return s.indexOf(e)+1<s.length?l(e,s[s.indexOf(e)+1]):c(e)},unit:i},u)}(n),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=rr({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),f=Mn({breakpoints:c,direction:"ltr",components:{},palette:He({mode:"light"},i),spacing:l,shape:He({},Vn,u)},s),h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return f=d.reduce((function(e,t){return Mn(e,t)}),f)};var dr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?Qn(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function pr(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var vr=Hn({prop:"border",themeKey:"borders",transform:pr}),mr=Hn({prop:"borderTop",themeKey:"borders",transform:pr}),yr=Hn({prop:"borderRight",themeKey:"borders",transform:pr}),gr=Hn({prop:"borderBottom",themeKey:"borders",transform:pr}),kr=Hn({prop:"borderLeft",themeKey:"borders",transform:pr}),br=Hn({prop:"borderColor",themeKey:"palette"}),wr=Hn({prop:"borderTopColor",themeKey:"palette"}),xr=Hn({prop:"borderRightColor",themeKey:"palette"}),_r=Hn({prop:"borderBottomColor",themeKey:"palette"}),Sr=Hn({prop:"borderLeftColor",themeKey:"palette"}),Ir=function(e){if(e.borderRadius){var t=nr(e.theme,"shape.borderRadius",4);return jn(e,e.borderRadius,(function(e){return{borderRadius:ir(t,e)}}))}return null};Ir.propTypes={},Ir.filterProps=["borderRadius"];var Er=dr(vr,mr,yr,gr,kr,br,wr,xr,_r,Sr,Ir),Tr=dr(Hn({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Hn({prop:"display"}),Hn({prop:"overflow"}),Hn({prop:"textOverflow"}),Hn({prop:"visibility"}),Hn({prop:"whiteSpace"})),Cr=dr(Hn({prop:"flexBasis"}),Hn({prop:"flexDirection"}),Hn({prop:"flexWrap"}),Hn({prop:"justifyContent"}),Hn({prop:"alignItems"}),Hn({prop:"alignContent"}),Hn({prop:"order"}),Hn({prop:"flex"}),Hn({prop:"flexGrow"}),Hn({prop:"flexShrink"}),Hn({prop:"alignSelf"}),Hn({prop:"justifyItems"}),Hn({prop:"justifySelf"})),Ar=function(e){if(e.gap){var t=nr(e.theme,"spacing",8);return jn(e,e.gap,(function(e){return{gap:ir(t,e)}}))}return null};Ar.propTypes={},Ar.filterProps=["gap"];var Nr=function(e){if(e.columnGap){var t=nr(e.theme,"spacing",8);return jn(e,e.columnGap,(function(e){return{columnGap:ir(t,e)}}))}return null};Nr.propTypes={},Nr.filterProps=["columnGap"];var Pr=function(e){if(e.rowGap){var t=nr(e.theme,"spacing",8);return jn(e,e.rowGap,(function(e){return{rowGap:ir(t,e)}}))}return null};Pr.propTypes={},Pr.filterProps=["rowGap"];var Rr=dr(Ar,Nr,Pr,Hn({prop:"gridColumn"}),Hn({prop:"gridRow"}),Hn({prop:"gridAutoFlow"}),Hn({prop:"gridAutoColumns"}),Hn({prop:"gridAutoRows"}),Hn({prop:"gridTemplateColumns"}),Hn({prop:"gridTemplateRows"}),Hn({prop:"gridTemplateAreas"}),Hn({prop:"gridArea"})),Dr=dr(Hn({prop:"position"}),Hn({prop:"zIndex",themeKey:"zIndex"}),Hn({prop:"top"}),Hn({prop:"right"}),Hn({prop:"bottom"}),Hn({prop:"left"})),Or=dr(Hn({prop:"color",themeKey:"palette"}),Hn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),Hn({prop:"backgroundColor",themeKey:"palette"})),Lr=Hn({prop:"boxShadow",themeKey:"shadows"});function Mr(e){return e<=1?"".concat(100*e,"%"):e}var Fr=Hn({prop:"width",transform:Mr}),Vr=function(e){if(e.maxWidth){return jn(e,e.maxWidth,(function(t){return{maxWidth:e.theme.breakpoints.values[t]||Mr(t)}}))}return null};Vr.filterProps=["maxWidth"];var Ur=Hn({prop:"minWidth",transform:Mr}),zr=Hn({prop:"height",transform:Mr}),jr=Hn({prop:"maxHeight",transform:Mr}),Br=Hn({prop:"minHeight",transform:Mr}),qr=(Hn({prop:"size",cssProperty:"width",transform:Mr}),Hn({prop:"size",cssProperty:"height",transform:Mr}),dr(Fr,Vr,Ur,zr,jr,Br,Hn({prop:"boxSizing"}))),Wr=Hn({prop:"fontFamily",themeKey:"typography"}),Gr=Hn({prop:"fontSize",themeKey:"typography"}),Kr=Hn({prop:"fontStyle",themeKey:"typography"}),Hr=Hn({prop:"fontWeight",themeKey:"typography"}),Qr=Hn({prop:"letterSpacing"}),$r=Hn({prop:"lineHeight"}),Yr=Hn({prop:"textAlign"}),Jr=dr(Hn({prop:"typography",cssProperty:!1,themeKey:"typography"}),Wr,Gr,Kr,Hr,Qr,$r,Yr),Xr={borders:Er.filterProps,display:Tr.filterProps,flexbox:Cr.filterProps,grid:Rr.filterProps,positions:Dr.filterProps,palette:Or.filterProps,shadows:Lr.filterProps,sizing:qr.filterProps,spacing:lr.filterProps,typography:Jr.filterProps},Zr={borders:Er,display:Tr,flexbox:Cr,grid:Rr,positions:Dr,palette:Or,shadows:Lr,sizing:qr,spacing:lr,typography:Jr},ei=Object.keys(Xr).reduce((function(e,t){return Xr[t].forEach((function(n){e[n]=Zr[t]})),e}),{});var ti=function(e,t,n){var r,i=(Ge(r={},e,t),Ge(r,"theme",n),r),a=ei[e];return a?a(i):Ge({},e,t)};function ni(e){var t=e||{},n=t.sx,r=t.theme,i=void 0===r?{}:r;if(!n)return null;if("function"===typeof n)return n(i);if("object"!==typeof n)return n;var a=Bn(i.breakpoints),o=Object.keys(a),u=a;return Object.keys(n).forEach((function(e){var t,r,a=(t=n[e],r=i,"function"===typeof t?t(r):t);if("object"===typeof a)if(ei[e])u=Qn(u,ti(e,a,i));else{var o=jn({theme:i},a,(function(t){return Ge({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(o,a)?u=Qn(u,o):u[e]=ni({sx:a,theme:i})}else u=Qn(u,ti(e,a,i))})),qn(o,u)}ni.filterProps=["sx"];var ri=ni,ii=["variant"];function ai(e){return 0===e.length}function oi(e){var t=e.variant,n=Ke(e,ii),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?ai(r)?e[t]:Wn(e[t]):"".concat(ai(r)?t:Wn(t)).concat(Wn(e[t].toString()))})),r}var ui=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],si=["theme"],ci=["theme"];function li(e){return 0===Object.keys(e).length}function fi(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var hi=hr();function di(e,t,n){var r;return He({toolbar:(r={minHeight:56},Ge(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Ge(r,e.up("sm"),{minHeight:64}),r)},n)}var pi={black:"#000",white:"#fff"},vi={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},mi={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},yi={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},gi={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ki={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},bi={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},wi={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},xi=["mode","contrastThreshold","tonalOffset"],_i={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:pi.white,default:pi.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Si={text:{primary:pi.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:pi.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ii(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=it(e.main,i):"dark"===t&&(e.dark=rt(e.main,a)))}function Ei(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=Ke(e,xi),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ki[200],light:ki[50],dark:ki[400]}:{main:ki[700],light:ki[400],dark:ki[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:mi[200],light:mi[50],dark:mi[400]}:{main:mi[500],light:mi[300],dark:mi[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:yi[500],light:yi[300],dark:yi[700]}:{main:yi[700],light:yi[400],dark:yi[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:bi[400],light:bi[300],dark:bi[700]}:{main:bi[700],light:bi[500],dark:bi[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:wi[400],light:wi[300],dark:wi[700]}:{main:wi[800],light:wi[500],dark:wi[900]}}(n),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:gi[400],light:gi[300],dark:gi[700]}:{main:"#ED6C02",light:gi[500],dark:gi[900]}}(n);function p(e){var t=function(e,t){var n=tt(e),r=tt(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Si.text.primary)>=i?Si.text.primary:_i.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=He({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Je(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Je(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Ii(t,"light",u,o),Ii(t,"dark",c,o),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:Si,light:_i};return Mn(He({common:pi,mode:n,primary:v({color:s,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:d,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:h,name:"success"}),grey:vi,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:o},m[n]),u)}var Ti=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Ci={textTransform:"uppercase"},Ai='"Roboto", "Helvetica", "Arial", sans-serif';function Ni(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Ai:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,d=n.fontWeightBold,p=void 0===d?700:d,v=n.htmlFontSize,m=void 0===v?16:v,y=n.allVariants,g=n.pxToRem,k=Ke(n,Ti);var b=o/14,w=g||function(e){return"".concat(e/m*b,"rem")},x=function(e,t,n,r,a){return He({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===Ai?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,y);var o},_={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(h,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(h,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(h,14,1.75,.4,Ci),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,Ci)};return Mn(He({htmlFontSize:m,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:p},_),k,{clone:!1})}function Pi(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Ri=["none",Pi(0,2,1,-1,0,1,1,0,0,1,3,0),Pi(0,3,1,-2,0,2,2,0,0,1,5,0),Pi(0,3,3,-2,0,3,4,0,0,1,8,0),Pi(0,2,4,-1,0,4,5,0,0,1,10,0),Pi(0,3,5,-1,0,5,8,0,0,1,14,0),Pi(0,3,5,-1,0,6,10,0,0,1,18,0),Pi(0,4,5,-2,0,7,10,1,0,2,16,1),Pi(0,5,5,-3,0,8,10,1,0,3,14,2),Pi(0,5,6,-3,0,9,12,1,0,3,16,2),Pi(0,6,6,-3,0,10,14,1,0,4,18,3),Pi(0,6,7,-4,0,11,15,1,0,4,20,3),Pi(0,7,8,-4,0,12,17,2,0,5,22,4),Pi(0,7,8,-4,0,13,19,2,0,5,24,4),Pi(0,7,9,-4,0,14,21,2,0,5,26,4),Pi(0,8,9,-5,0,15,22,2,0,6,28,5),Pi(0,8,10,-5,0,16,24,2,0,6,30,5),Pi(0,8,11,-5,0,17,26,2,0,6,32,5),Pi(0,9,11,-5,0,18,28,2,0,7,34,6),Pi(0,9,12,-6,0,19,29,2,0,7,36,6),Pi(0,10,13,-6,0,20,31,3,0,8,38,7),Pi(0,10,13,-6,0,21,33,3,0,8,40,7),Pi(0,10,14,-6,0,22,35,3,0,8,42,7),Pi(0,11,14,-7,0,23,36,3,0,9,44,8),Pi(0,11,15,-7,0,24,38,3,0,9,46,8)],Di=["duration","easing","delay"],Oi={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Li={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Mi(e){return"".concat(Math.round(e),"ms")}function Fi(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Vi(e){var t=He({},Oi,e.easing),n=He({},Li,e.duration);return He({getAutoHeightDuration:Fi,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;Ke(r,Di);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:Mi(a)," ").concat(u," ").concat("string"===typeof c?c:Mi(c))})).join(",")}},e,{easing:t,duration:n})}var Ui={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zi=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=Ke(e,zi),l=Ei(i),f=hr(e),h=Mn(f,{mixins:di(f.breakpoints,f.spacing,n),palette:l,shadows:Ri.slice(),typography:Ni(l,s),transitions:Vi(o),zIndex:He({},Ui)});h=Mn(h,c);for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return h=p.reduce((function(e,t){return Mn(e,t)}),h)}var Bi=ji,qi=Bi(),Wi=function(e){return fi(e)&&"classes"!==e},Gi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?hi:t,r=e.rootShouldForwardProp,i=void 0===r?fi:r,a=e.slotShouldForwardProp,o=void 0===a?fi:a;return function(e){var t,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=a.name,s=a.slot,c=a.skipVariantsResolver,l=a.skipSx,f=a.overridesResolver,h=Ke(a,ui),p=void 0!==c?c:s&&"Root"!==s||!1,v=l||!1;u&&(t="".concat(u,"-").concat((r=s||"Root").charAt(0).toLowerCase()+r.slice(1)));var m=fi;"Root"===s?m=i:s&&(m=o);var y=On(e,He({shouldForwardProp:m,label:t||u||""},h));return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=r?r.map((function(e){return"function"===typeof e?function(t){var r=t.theme,i=Ke(t,si);return e(He({theme:li(r)?n:r},i))}:e})):[],o=e;u&&f&&a.push((function(e){var t=li(e.theme)?n:e.theme,r=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(u,t);return r?f(e,r):null})),u&&!p&&a.push((function(e){var t=li(e.theme)?n:e.theme;return function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[oi(n.props)])})),s}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=oi(e.props);r[t]=e.style})),r}(u,t),t,u)})),v||a.push((function(e){var t=li(e.theme)?n:e.theme;return ri(He({},e,{theme:t}))}));var s=a.length-r.length;if(Array.isArray(e)&&s>0){var c=new Array(s).fill("");(o=[].concat(d(e),d(c))).raw=[].concat(d(e.raw),d(c))}else"function"===typeof e&&(o=function(t){var r=t.theme,i=Ke(t,ci);return e(He({theme:li(r)?n:r},i))});return y.apply(void 0,[o].concat(d(a)))}}}({defaultTheme:qi,rootShouldForwardProp:Wi}),Ki=Gi;var Hi=i.createContext(null);var Qi=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=i.useContext(Hi);return n&&(e=n,0!==Object.keys(e).length)?n:t},$i=hr();var Yi=function(){return Qi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i)};function Ji(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.components||!t.components[n]||!t.components[n].defaultProps)return r;var i,a=He({},r),o=t.components[n].defaultProps;for(i in o)void 0===a[i]&&(a[i]=o[i]);return a}({theme:Yi(r),name:n,props:t});return i}function Xi(e){return Ji({props:e.props,name:e.name,defaultTheme:qi})}function Zi(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var ea=function(e,t){return i.useMemo((function(){return null==e&&null==t?null:function(n){Zi(e,n),Zi(t,n)}}),[e,t])},ta="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var na=function(e){var t=i.useRef(e);return ta((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])},ra=!0,ia=!1,aa=null,oa={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ua(e){e.metaKey||e.altKey||e.ctrlKey||(ra=!0)}function sa(){ra=!1}function ca(){"hidden"===this.visibilityState&&ia&&(ra=!0)}function la(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ra||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!oa[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var fa=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",ua,!0),t.addEventListener("mousedown",sa,!0),t.addEventListener("pointerdown",sa,!0),t.addEventListener("touchstart",sa,!0),t.addEventListener("visibilitychange",ca,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!la(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(ia=!0,window.clearTimeout(aa),aa=window.setTimeout((function(){ia=!1}),100),t.current=!1,!0)},ref:e}};function ha(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var da=i.createContext(null);function pa(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function va(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ma(e,t,n){var r=pa(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(a).forEach((function(o){var u=a[o];if((0,i.isValidElement)(u)){var s=o in t,c=o in r,l=t[o],f=(0,i.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,i.isValidElement)(l)&&(a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:va(u,"exit",e),enter:va(u,"enter",e)})):a[o]=(0,i.cloneElement)(u,{in:!1}):a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:va(u,"exit",e),enter:va(u,"enter",e)})}})),a}var ya=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},ga=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(_(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,k(t,n);var a=r.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,pa(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:va(e,"appear",n),enter:va(e,"enter",n),exit:va(e,"exit",n)})}))):ma(e,a,o),firstRender:!1}},a.handleExited=function(e,t){var n=pa(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=He({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Ke(e,["component","childFactory"]),a=this.state.contextValue,o=ya(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(da.Provider,{value:a},o):i.createElement(da.Provider,{value:a},i.createElement(t,r,o))},r}(i.Component);ga.propTypes={},ga.defaultProps={component:"div",childFactory:function(e){return e}};var ka=ga;n(110);function ba(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wn(t)}var wa=function(){var e=ba.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var xa=n(184);var _a=function(e){var t=e.className,n=e.classes,r=e.pulsate,a=void 0!==r&&r,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,h=e.timeout,d=f(i.useState(!1),2),p=d[0],v=d[1],m=$e(t,n.ripple,n.rippleVisible,a&&n.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},g=$e(n.child,p&&n.childLeaving,a&&n.childPulsate);return c||p||v(!0),i.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,h);return function(){clearTimeout(e)}}}),[l,c,h]),(0,xa.jsx)("span",{className:m,style:y,children:(0,xa.jsx)("span",{className:g})})},Sa={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Ia(e,t){return Sa[t]||"".concat(e,"-").concat(t)}function Ea(e,t){var n={};return t.forEach((function(t){n[t]=Ia(e,t)})),n}var Ta,Ca,Aa,Na,Pa,Ra,Da,Oa,La=Ea("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ma=["center","classes","className"],Fa=wa(Pa||(Pa=Ta||(Ta=ha(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Va=wa(Ra||(Ra=Ca||(Ca=ha(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Ua=wa(Da||(Da=Aa||(Aa=ha(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),za=Ki("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ja=Ki(_a,{name:"MuiTouchRipple",slot:"Ripple"})(Oa||(Oa=Na||(Na=ha(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),La.rippleVisible,Fa,550,(function(e){return e.theme.transitions.easing.easeInOut}),La.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),La.child,La.childLeaving,Va,550,(function(e){return e.theme.transitions.easing.easeInOut}),La.childPulsate,Ua,(function(e){return e.theme.transitions.easing.easeInOut})),Ba=i.forwardRef((function(e,t){var n=Xi({props:e,name:"MuiTouchRipple"}),r=n.center,a=void 0!==r&&r,o=n.classes,u=void 0===o?{}:o,s=n.className,c=Ke(n,Ma),l=f(i.useState([]),2),h=l[0],p=l[1],v=i.useRef(0),m=i.useRef(null);i.useEffect((function(){m.current&&(m.current(),m.current=null)}),[h]);var y=i.useRef(!1),g=i.useRef(null),k=i.useRef(null),b=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(g.current)}}),[]);var w=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;p((function(e){return[].concat(d(e),[(0,xa.jsx)(ja,{classes:{ripple:$e(u.ripple,La.ripple),rippleVisible:$e(u.rippleVisible,La.rippleVisible),ripplePulsate:$e(u.ripplePulsate,La.ripplePulsate),child:$e(u.child,La.child),childLeaving:$e(u.childLeaving,La.childLeaving),childPulsate:$e(u.childPulsate,La.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},v.current)])})),v.current+=1,m.current=a}),[u]),x=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&y.current)y.current=!1;else{"touchstart"===e.type&&(y.current=!0);var l,f,h,d=c?null:b.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,x=v.clientY;l=Math.round(m-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(S,2))}e.touches?null===k.current&&(k.current=function(){w({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},g.current=setTimeout((function(){k.current&&(k.current(),k.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,w]),_=i.useCallback((function(){x({},{pulsate:!0})}),[x]),S=i.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===e.type&&k.current)return k.current(),k.current=null,void(g.current=setTimeout((function(){S(e,t)})));k.current=null,p((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:_,start:x,stop:S}}),[_,x,S]),(0,xa.jsx)(za,He({className:$e(u.root,La.root,s),ref:b},c,{children:(0,xa.jsx)(ka,{component:null,exit:!0,children:h})}))})),qa=Ba;function Wa(e){return Ia("MuiButtonBase",e)}var Ga,Ka=Ea("MuiButtonBase",["root","disabled","focusVisible"]),Ha=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],Qa=Ki("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Ge(Ga={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(Ka.disabled),{pointerEvents:"none",cursor:"default"}),Ge(Ga,"@media print",{colorAdjust:"exact"}),Ga)),$a=i.forwardRef((function(e,t){var n=Xi({props:e,name:"MuiButtonBase"}),r=n.action,a=n.centerRipple,o=void 0!==a&&a,u=n.children,s=n.className,c=n.component,l=void 0===c?"button":c,h=n.disabled,d=void 0!==h&&h,p=n.disableRipple,v=void 0!==p&&p,m=n.disableTouchRipple,y=void 0!==m&&m,g=n.focusRipple,k=void 0!==g&&g,b=n.LinkComponent,w=void 0===b?"a":b,x=n.onBlur,_=n.onClick,S=n.onContextMenu,I=n.onDragLeave,E=n.onFocus,T=n.onFocusVisible,C=n.onKeyDown,A=n.onKeyUp,N=n.onMouseDown,P=n.onMouseLeave,R=n.onMouseUp,D=n.onTouchEnd,O=n.onTouchMove,L=n.onTouchStart,M=n.tabIndex,F=void 0===M?0:M,V=n.TouchRippleProps,U=n.type,z=Ke(n,Ha),j=i.useRef(null),B=i.useRef(null),q=fa(),W=q.isFocusVisibleRef,G=q.onFocus,K=q.onBlur,H=q.ref,Q=f(i.useState(!1),2),$=Q[0],Y=Q[1];function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return na((function(r){return t&&t(r),!n&&B.current&&B.current[e](r),!0}))}d&&$&&Y(!1),i.useEffect((function(){W.current=$}),[$,W]),i.useImperativeHandle(r,(function(){return{focusVisible:function(){Y(!0),j.current.focus()}}}),[]),i.useEffect((function(){$&&k&&!v&&B.current.pulsate()}),[v,k,$]);var X=J("start",N),Z=J("stop",S),ee=J("stop",I),te=J("stop",R),ne=J("stop",(function(e){$&&e.preventDefault(),P&&P(e)})),re=J("start",L),ie=J("stop",D),ae=J("stop",O),oe=J("stop",(function(e){K(e),!1===W.current&&Y(!1),x&&x(e)}),!1),ue=na((function(e){j.current||(j.current=e.currentTarget),G(e),!0===W.current&&(Y(!0),T&&T(e)),E&&E(e)})),se=function(){var e=j.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ce=i.useRef(!1),le=na((function(e){k&&!ce.current&&$&&B.current&&" "===e.key&&(ce.current=!0,B.current.stop(e,(function(){B.current.start(e)}))),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!d&&(e.preventDefault(),_&&_(e))})),fe=na((function(e){k&&" "===e.key&&B.current&&$&&!e.defaultPrevented&&(ce.current=!1,B.current.stop(e,(function(){B.current.pulsate(e)}))),A&&A(e),_&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&_(e)})),he=l;"button"===he&&(z.href||z.to)&&(he=w);var de={};"button"===he?(de.type=void 0===U?"button":U,de.disabled=d):(z.href||z.to||(de.role="button"),d&&(de["aria-disabled"]=d));var pe=ea(H,j),ve=ea(t,pe),me=f(i.useState(!1),2),ye=me[0],ge=me[1];i.useEffect((function(){ge(!0)}),[]);var ke=ye&&!v&&!d;var be=He({},n,{centerRipple:o,component:l,disabled:d,disableRipple:v,disableTouchRipple:y,focusRipple:k,tabIndex:F,focusVisible:$}),we=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=Ye({root:["root",t&&"disabled",n&&"focusVisible"]},Wa,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(be);return(0,xa.jsxs)(Qa,He({as:he,className:$e(we.root,s),ownerState:be,onBlur:oe,onClick:_,onContextMenu:Z,onFocus:ue,onKeyDown:le,onKeyUp:fe,onMouseDown:X,onMouseLeave:ne,onMouseUp:te,onDragLeave:ee,onTouchEnd:ie,onTouchMove:ae,onTouchStart:re,ref:ve,tabIndex:d?-1:F,type:U},de,z,{children:[u,ke?(0,xa.jsx)(qa,He({ref:B,center:o},V)):null]}))})),Ya=$a,Ja=Wn;function Xa(e){return Ia("MuiButton",e)}var Za=Ea("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),eo=["children","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],to=function(e){return He({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},no=Ki(Ya,{shouldForwardProp:function(e){return Wi(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Ja(n.color))],t["size".concat(Ja(n.size))],t["".concat(n.variant,"Size").concat(Ja(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,r=e.ownerState;return He({},n.typography.button,(Ge(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":He({textDecoration:"none",backgroundColor:nt(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===r.variant&&"inherit"!==r.color&&{backgroundColor:nt(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===r.variant&&"inherit"!==r.color&&{border:"1px solid ".concat(n.palette[r.color].main),backgroundColor:nt(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===r.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===r.variant&&"inherit"!==r.color&&{backgroundColor:n.palette[r.color].dark,"@media (hover: none)":{backgroundColor:n.palette[r.color].main}}),"&:active":He({},"contained"===r.variant&&{boxShadow:n.shadows[8]})},"&.".concat(Za.focusVisible),He({},"contained"===r.variant&&{boxShadow:n.shadows[6]})),Ge(t,"&.".concat(Za.disabled),He({color:n.palette.action.disabled},"outlined"===r.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===r.variant&&"secondary"===r.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===r.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===r.variant&&{padding:"6px 8px"},"text"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main},"outlined"===r.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main,border:"1px solid ".concat(nt(n.palette[r.color].main,.5))},"contained"===r.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].contrastText,backgroundColor:n.palette[r.color].main},"inherit"===r.color&&{color:"inherit",borderColor:"currentColor"},"small"===r.size&&"text"===r.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"text"===r.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"outlined"===r.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"outlined"===r.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"contained"===r.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"contained"===r.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(Ge(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(Za.focusVisible),{boxShadow:"none"}),Ge(t,"&:active",{boxShadow:"none"}),Ge(t,"&.".concat(Za.disabled),{boxShadow:"none"}),t)})),ro=Ki("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Ja(n.size))]]}})((function(e){var t=e.ownerState;return He({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},to(t))})),io=Ki("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Ja(n.size))]]}})((function(e){var t=e.ownerState;return He({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},to(t))})),ao=i.forwardRef((function(e,t){var n=Xi({props:e,name:"MuiButton"}),r=n.children,i=n.color,a=void 0===i?"primary":i,o=n.component,u=void 0===o?"button":o,s=n.disabled,c=void 0!==s&&s,l=n.disableElevation,f=void 0!==l&&l,h=n.disableFocusRipple,d=void 0!==h&&h,p=n.endIcon,v=n.focusVisibleClassName,m=n.fullWidth,y=void 0!==m&&m,g=n.size,k=void 0===g?"medium":g,b=n.startIcon,w=n.type,x=n.variant,_=void 0===x?"text":x,S=Ke(n,eo),I=He({},n,{color:a,component:u,disabled:c,disableElevation:f,disableFocusRipple:d,fullWidth:y,size:k,type:w,variant:_}),E=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return He({},o,Ye({root:["root",a,"".concat(a).concat(Ja(t)),"size".concat(Ja(i)),"".concat(a,"Size").concat(Ja(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Ja(i))],endIcon:["endIcon","iconSize".concat(Ja(i))]},Xa,o))}(I),T=b&&(0,xa.jsx)(ro,{className:E.startIcon,ownerState:I,children:b}),C=p&&(0,xa.jsx)(io,{className:E.endIcon,ownerState:I,children:p});return(0,xa.jsxs)(no,He({ownerState:I,component:u,disabled:c,focusRipple:!d,focusVisibleClassName:$e(E.focusVisible,v),ref:t,type:w},S,{classes:E,children:[T,r,C]}))})),oo=ao;function uo(){return uo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},uo.apply(this,arguments)}function so(){so=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=p.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==v(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e||""===e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError(v(e)+" is not iterable")}return d.prototype=p,r(k,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function co(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function lo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){co(a,r,i,o,u,"next",e)}function u(e){co(a,r,i,o,u,"throw",e)}o(void 0)}))}}var fo=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ho={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fo(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new po;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},po=function(e){b(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(E(Error)),vo=function(e){return function(e){var t=fo(e);return ho.encodeByteArray(t,!0)}(e).replace(/\./g,"")},mo=function(e){try{return ho.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=yo(e[n],t[n]));return e}var go=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ko=function(){try{return go()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/react_chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&mo(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},bo=function(){var e;return null===(e=ko())||void 0===e?void 0:e.config},wo=function(){function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function xo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _o(){var e,t=null===(e=ko())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function So(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Io(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Eo(){var e=xo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function To(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Co=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_(a),Ao.prototype.create),a}return g(n)}(E(Error)),Ao=function(){function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(No,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Co(n,a,t)}}]),e}();var No=/\{\$([^}]+)}/g;function Po(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ro(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Do(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Oo(u)&&Oo(s)){if(!Do(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Oo(e){return null!==e&&"object"===typeof e}function Lo(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Mo(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Fo(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Vo(e,t){var n=new Uo(e,t);return n.subscribe.bind(n)}var Uo=function(){function e(t,n){var r=this;p(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=zo),void 0===r.error&&(r.error=zo),void 0===r.complete&&(r.complete=zo);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function zo(){}function jo(e){return e&&e._delegate?e._delegate:e}var Bo=function(){function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),qo="[DEFAULT]",Wo=function(){function e(t,n){p(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new wo;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch(s){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qo;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=lo(so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(d(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),d(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qo;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qo;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=f(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Go(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qo;return this.component?this.component.multipleInstances?e:qo:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Go(e){return e===qo?void 0:e}var Ko,Ho,Qo=function(){function e(t){p(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Wo(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),$o=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ho||(Ho={}));var Yo={debug:Ho.DEBUG,verbose:Ho.VERBOSE,info:Ho.INFO,warn:Ho.WARN,error:Ho.ERROR,silent:Ho.SILENT},Jo=Ho.INFO,Xo=(Ge(Ko={},Ho.DEBUG,"log"),Ge(Ko,Ho.VERBOSE,"log"),Ge(Ko,Ho.INFO,"info"),Ge(Ko,Ho.WARN,"warn"),Ge(Ko,Ho.ERROR,"error"),Ko),Zo=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Xo[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},eu=function(){function e(t){p(this,e),this.name=t,this._logLevel=Jo,this._logHandler=Zo,this._userLogHandler=null,$o.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ho))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Yo[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ho.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ho.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ho.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ho.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ho.INFO].concat(t)),this._logHandler.apply(this,[this,Ho.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ho.WARN].concat(t)),this._logHandler.apply(this,[this,Ho.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ho.ERROR].concat(t)),this._logHandler.apply(this,[this,Ho.ERROR].concat(t))}}]),e}();function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ru,iu,au=function(e,t){return t.some((function(t){return e instanceof t}))};var ou=new WeakMap,uu=new WeakMap,su=new WeakMap,cu=new WeakMap,lu=new WeakMap;var fu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return uu.get(e);if("objectStoreNames"===t)return e.objectStoreNames||su.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function hu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(iu||(iu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(vu(this),n),pu(ou.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pu(e.apply(vu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[vu(this),t].concat(r));return su.set(a,t.sort?t.sort():[t]),pu(a)}}function du(e){return"function"===typeof e?hu(e):(e instanceof IDBTransaction&&function(e){if(!uu.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));uu.set(e,t)}}(e),au(e,ru||(ru=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,fu):e)}function pu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(pu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ou.set(t,e)})).catch((function(){})),lu.set(t,e),t}(e);if(cu.has(e))return cu.get(e);var t=du(e);return t!==e&&(cu.set(e,t),lu.set(t,e)),t}var vu=function(e){return lu.get(e)};var mu,yu,gu=["get","getKey","getAll","getAllKeys","count"],ku=["put","add","delete","clear"],bu=new Map;function wu(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(bu.get(t))return bu.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ku.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||gu.includes(n))){var a=function(){var e=lo(so().mark((function e(t){var a,o,u,s,c,l,f=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return bu.set(t,a),a}}}fu=function(e){return nu(nu({},e),{},{get:function(t,n,r){return wu(t,n)||e.get(t,n,r)},has:function(t,n){return!!wu(t,n)||e.has(t,n)}})}(fu);var xu=function(){function e(t){p(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var _u="@firebase/app",Su="0.9.16",Iu=new eu("@firebase/app"),Eu="[DEFAULT]",Tu=(Ge(mu={},_u,"fire-core"),Ge(mu,"@firebase/app-compat","fire-core-compat"),Ge(mu,"@firebase/analytics","fire-analytics"),Ge(mu,"@firebase/analytics-compat","fire-analytics-compat"),Ge(mu,"@firebase/app-check","fire-app-check"),Ge(mu,"@firebase/app-check-compat","fire-app-check-compat"),Ge(mu,"@firebase/auth","fire-auth"),Ge(mu,"@firebase/auth-compat","fire-auth-compat"),Ge(mu,"@firebase/database","fire-rtdb"),Ge(mu,"@firebase/database-compat","fire-rtdb-compat"),Ge(mu,"@firebase/functions","fire-fn"),Ge(mu,"@firebase/functions-compat","fire-fn-compat"),Ge(mu,"@firebase/installations","fire-iid"),Ge(mu,"@firebase/installations-compat","fire-iid-compat"),Ge(mu,"@firebase/messaging","fire-fcm"),Ge(mu,"@firebase/messaging-compat","fire-fcm-compat"),Ge(mu,"@firebase/performance","fire-perf"),Ge(mu,"@firebase/performance-compat","fire-perf-compat"),Ge(mu,"@firebase/remote-config","fire-rc"),Ge(mu,"@firebase/remote-config-compat","fire-rc-compat"),Ge(mu,"@firebase/storage","fire-gcs"),Ge(mu,"@firebase/storage-compat","fire-gcs-compat"),Ge(mu,"@firebase/firestore","fire-fst"),Ge(mu,"@firebase/firestore-compat","fire-fst-compat"),Ge(mu,"fire-js","fire-js"),Ge(mu,"firebase","fire-js-all"),mu),Cu=new Map,Au=new Map;function Nu(e,t){try{e.container.addComponent(t)}catch(n){Iu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Pu(e,t){e.container.addOrOverwriteComponent(t)}function Ru(e){var t=e.name;if(Au.has(t))return Iu.debug("There were multiple attempts to register component ".concat(t,".")),!1;Au.set(t,e);var n,r=C(Cu.values());try{for(r.s();!(n=r.n()).done;){Nu(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Du(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ou(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Eu;Du(e,t).clearInstance(n)}function Lu(){Au.clear()}var Mu=(Ge(yu={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Ge(yu,"bad-app-name","Illegal App name: '{$appName}"),Ge(yu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ge(yu,"app-deleted","Firebase App named '{$appName}' already deleted"),Ge(yu,"no-options","Need to provide options, when not being deployed to hosting via source."),Ge(yu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ge(yu,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ge(yu,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ge(yu,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ge(yu,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ge(yu,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),yu),Fu=new Ao("app","Firebase",Mu),Vu=function(){function e(t,n,r){var i=this;p(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bo("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Fu.create("app-deleted",{appName:this._name})}}]),e}(),Uu="10.2.0";function zu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Eu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Fu.create("bad-app-name",{appName:String(i)});if(n||(n=bo()),!n)throw Fu.create("no-options");var a=Cu.get(i);if(a){if(Do(n,a.options)&&Do(r,a.config))return a;throw Fu.create("duplicate-app",{appName:i})}var o,u=new Qo(i),s=C(Au.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Vu(n,r,u);return Cu.set(i,l),l}function ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eu,t=Cu.get(e);if(!t&&e===Eu&&bo())return zu();if(!t)throw Fu.create("no-app",{appName:e});return t}function Bu(){return Array.from(Cu.values())}function qu(e){return Wu.apply(this,arguments)}function Wu(){return Wu=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Cu.has(n)){e.next=6;break}return Cu.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Wu.apply(this,arguments)}function Gu(e,t,n){var r,i=null!==(r=Tu[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Iu.warn(u.join(" "))}Ru(new Bo("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ku(e,t){if(null!==e&&"function"!==typeof e)throw Fu.create("invalid-log-argument");!function(e,t){var n,r=C($o);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Yo[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ho[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Hu(e){var t;t=e,$o.forEach((function(e){e.setLogLevel(t)}))}var Qu="firebase-heartbeat-database",$u=1,Yu="firebase-heartbeat-store",Ju=null;function Xu(){return Ju||(Ju=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=pu(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(pu(u.result),e.oldVersion,e.newVersion,pu(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(Qu,$u,{upgrade:function(e,t){if(0===t)e.createObjectStore(Yu)}}).catch((function(e){throw Fu.create("idb-open",{originalErrorMessage:e.message})}))),Ju}function Zu(e){return es.apply(this,arguments)}function es(){return es=lo(so().mark((function e(t){var n,r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xu();case 3:return n=e.sent,e.next=6,n.transaction(Yu).objectStore(Yu).get(rs(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Co?Iu.warn(e.t0.message):(i=Fu.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Iu.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),es.apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=lo(so().mark((function e(t,n){var r,i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xu();case 3:return r=e.sent,i=r.transaction(Yu,"readwrite"),a=i.objectStore(Yu),e.next=8,a.put(n,rs(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Co?Iu.warn(e.t0.message):(o=Fu.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Iu.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),ns.apply(this,arguments)}function rs(e){return"".concat(e.name,"!").concat(e.options.appId)}var is=function(){function e(t){var n=this;p(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ss(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=lo(so().mark((function e(){var t,n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=as(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=lo(so().mark((function e(){var t,n,r,i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=as(),n=os(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=vo(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function as(){return(new Date).toISOString().substring(0,10)}function os(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),cs(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),cs(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var us,ss=function(){function e(t){p(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(To()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=lo(so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Zu(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=lo(so().mark((function e(t){var n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ts(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=lo(so().mark((function e(t){var n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ts(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(d(r.heartbeats),d(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function cs(e){return vo(JSON.stringify({version:2,heartbeats:e})).length}us="",Ru(new Bo("platform-logger",(function(e){return new xu(e)}),"PRIVATE")),Ru(new Bo("heartbeat",(function(e){return new is(e)}),"PRIVATE")),Gu(_u,Su,us),Gu(_u,Su,"esm2017"),Gu("fire-js","");function ls(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var fs,hs={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ds="EMAIL_SIGNIN",ps="PASSWORD_RESET",vs="RECOVER_EMAIL",ms="REVERT_SECOND_FACTOR_ADDITION",ys="VERIFY_AND_CHANGE_EMAIL",gs="VERIFY_EMAIL";function ks(e){return void 0!==e&&void 0!==e.getResponse}function bs(e){return void 0!==e&&void 0!==e.enterprise}var ws=g((function e(t){if(p(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function xs(){return Ge({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var _s=function(){var e;return Ge(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ge(e,"argument-error",""),Ge(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ge(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ge(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ge(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ge(e,"cordova-not-ready","Cordova framework is not ready."),Ge(e,"cors-unsupported","This browser is not supported."),Ge(e,"credential-already-in-use","This credential is already associated with a different user account."),Ge(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ge(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ge(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ge(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ge(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ge(e,"email-already-in-use","The email address is already in use by another account."),Ge(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ge(e,"expired-action-code","The action code has expired."),Ge(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ge(e,"internal-error","An internal AuthError has occurred."),Ge(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ge(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ge(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ge(e,"invalid-auth-event","An internal AuthError has occurred."),Ge(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ge(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ge(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ge(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ge(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ge(e,"invalid-email","The email address is badly formatted."),Ge(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ge(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ge(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ge(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ge(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ge(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ge(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ge(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ge(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ge(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ge(e,"wrong-password","The password is invalid or the user does not have a password."),Ge(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ge(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ge(e,"invalid-provider-id","The specified provider ID is invalid."),Ge(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ge(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ge(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ge(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ge(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ge(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ge(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ge(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ge(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ge(e,"missing-continue-uri","A continue URL must be provided in the request."),Ge(e,"missing-iframe-start","An internal AuthError has occurred."),Ge(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ge(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ge(e,"missing-password","A non-empty password must be provided"),Ge(e,"missing-multi-factor-info","No second factor identifier is provided."),Ge(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ge(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ge(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ge(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ge(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ge(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ge(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ge(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ge(e,"no-auth-event","An internal AuthError has occurred."),Ge(e,"no-such-provider","User was not linked to an account with the given provider."),Ge(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ge(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ge(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ge(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ge(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ge(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ge(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ge(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ge(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ge(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ge(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ge(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ge(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ge(e,"timeout","The operation has timed out."),Ge(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ge(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ge(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ge(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ge(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ge(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ge(e,"unverified-email","The operation requires a verified email."),Ge(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ge(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ge(e,"user-disabled","The user account has been disabled by an administrator."),Ge(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ge(e,"user-signed-out",""),Ge(e,"weak-password","The password must be 6 characters long or more."),Ge(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ge(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Ge(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Ge(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Ge(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Ge(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Ge(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Ge(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Ge(e,"invalid-req-type","Invalid request parameters."),Ge(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),Ge(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),Ge(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},Ss=xs,Is=new Ao("auth","Firebase",xs()),Es=new eu("@firebase/auth");function Ts(e){if(Es.logLevel<=Ho.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Es.warn.apply(Es,["Auth (".concat(Uu,"): ").concat(e)].concat(n))}}function Cs(e){if(Es.logLevel<=Ho.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Es.error.apply(Es,["Auth (".concat(Uu,"): ").concat(e)].concat(n))}}function As(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ds.apply(void 0,[e].concat(n))}function Ns(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ds.apply(void 0,[e].concat(n))}function Ps(e,t,n){var r=Object.assign(Object.assign({},Ss()),Ge({},t,n));return new Ao("auth","Firebase",r).create(t,{appName:e.name})}function Rs(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&As(e,"argument-error"),Ps(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ds(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=d(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(d(o)))}return Is.create.apply(Is,[e].concat(n))}function Os(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ds.apply(void 0,[t].concat(r))}}function Ls(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Cs(t),new Error(t)}function Ms(e,t){e||Ls(t)}function Fs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Vs(){return"http:"===Us()||"https:"===Us()}function Us(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var zs=function(){function e(t,n){p(this,e),this.shortDelay=t,this.longDelay=n,Ms(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xo())||Io()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Vs()||So()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function js(e,t){Ms(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Bs=function(){function e(){p(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),qs=(Ge(fs={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ge(fs,"MISSING_CUSTOM_TOKEN","internal-error"),Ge(fs,"INVALID_IDENTIFIER","invalid-email"),Ge(fs,"MISSING_CONTINUE_URI","internal-error"),Ge(fs,"INVALID_PASSWORD","wrong-password"),Ge(fs,"MISSING_PASSWORD","missing-password"),Ge(fs,"EMAIL_EXISTS","email-already-in-use"),Ge(fs,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ge(fs,"INVALID_IDP_RESPONSE","invalid-credential"),Ge(fs,"INVALID_PENDING_TOKEN","invalid-credential"),Ge(fs,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ge(fs,"MISSING_REQ_TYPE","internal-error"),Ge(fs,"EMAIL_NOT_FOUND","user-not-found"),Ge(fs,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ge(fs,"EXPIRED_OOB_CODE","expired-action-code"),Ge(fs,"INVALID_OOB_CODE","invalid-action-code"),Ge(fs,"MISSING_OOB_CODE","internal-error"),Ge(fs,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ge(fs,"INVALID_ID_TOKEN","invalid-user-token"),Ge(fs,"TOKEN_EXPIRED","user-token-expired"),Ge(fs,"USER_NOT_FOUND","user-token-expired"),Ge(fs,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ge(fs,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),Ge(fs,"INVALID_CODE","invalid-verification-code"),Ge(fs,"INVALID_SESSION_INFO","invalid-verification-id"),Ge(fs,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ge(fs,"MISSING_SESSION_INFO","missing-verification-id"),Ge(fs,"SESSION_EXPIRED","code-expired"),Ge(fs,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ge(fs,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ge(fs,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ge(fs,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ge(fs,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ge(fs,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ge(fs,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ge(fs,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ge(fs,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ge(fs,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ge(fs,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ge(fs,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Ge(fs,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Ge(fs,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Ge(fs,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Ge(fs,"MISSING_CLIENT_TYPE","missing-client-type"),Ge(fs,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Ge(fs,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Ge(fs,"INVALID_REQ_TYPE","invalid-req-type"),fs),Ws=new zs(3e4,6e4);function Gs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ks(e,t,n,r){return Hs.apply(this,arguments)}function Hs(){return Hs=lo(so().mark((function e(t,n,r,i){var a,o=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Qs(t,a,lo(so().mark((function e(){var a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Lo(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Bs.fetch()(Xs(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Qs(e,t,n){return $s.apply(this,arguments)}function $s(){return $s=lo(so().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d,p;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},qs),n),e.prev=2,a=new Zs(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ec(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=f(c,2),h=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ec(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw ec(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw ec(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Ps(t,p,d);case 34:As(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Co)){e.next=41;break}throw e.t0;case 41:As(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),$s.apply(this,arguments)}function Ys(e,t,n,r){return Js.apply(this,arguments)}function Js(){return Js=lo(so().mark((function e(t,n,r,i){var a,o,u=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ks(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&As(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Xs(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?js(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Zs=function(){function e(t){var n=this;p(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ns(n.auth,"network-request-failed"))}),Ws.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ec(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ns(e,t,r);return i.customData._tokenResponse=n,i}function tc(e){return nc.apply(this,arguments)}function nc(){return nc=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ks(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}function rc(e,t){return ic.apply(this,arguments)}function ic(){return ic=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks(t,"GET","/v2/recaptchaConfig",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return oc=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}function uc(e,t){return sc.apply(this,arguments)}function sc(){return sc=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return lc=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function hc(){return hc=lo(so().mark((function e(t){var n,r,i,a,o,u,s=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=jo(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Os((a=pc(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:fc(dc(a.auth_time)),issuedAtTime:fc(dc(a.iat)),expirationTime:fc(dc(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function dc(e){return 1e3*Number(e)}function pc(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Cs("JWT malformed, contained fewer than 3 sections"),null;try{var a=mo(r);return a?JSON.parse(a):(Cs("Failed to decode base64 JWT payload"),null)}catch(o){return Cs("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function vc(e,t){return mc.apply(this,arguments)}function mc(){return mc=lo(so().mark((function e(t,n){var r=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Co&&yc(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),mc.apply(this,arguments)}function yc(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var gc=function(){function e(t){p(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(lo(so().mark((function t(){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),kc=function(){function e(t,n){p(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function bc(e){return wc.apply(this,arguments)}function wc(){return wc=lo(so().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,vc(t,cc(r,{idToken:i}));case 6:Os(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=ls(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=_c(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new kc(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function xc(){return(xc=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jo(t),e.next=3,bc(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(d(n),d(t))}function Sc(e,t){return Ic.apply(this,arguments)}function Ic(){return Ic=lo(so().mark((function e(t,n){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qs(t,{},lo(so().mark((function e(){var r,i,a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lo({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Xs(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Bs.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}var Ec=function(){function e(){p(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Os(e.idToken,"internal-error"),Os("undefined"!==typeof e.idToken,"internal-error"),Os("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=pc(e);return Os(t,"internal-error"),Os("undefined"!==typeof t.exp,"internal-error"),Os("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=lo(so().mark((function e(t){var n,r=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Os(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=lo(so().mark((function e(t,n){var r,i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sc(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ls("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Os("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Os("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Os("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Tc(e,t){Os("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Cc=function(){function e(t){p(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ls(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?d(a.providerData):[],this.metadata=new kc(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vc(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Os(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return hc.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return xc.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Os(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Os(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=lo(so().mark((function e(t){var n,r,i=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,bc(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=lo(so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,vc(this,ac(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Os(k&&_,t,"internal-error");var S=Ec.fromJSON(this.name,_);Os("string"===typeof k,t,"internal-error"),Tc(f,t.name),Tc(h,t.name),Os("boolean"===typeof b,t,"internal-error"),Os("boolean"===typeof w,t,"internal-error"),Tc(d,t.name),Tc(p,t.name),Tc(v,t.name),Tc(m,t.name),Tc(y,t.name),Tc(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=lo(so().mark((function t(n,r){var i,a,o,u=arguments;return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ec).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,bc(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ac=new Map;function Nc(e){Ms(e instanceof Function,"Expected a class definition");var t=Ac.get(e);return t?(Ms(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ac.set(e,t),t)}var Pc=function(){function e(){p(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Pc.type="NONE";var Rc=Pc;function Dc(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Oc=function(){function e(t,n,r){p(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Dc(this.userKey,a.apiKey,o),this.fullPersistenceKey=Dc("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=lo(so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Cc._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=lo(so().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Nc(Rc),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Nc(Rc),u=Dc(i,n.config.apiKey,n.name),s=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Cc._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Lc(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Uc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jc(t))return"Blackberry";if(Bc(t))return"Webos";if(Fc(t))return"Safari";if((t.includes("chrome/")||Vc(t))&&!t.includes("edge/"))return"Chrome";if(zc(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Mc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo();return/firefox\//i.test(e)}function Fc(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo();return/crios\//i.test(e)}function Uc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo();return/iemobile/i.test(e)}function zc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo();return/android/i.test(e)}function jc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo();return/blackberry/i.test(e)}function Bc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo();return/webos/i.test(e)}function qc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Wc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo();return qc(e)||zc(e)||Bc(e)||jc(e)||/windows phone/i.test(e)||Uc(e)}function Gc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Lc(xo());break;case"Worker":t="".concat(Lc(xo()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Uu,"/").concat(r)}var Kc=function(){function e(t){p(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=lo(so().mark((function e(t){var n,r,i,a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Hc(e){return Qc.apply(this,arguments)}function Qc(){return Qc=lo(so().mark((function e(t){var n,r=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ks(t,"GET","/v2/passwordPolicy",Gs(t,n)));case 2:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}var $c=function(){function e(t){var n,r,i,a;p(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return g(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),Yc=function(){function e(t,n,r,i){p(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xc(this),this.idTokenSubscription=new Xc(this),this.beforeStateQueue=new Kc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Is,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Nc(t)),this._initializationPromise=this.queue(lo(so().mark((function r(){var i,a;return so().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Oc.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=lo(so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=lo(so().mark((function e(t){var n,r,i,a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Os(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bc(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?jo(t):null)&&Os(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=lo(so().mark((function e(t){var n,r=this,i=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Os(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(lo(so().mark((function n(){return so().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Nc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=lo(so().mark((function e(){var t,n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hc(this);case 2:t=e.sent,n=new $c(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ao("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=lo(so().mark((function e(t,n){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Os(n=t&&Nc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Oc.create(this,[Nc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=lo(so().mark((function e(t){var n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=lo(so().mark((function e(t){var n=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Os(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Os(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=lo(so().mark((function e(){var t,n,r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ge({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=lo(so().mark((function e(){var t,n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Ts("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jc(e){return jo(e)}var Xc=function(){function e(t){var n=this;p(this,e),this.auth=t,this.observer=null,this.addObserver=Vo((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return Os(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Zc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ns("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function el(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var tl=function(){function e(t){p(this,e),this.type="recaptcha-enterprise",this.auth=Jc(t)}return g(e,[{key:"verify",value:function(){var e=lo(so().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;bs(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=lo(so().mark((function e(n,r){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rc(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new ws(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&bs(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Zc("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nl(e,t,n){return rl.apply(this,arguments)}function rl(){return rl=lo(so().mark((function e(t,n,r){var i,a,o,u,s=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new tl(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),rl.apply(this,arguments)}function il(e,t,n){var r=Jc(e);Os(r._canInitEmulator,r,"emulator-config-failed"),Os(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=al(t),o=function(e){var t=al(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ol(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:ol(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function al(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ol(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ul=function(){function e(t,n){p(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return Ls("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ls("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ls("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ls("not implemented")}}]),e}();function sl(e,t){return cl.apply(this,arguments)}function cl(){return cl=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks(t,"POST","/v1/accounts:resetPassword",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}function ll(e,t){return fl.apply(this,arguments)}function fl(){return fl=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}function hl(e,t){return dl.apply(this,arguments)}function dl(){return dl=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks(t,"POST","/v1/accounts:update",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),dl.apply(this,arguments)}function pl(e,t){return vl.apply(this,arguments)}function vl(){return vl=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ys(t,"POST","/v1/accounts:signInWithPassword",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}function ml(e,t){return yl.apply(this,arguments)}function yl(){return yl=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks(t,"POST","/v1/accounts:sendOobCode",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}function gl(e,t){return kl.apply(this,arguments)}function kl(){return kl=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ml(t,n));case 1:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}function bl(e,t){return wl.apply(this,arguments)}function wl(){return wl=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ml(t,n));case 1:case"end":return e.stop()}}),e)}))),wl.apply(this,arguments)}function xl(e,t){return _l.apply(this,arguments)}function _l(){return _l=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ml(t,n));case 1:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}function Sl(e,t){return Il.apply(this,arguments)}function Il(){return Il=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ml(t,n));case 1:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}function El(e,t){return Tl.apply(this,arguments)}function Tl(){return Tl=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ys(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Cl(e,t){return Al.apply(this,arguments)}function Al(){return Al=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ys(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}var Nl=function(e){b(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=lo(so().mark((function e(t){var n,r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,nl(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",pl(t,i));case 11:return e.abrupt("return",pl(t,r).catch(function(){var e=lo(so().mark((function e(n){var i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,nl(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",pl(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",El(t,{email:this._email,oobCode:this._password}));case 13:As(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ll(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Cl(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:As(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ul);function Pl(e,t){return Rl.apply(this,arguments)}function Rl(){return Rl=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ys(t,"POST","/v1/accounts:signInWithIdp",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}var Dl=function(e){b(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Pl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pl(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lo(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):As("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ls(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ul);function Ol(e,t){return Ll.apply(this,arguments)}function Ll(){return Ll=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks(t,"POST","/v1/accounts:sendVerificationCode",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Ml(){return Ml=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ys(t,"POST","/v1/accounts:signInWithPhoneNumber",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}function Fl(){return Fl=lo(so().mark((function e(t,n){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ys(t,"POST","/v1/accounts:signInWithPhoneNumber",Gs(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ec(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Fl.apply(this,arguments)}var Vl=Ge({},"USER_NOT_FOUND","user-not-found");function Ul(){return Ul=lo(so().mark((function e(t,n){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ys(t,"POST","/v1/accounts:signInWithPhoneNumber",Gs(t,r),Vl));case 2:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}var zl=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ml.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Fl.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ul.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ul);var jl=function(){function e(t){var n,r,i,a,o,u;p(this,e);var s=Mo(Fo(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Os(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Mo(Fo(e)).link,n=t?Mo(Fo(t)).deep_link_id:null,r=Mo(Fo(e)).deep_link_id;return(r?Mo(Fo(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Bl=function(){function e(){p(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return Nl._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=jl.parseLink(t);return Os(n,"argument-error"),Nl._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Bl.PROVIDER_ID="password",Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ql=function(){function e(t){p(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Wl=function(e){b(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return d(this.scopes)}}]),n}(ql),Gl=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Os(e.idToken||e.accessToken,"argument-error"),Dl._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Os("providerId"in t&&"signInMethod"in t,"argument-error"),Dl._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Wl),Kl=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return Dl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Wl);Kl.FACEBOOK_SIGN_IN_METHOD="facebook.com",Kl.PROVIDER_ID="facebook.com";var Hl=function(e){b(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return Dl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Wl);Hl.GOOGLE_SIGN_IN_METHOD="google.com",Hl.PROVIDER_ID="google.com";var Ql=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return Dl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Wl);Ql.GITHUB_SIGN_IN_METHOD="github.com",Ql.PROVIDER_ID="github.com";var $l=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Pl(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pl(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pl(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ul),Yl=function(e){b(n,e);var t=S(n);function n(e){return p(this,n),Os(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=$l.fromJSON(e);return Os(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return $l._create(r,n)}catch(i){return null}}}]),n}(ql),Jl=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return Dl._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Wl);function Xl(e,t){return Zl.apply(this,arguments)}function Zl(){return Zl=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ys(t,"POST","/v1/accounts:signUp",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}Jl.TWITTER_SIGN_IN_METHOD="twitter.com",Jl.PROVIDER_ID="twitter.com";var ef=function(){function e(t){p(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=lo(so().mark((function t(n,r,i){var a,o,u,s,c=arguments;return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Cc._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=tf(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=lo(so().mark((function t(n,r,i){var a;return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=tf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function tf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function nf(){return nf=lo(so().mark((function e(t){var n,r,i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ef({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Xl(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ef._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),nf.apply(this,arguments)}var rf=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o,u;return p(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Co);function af(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw rf._fromErrorAndOperation(e,n,t,r);throw n}))}function of(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function uf(e,t){return sf.apply(this,arguments)}function sf(){return sf=lo(so().mark((function e(t,n){var r,i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jo(t),e.next=3,ff(!0,r,n);case 3:return e.t0=uc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=of(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),sf.apply(this,arguments)}function cf(e,t){return lf.apply(this,arguments)}function lf(){return lf=lo(so().mark((function e(t,n){var r,i,a=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=vc,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ef._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}function ff(e,t,n){return hf.apply(this,arguments)}function hf(){return(hf=lo(so().mark((function e(t,n,r){var i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bc(n);case 2:i=of(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Os(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(e,t){return pf.apply(this,arguments)}function pf(){return pf=lo(so().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,vc(t,af(i,a,n,t),r);case 6:return Os((o=e.sent).idToken,i,"internal-error"),Os(u=pc(o.idToken),i,"internal-error"),s=u.sub,Os(t.uid===s,i,"user-mismatch"),e.abrupt("return",ef._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&As(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),pf.apply(this,arguments)}function vf(e,t){return mf.apply(this,arguments)}function mf(){return mf=lo(so().mark((function e(t,n){var r,i,a,o,u=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,af(t,i,n);case 4:return a=e.sent,e.next=7,ef._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),mf.apply(this,arguments)}function yf(e,t){return gf.apply(this,arguments)}function gf(){return gf=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vf(Jc(t),n));case 1:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function kf(e,t){return bf.apply(this,arguments)}function bf(){return(bf=lo(so().mark((function e(t,n){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jo(t),e.next=3,ff(!1,r,n.providerId);case 3:return e.abrupt("return",cf(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wf(e,t){return xf.apply(this,arguments)}function xf(){return(xf=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",df(jo(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _f(e,t){return Sf.apply(this,arguments)}function Sf(){return Sf=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ys(t,"POST","/v1/accounts:signInWithCustomToken",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}function If(){return If=lo(so().mark((function e(t,n){var r,i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(t),e.next=3,_f(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ef._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}var Ef=function(){function e(t,n){p(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Tf._fromServerResponse(e,t):"totpInfo"in t?Cf._fromServerResponse(e,t):As(e,"internal-error")}}]),e}(),Tf=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ef),Cf=function(e){b(n,e);var t=S(n);function n(e){return p(this,n),t.call(this,"totp",e)}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ef);function Af(e,t,n){var r;Os((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Os("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Os(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Os(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Nf(e){return Pf.apply(this,arguments)}function Pf(){return Pf=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Jc(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),Pf.apply(this,arguments)}function Rf(){return Rf=lo(so().mark((function e(t,n,r){var i,a,o,u;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Jc(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,nl(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&Af(a,u,r),e.next=9,bl(a,u);case 9:e.next=14;break;case 11:return r&&Af(a,o,r),e.next=14,bl(a,o).catch(function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,nl(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Af(a,n,r),e.next=8,bl(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Rf.apply(this,arguments)}function Df(){return Df=lo(so().mark((function e(t,n,r){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sl(jo(t),{oobCode:n,newPassword:r}).catch(function(){var e=lo(so().mark((function e(n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&Nf(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),Df.apply(this,arguments)}function Of(){return Of=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hl(jo(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}function Lf(e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=lo(so().mark((function e(t,n){var r,i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jo(t),e.next=3,sl(r,{oobCode:n});case 3:i=e.sent,Os(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Os(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Os(i.mfaInfo,r,"internal-error");case 13:Os(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ef._fromServerResponse(Jc(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function Ff(){return Ff=lo(so().mark((function e(t,n){var r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lf(jo(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Ff.apply(this,arguments)}function Vf(e,t,n){return Uf.apply(this,arguments)}function Uf(){return Uf=lo(so().mark((function e(t,n,r){var i,a,o,u,s,c,l;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Jc(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,nl(a,o,"signUpPassword");case 5:s=e.sent,u=Xl(a,s),e.next=10;break;case 9:u=Xl(a,o).catch(function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,nl(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Xl(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&Nf(t),e}));case 12:return c=e.sent,e.next=15,ef._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Uf.apply(this,arguments)}function zf(){return zf=lo(so().mark((function e(t,n,r){var i,a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Os(t.handleCodeInApp,a,"argument-error"),t&&Af(a,e,t)},a=Jc(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,nl(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,xl(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,xl(a,o).catch(function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,nl(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,xl(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}function jf(){return jf=lo(so().mark((function e(t,n,r){var i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jo(t),Os((a=Bl.credentialWithLink(n,r||Fs()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",yf(i,a));case 4:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function Bf(e,t){return qf.apply(this,arguments)}function qf(){return qf=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks(t,"POST","/v1/accounts:createAuthUri",Gs(t,n)));case 1:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Wf(){return Wf=lo(so().mark((function e(t,n){var r,i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vs()?Fs():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Bf(jo(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}function Gf(){return(Gf=lo(so().mark((function e(t,n){var r,i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jo(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Af(r.auth,a,n),e.next=8,gl(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kf(){return(Kf=lo(so().mark((function e(t,n,r){var i,a,o,u;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jo(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Af(i.auth,o,r),e.next=8,Sl(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hf(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ks(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function $f(){return($f=lo(so().mark((function e(t,n){var r,i,a,o,u,s,c;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=jo(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,vc(a,Hf(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(e,t,n){return Jf.apply(this,arguments)}function Jf(){return Jf=lo(so().mark((function e(t,n,r){var i,a,o,u;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,vc(t,ll(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}var Xf=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Zf=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}(Xf),eh=function(e){b(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(Xf),th=function(e){b(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(Zf),nh=function(e){b(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"google.com",r)}return g(n)}(Xf),rh=function(e){b(n,e);var t=S(n);function n(e,r,i){return p(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(Zf);function ih(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=pc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Xf(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new eh(a,i);case"github.com":return new th(a,i);case"google.com":return new nh(a,i);case"twitter.com":return new rh(a,i,e.screenName||null);case"custom":case"anonymous":return new Xf(a,null);default:return new Xf(a,r,i)}}(n)}var ah=function(){function e(t,n,r){p(this,e),this.type=t,this.credential=n,this.user=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ge({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),oh=function(){function e(t,n,r){p(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Jc(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ef._fromServerResponse(r,e)}));Os(i.mfaPendingCredential,r,"internal-error");var o=ah._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=lo(so().mark((function e(t){var a,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ef._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Os(n.user,r,"internal-error"),e.abrupt("return",ef._forOperation(n.user,n.operationType,u));case 17:As(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function uh(e,t){return Ks(e,"POST","/v2/accounts/mfaEnrollment:start",Gs(e,t))}function sh(e,t){return Ks(e,"POST","/v2/accounts/mfaEnrollment:start",Gs(e,t))}function ch(e,t){return Ks(e,"POST","/v2/accounts/mfaEnrollment:finalize",Gs(e,t))}function lh(e,t){return Ks(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Gs(e,t))}var fh=function(){function e(t){var n=this;p(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ef._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ah,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=lo(so().mark((function e(t,n){var r,i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,vc(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=lo(so().mark((function e(t){var n,r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,vc(this.user,lh(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),hh=new WeakMap;var dh="__sak",ph=function(){function e(t,n){p(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var vh=function(e){b(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=xo();return Fc(e)||qc(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Wc(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Eo()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=lo(so().mark((function e(t,r){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(w(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=lo(so().mark((function e(t){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(w(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(w(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ph);vh.type="LOCAL";var mh=vh,yh=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ph);yh.type="SESSION";var gh=yh;function kh(e){return Promise.all(e.map(function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var bh=function(){function e(t){p(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=lo(so().mark((function e(t){var n,r,i,a,o,u,s,c;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,kh(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function wh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}bh.receivers=[];var xh=function(){function e(t){p(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=lo(so().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=wh("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function _h(){return window}function Sh(e){_h().location.href=e}function Ih(){return"undefined"!==typeof _h().WorkerGlobalScope&&"function"===typeof _h().importScripts}function Eh(){return Th.apply(this,arguments)}function Th(){return(Th=lo(so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ch(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ah="firebaseLocalStorageDb",Nh="firebaseLocalStorage",Ph="fbase_key",Rh=function(){function e(t){p(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Dh(e,t){return e.transaction([Nh],t?"readwrite":"readonly").objectStore(Nh)}function Oh(){var e=indexedDB.deleteDatabase(Ah);return new Rh(e).toPromise()}function Lh(){var e=indexedDB.open(Ah,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Nh,{keyPath:Ph})}catch(r){n(r)}})),e.addEventListener("success",lo(so().mark((function n(){var r;return so().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Nh)){n.next=12;break}return r.close(),n.next=5,Oh();case 5:return n.t0=t,n.next=8,Lh();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Mh(e,t,n){return Fh.apply(this,arguments)}function Fh(){return Fh=lo(so().mark((function e(t,n,r){var i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Dh(t,!0).put((Ge(i={},Ph,n),Ge(i,"value",r),i)),e.abrupt("return",new Rh(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}function Vh(e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=lo(so().mark((function e(t,n){var r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dh(t,!1).get(n),e.next=3,new Rh(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Uh.apply(this,arguments)}function zh(e,t){var n=Dh(e,!0).delete(t);return new Rh(n).toPromise()}var jh=function(){function e(){p(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Lh();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=lo(so().mark((function e(t){var n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ih()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=lo(so().mark((function e(){var t=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=bh._getInstance(Ih()?self:null),this.receiver._subscribe("keyChanged",function(){var e=lo(so().mark((function e(n,r){var i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=lo(so().mark((function e(){var t,n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eh();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new xh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ch()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=lo(so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Lh();case 5:return t=e.sent,e.next=8,Mh(t,dh,"1");case 8:return e.next=10,zh(t,dh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=lo(so().mark((function e(t,n){var r=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Mh(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Vh(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=lo(so().mark((function e(t){var n=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return zh(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=lo(so().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Dh(e,!1).getAll();return new Rh(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(lo(so().mark((function t(){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();jh.type="LOCAL";var Bh=jh;function qh(e,t){return Ks(e,"POST","/v2/accounts/mfaSignIn:start",Gs(e,t))}function Wh(e,t){return Ks(e,"POST","/v2/accounts/mfaSignIn:finalize",Gs(e,t))}var Gh=1e12,Kh=function(){function e(t){p(this,e),this.auth=t,this.counter=Gh,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Hh(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Gh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Gh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=lo(so().mark((function e(t){var n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Gh,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Hh=function(){function e(t,n,r){var i=this;p(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Os(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Qh=el("rcb"),$h=new zs(3e4,6e4),Yh=function(){function e(){var t;p(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=_h().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Os(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&ks(_h().grecaptcha)?Promise.resolve(_h().grecaptcha):new Promise((function(r,i){var a=_h().setTimeout((function(){i(Ns(e,"network-request-failed"))}),$h.get());_h()[Qh]=function(){_h().clearTimeout(a),delete _h()[Qh];var o=_h().grecaptcha;if(o&&ks(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ns(e,"internal-error"))},Zc("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Lo({onload:Qh,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ns(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=_h().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Jh=function(){function e(){p(this,e)}return g(e,[{key:"load",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Kh(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Xh="recaptcha",Zh={theme:"light",type:"image"},ed=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Zh);p(this,e),this.parameters=r,this.type=Xh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jc(t),this.isInvisible="invisible"===this.parameters.size,Os("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;Os(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jh:new Yh,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=lo(so().mark((function e(){var t,n,r,i=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Os(!this.parameters.sitekey,this.auth,"argument-error"),Os(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Os("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=_h()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Os(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=lo(so().mark((function e(){var t,n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=lo(so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Os(Vs()&&!Ih(),this.auth,"internal-error"),e.next=3,td();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,tc(this.auth);case 8:Os(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Os(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function td(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var nd=function(){function e(t,n){p(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=zl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function rd(){return rd=lo(so().mark((function e(t,n,r){var i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),e.next=3,ud(i,n,jo(r));case 3:return a=e.sent,e.abrupt("return",new nd(a,(function(e){return yf(i,e)})));case 5:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e,t,n){return ad.apply(this,arguments)}function ad(){return(ad=lo(so().mark((function e(t,n,r){var i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jo(t),e.next=3,ff(!1,i,"phone");case 3:return e.next=5,ud(i.auth,n,jo(r));case 5:return a=e.sent,e.abrupt("return",new nd(a,(function(e){return kf(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function od(){return(od=lo(so().mark((function e(t,n,r){var i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jo(t),e.next=3,ud(i.auth,n,jo(r));case 3:return a=e.sent,e.abrupt("return",new nd(a,(function(e){return wf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ud(e,t,n){return sd.apply(this,arguments)}function sd(){return sd=lo(so().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Os("string"===typeof a,t,"argument-error"),Os(r.type===Xh,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Os("enroll"===u.type,t,"internal-error"),e.next=13,uh(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Os("signin"===u.type,t,"internal-error"),Os(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,qh(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ol(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),sd.apply(this,arguments)}function cd(){return(cd=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cf(jo(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ld=function(){function e(t){p(this,e),this.providerId=e.PROVIDER_ID,this.auth=Jc(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return ud(this.auth,e,jo(t))}}],[{key:"credential",value:function(e,t){return zl._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?zl._fromTokenResponse(n,r):null}}]),e}();function fd(e,t){return t?Nc(t):(Os(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ld.PROVIDER_ID="phone",ld.PHONE_SIGN_IN_METHOD="phone";var hd=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Pl(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Pl(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Pl(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ul);function dd(e){return vf(e.auth,new hd(e),e.bypassAuthState)}function pd(e){var t=e.auth,n=e.user;return Os(n,t,"internal-error"),df(n,new hd(e),e.bypassAuthState)}function vd(e){return md.apply(this,arguments)}function md(){return md=lo(so().mark((function e(t){var n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Os(r=t.user,n,"internal-error"),e.abrupt("return",cf(r,new hd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}var yd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];p(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=lo(so().mark((function t(n,r){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=lo(so().mark((function e(t){var n,r,i,a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dd;case"linkViaPopup":case"linkViaRedirect":return vd;case"reauthViaPopup":case"reauthViaRedirect":return pd;default:As(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),gd=new zs(2e3,1e4);function kd(e,t,n){return bd.apply(this,arguments)}function bd(){return bd=lo(so().mark((function e(t,n,r){var i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),Rs(t,n,ql),a=fd(i,r),o=new Sd(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}function wd(){return(wd=lo(so().mark((function e(t,n,r){var i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rs((i=jo(t)).auth,n,ql),a=fd(i.auth,r),o=new Sd(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xd(e,t,n){return _d.apply(this,arguments)}function _d(){return(_d=lo(so().mark((function e(t,n,r){var i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rs((i=jo(t)).auth,n,ql),a=fd(i.auth,r),o=new Sd(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sd=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o){var u;return p(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_(u),u}return g(n,[{key:"executeNotNull",value:function(){var e=lo(so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Os(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=lo(so().mark((function e(){var t,n=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ms(1===this.filter.length,"Popup operations only handle one event"),t=wh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ns(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ns(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ns(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,gd.get())}()}}]),n}(yd);Sd.currentPopupAction=null;var Id="pendingRedirect",Ed=new Map,Td=function(e){b(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=lo(so().mark((function e(){var t,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ed.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Cd(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,uo(w(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ed.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ed.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=lo(so().mark((function e(t){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",uo(w(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",uo(w(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(yd);function Cd(e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=lo(so().mark((function e(t,n){var r,i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Od(n),i=Dd(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Nd(e,t){return Pd.apply(this,arguments)}function Pd(){return Pd=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dd(t)._set(Od(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Pd.apply(this,arguments)}function Rd(e,t){Ed.set(e._key(),t)}function Dd(e){return Nc(e._redirectPersistence)}function Od(e){return Dc(Id,e.config.apiKey,e.name)}function Ld(e,t,n){return function(e,t,n){return Md.apply(this,arguments)}(e,t,n)}function Md(){return Md=lo(so().mark((function e(t,n,r){var i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jc(t),Rs(t,n,ql),e.next=4,i._initializationPromise;case 4:return a=fd(i,r),e.next=7,Nd(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}function Fd(e,t,n){return function(e,t,n){return Vd.apply(this,arguments)}(e,t,n)}function Vd(){return(Vd=lo(so().mark((function e(t,n,r){var i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rs((i=jo(t)).auth,n,ql),e.next=4,i.auth._initializationPromise;case 4:return a=fd(i.auth,r),e.next=7,Nd(a,i.auth);case 7:return e.next=9,Gd(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ud(e,t,n){return function(e,t,n){return zd.apply(this,arguments)}(e,t,n)}function zd(){return(zd=lo(so().mark((function e(t,n,r){var i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rs((i=jo(t)).auth,n,ql),e.next=4,i.auth._initializationPromise;case 4:return a=fd(i.auth,r),e.next=7,ff(!1,i,n.providerId);case 7:return e.next=9,Nd(a,i.auth);case 9:return e.next=11,Gd(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jd(e,t){return Bd.apply(this,arguments)}function Bd(){return Bd=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc(t)._initializationPromise;case 2:return e.abrupt("return",qd(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Bd.apply(this,arguments)}function qd(e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=lo(so().mark((function e(t,n){var r,i,a,o,u,s=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Jc(t),a=fd(i,n),o=new Td(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}function Gd(e){return Kd.apply(this,arguments)}function Kd(){return(Kd=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wh("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hd=function(){function e(t){p(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $d(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!$d(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ns(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qd(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Qd(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Qd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function $d(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Yd(e){return Jd.apply(this,arguments)}function Jd(){return Jd=lo(so().mark((function e(t){var n,r=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ks(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Jd.apply(this,arguments)}var Xd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zd=/^https?/;function ep(){return ep=lo(so().mark((function e(t){var n,r,i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Yd(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!tp(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:As(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ep.apply(this,arguments)}function tp(e){var t=Fs(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Zd.test(r))return!1;if(Xd.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var np=new zs(3e4,6e4);function rp(){var e=_h().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=d(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ip=null;function ap(e){return ip=ip||function(e){return new Promise((function(t,n){var r,i,a;function o(){rp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){rp(),n(Ns(e,"network-request-failed"))},timeout:np.get()})}if(null===(i=null===(r=_h().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=_h().gapi)||void 0===a?void 0:a.load)){var u=el("iframefcb");return _h()[u]=function(){gapi.load?o():n(Ns(e,"network-request-failed"))},Zc("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ip=null,e}))}(e),ip}var op=new zs(5e3,15e3),up="__/auth/iframe",sp="emulator/auth/iframe",cp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fp(e){var t=e.config;Os(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?js(t,sp):"https://".concat(e.config.authDomain,"/").concat(up),r={apiKey:t.apiKey,appName:e.name,v:Uu},i=lp.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Lo(r).slice(1))}function hp(e){return dp.apply(this,arguments)}function dp(){return dp=lo(so().mark((function e(t){var n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ap(t);case 2:return n=e.sent,Os(r=_h().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:fp(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cp,dontclear:!0},(function(e){return new Promise(function(){var n=lo(so().mark((function n(r,i){var a,o,u;return so().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){_h().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ns(t,"network-request-failed"),o=_h().setTimeout((function(){i(a)}),op.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}var pp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vp=function(){function e(t){p(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function mp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},pp),{width:r.toString(),height:i.toString(),top:a,left:o}),c=xo().toLowerCase();n&&(u=Vc(c)?"_blank":n),Mc(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return qc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new vp(null);var h=window.open(t||"",u,l);Os(h,e,"popup-blocked");try{h.focus()}catch(d){}return new vp(h)}var yp="__/auth/handler",gp="emulator/auth/handler",kp=encodeURIComponent("fac");function bp(e,t,n,r,i,a){return wp.apply(this,arguments)}function wp(){return wp=lo(so().mark((function e(t,n,r,i,a,o){var u,s,c,l,h,d,p,v,m,y,g,k,b;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Os(t.config.authDomain,t,"auth-domain-config-required"),Os(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Uu,eventId:a},n instanceof ql)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",Ro(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)l=f(c[s],2),h=l[0],d=l[1],u[h]=d;for(n instanceof Wl&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(kp,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(xp(t),"?").concat(Lo(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),wp.apply(this,arguments)}function xp(e){var t=e.config;return t.emulator?js(t,gp):"https://".concat(t.authDomain,"/").concat(yp)}var _p="webStorageSupport",Sp=function(){function e(){p(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gh,this._completeRedirectFn=qd,this._overrideRedirectResult=Rd}return g(e,[{key:"_openPopup",value:function(){var e=lo(so().mark((function e(t,n,r,i){var a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ms(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,bp(t,n,r,Fs(),i);case 3:return o=e.sent,e.abrupt("return",mp(t,o,wh()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=lo(so().mark((function e(t,n,r,i){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,bp(t,n,r,Fs(),i);case 4:return Sh(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ms(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=lo(so().mark((function e(t){var n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hp(t);case 2:return n=e.sent,r=new Hd(t),n.register("authEvent",(function(e){return Os(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(_p,{type:_p},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[_p];void 0!==i&&t(!!i),As(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ep.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Wc()||Fc()||qc()}}]),e}(),Ip=Sp,Ep=function(){function e(t){p(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ls("unexpected MultiFactorSessionType")}}}]),e}(),Tp=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ks(e,"POST","/v2/accounts/mfaEnrollment:finalize",Gs(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ks(e,"POST","/v2/accounts/mfaSignIn:finalize",Gs(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ep),Cp=function(){function e(){p(this,e)}return g(e,null,[{key:"assertion",value:function(e){return Tp._fromCredential(e)}}]),e}();Cp.FACTOR_ID="phone";var Ap=function(){function e(){p(this,e)}return g(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Np._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Np._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=lo(so().mark((function e(t){var n,r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Os("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,sh(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Pp._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Ap.FACTOR_ID="totp";var Np=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return g(n,[{key:"_finalizeEnroll",value:function(){var e=lo(so().mark((function e(t,n,r){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Os("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",ch(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=lo(so().mark((function e(t,n){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Os(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Wh(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Ep),Pp=function(){function e(t,n,r,i,a,o,u){p(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return g(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Rp(e)||Rp(t))&&(r=!0),r&&(Rp(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Rp(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Rp(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Dp="@firebase/auth",Op="1.2.0",Lp=function(){function e(t){p(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Os(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Mp;!function(e){var t;null===(t=ko())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Fp(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function Vp(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Mp="Browser",Ru(new Bo("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Os(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Mp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gc(Mp)},l=new Yc(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ru(new Bo("auth-internal",(function(e){return function(e){return new Lp(e)}(Jc(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Gu(Dp,Op,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Mp)),Gu(Dp,Op,"esm2017");var Up=function(){return Up=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Up.apply(this,arguments)},zp=function(e){return{loading:void 0===e||null===e,value:e}},jp=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return Up(Up({},e),{error:t.error,loading:!1,value:void 0});case"reset":return zp(t.defaultValue);case"value":return Up(Up({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),zp(t)),r=n[0],a=n[1],o=(0,i.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,i.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,i.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},Bp=function(e,t){var n=jp((function(){return e.currentUser})),r=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;return(0,i.useEffect)((function(){var n=function(e,t,n,r){return jo(e).onAuthStateChanged(t,n,r)}(e,(function(e){return Fp(void 0,void 0,void 0,(function(){var n;return Vp(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]),[s,a,r]},qp="Navbar_container__f+vYv",Wp="Navbar_navbar__CjUSF",Gp="Navbar_title__R7Dt5",Kp="Navbar_user__PZQyh",Hp="Navbar_avatar__Ay0Bd",Qp="Navbar_username__dnoMP",$p="Navbar_button__QMDY3";var Yp=function(){var e=(0,i.useContext)(vL).auth,t=f(Bp(e),1)[0];return console.log(t),(0,xa.jsx)("div",{className:qp,children:(0,xa.jsxs)("nav",{className:Wp,children:[(0,xa.jsx)("p",{className:Gp,children:"Real-time Chat"}),t&&(0,xa.jsxs)(xa.Fragment,{children:[(0,xa.jsxs)("div",{className:Kp,children:[(0,xa.jsx)("div",{className:Hp,children:(0,xa.jsx)("img",{alt:"user_avatar",src:t.photoURL})}),(0,xa.jsx)("div",{className:Qp,children:t.displayName})]}),(0,xa.jsx)(oo,{className:$p,onClick:function(){return e.signOut()},style:{textDecoration:"none"},variant:"outlined",children:"Logout"})]})]})})},Jp="/login",Xp="/chat";function Zp(e){return Ia("MuiContainer",e)}Ea("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var ev=["className","component","disableGutters","fixed","maxWidth"],tv=Ki("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat(Ja(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.theme;return He({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!e.ownerState.disableGutters&&Ge({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var r=t.breakpoints.values[n];return 0!==r&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(r).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return He({},"xs"===n.maxWidth&&Ge({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&Ge({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))})),nv=i.forwardRef((function(e,t){var n=Xi({props:e,name:"MuiContainer"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.disableGutters,u=void 0!==o&&o,s=n.fixed,c=void 0!==s&&s,l=n.maxWidth,f=void 0===l?"lg":l,h=Ke(n,ev),d=He({},n,{component:a,disableGutters:u,fixed:c,maxWidth:f}),p=function(e){var t=e.classes,n=e.fixed,r=e.disableGutters,i=e.maxWidth;return Ye({root:["root",i&&"maxWidth".concat(Ja(String(i))),n&&"fixed",r&&"disableGutters"]},Zp,t)}(d);return(0,xa.jsx)(tv,He({as:a,ownerState:d,className:$e(p.root,r),ref:t},h))})),rv=nv,iv=["sx"],av=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){ei[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t};function ov(e){var t=e.sx,n=Ke(e,iv),r=av(n),i=r.systemProps;return He({},r.otherProps,{sx:He({},i,t)})}var uv=i.createContext();function sv(e){return Ia("MuiGrid",e)}var cv=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],lv=Ea("MuiGrid",["root","container","item","zeroMinWidth"].concat(d([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),d(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),d(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),d(cv.map((function(e){return"grid-xs-".concat(e)}))),d(cv.map((function(e){return"grid-sm-".concat(e)}))),d(cv.map((function(e){return"grid-md-".concat(e)}))),d(cv.map((function(e){return"grid-lg-".concat(e)}))),d(cv.map((function(e){return"grid-xl-".concat(e)}))))),fv=lv,hv=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function dv(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function pv(e,t,n,r){var i=r[n];if(i){var a={};if(!0===i)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===i)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var o=function(e){var t,n=e.values,r=e.base,i=Object.keys(r);return 0===i.length?n:i.reduce((function(e,r){return e[r]="object"===typeof n?null!=n[r]?n[r]:n[t]:n,t=r,e}),{})}({values:r.columns,base:t.breakpoints.values}),u="".concat(Math.round(i/o[n]*1e8)/1e6,"%"),s={};if(r.container&&r.item&&0!==r.columnSpacing){var c=t.spacing(r.columnSpacing);if("0px"!==c){var l="calc(".concat(u," + ").concat(dv(c),")");s={flexBasis:l,maxWidth:l}}}a=He({flexBasis:u,flexGrow:0,maxWidth:u},s)}0===t.breakpoints.values[n]?Object.assign(e,a):e[t.breakpoints.up(n)]=a}}var vv=Ki("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,i=n.direction,a=n.item,o=n.lg,u=n.md,s=n.sm,c=n.spacing,l=n.wrap,f=n.xl,h=n.xs,d=n.zeroMinWidth;return[t.root,r&&t.container,a&&t.item,d&&t.zeroMinWidth,r&&0!==c&&t["spacing-xs-".concat(String(c))],"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==l&&t["wrap-xs-".concat(String(l))],!1!==h&&t["grid-xs-".concat(String(h))],!1!==s&&t["grid-sm-".concat(String(s))],!1!==u&&t["grid-md-".concat(String(u))],!1!==o&&t["grid-lg-".concat(String(o))],!1!==f&&t["grid-xl-".concat(String(f))]]}})((function(e){var t=e.ownerState;return He({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"nowrap"===t.wrap&&{flexWrap:"nowrap"},"reverse"===t.wrap&&{flexWrap:"wrap-reverse"})}),(function(e){return jn({theme:e.theme},e.ownerState.direction,(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(fv.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,a={};return r&&0!==i&&(a=jn({theme:t},i,(function(e){var n=t.spacing(e);return"0px"!==n?Ge({marginTop:"-".concat(dv(n))},"& > .".concat(fv.item),{paddingTop:dv(n)}):{}}))),a}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,a={};return r&&0!==i&&(a=jn({theme:t},i,(function(e){var n=t.spacing(e);return"0px"!==n?Ge({width:"calc(100% + ".concat(dv(n),")"),marginLeft:"-".concat(dv(n))},"& > .".concat(fv.item),{paddingLeft:dv(n)}):{}}))),a}),(function(e){var t=e.theme,n=e.ownerState;return t.breakpoints.keys.reduce((function(e,r){return pv(e,t,r,n),e}),{})})),mv=i.forwardRef((function(e,t){var n,r=ov(Xi({props:e,name:"MuiGrid"})),a=r.className,o=r.columns,u=void 0===o?12:o,s=r.columnSpacing,c=r.component,l=void 0===c?"div":c,f=r.container,h=void 0!==f&&f,d=r.direction,p=void 0===d?"row":d,v=r.item,m=void 0!==v&&v,y=r.lg,g=void 0!==y&&y,k=r.md,b=void 0!==k&&k,w=r.rowSpacing,x=r.sm,_=void 0!==x&&x,S=r.spacing,I=void 0===S?0:S,E=r.wrap,T=void 0===E?"wrap":E,C=r.xl,A=void 0!==C&&C,N=r.xs,P=void 0!==N&&N,R=r.zeroMinWidth,D=void 0!==R&&R,O=Ke(r,hv),L=w||I,M=s||I,F=i.useContext(uv)||u,V=He({},r,{columns:F,container:h,direction:p,item:m,lg:g,md:b,sm:_,rowSpacing:L,columnSpacing:M,wrap:T,xl:A,xs:P,zeroMinWidth:D}),U=function(e){var t=e.classes,n=e.container,r=e.direction,i=e.item,a=e.lg,o=e.md,u=e.sm,s=e.spacing,c=e.wrap,l=e.xl,f=e.xs;return Ye({root:["root",n&&"container",i&&"item",e.zeroMinWidth&&"zeroMinWidth",n&&0!==s&&"spacing-xs-".concat(String(s)),"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==c&&"wrap-xs-".concat(String(c)),!1!==f&&"grid-xs-".concat(String(f)),!1!==u&&"grid-sm-".concat(String(u)),!1!==o&&"grid-md-".concat(String(o)),!1!==a&&"grid-lg-".concat(String(a)),!1!==l&&"grid-xl-".concat(String(l))]},sv,t)}(V);return n=(0,xa.jsx)(vv,He({ownerState:V,className:$e(U.root,a),as:l,ref:t},O)),12!==F?(0,xa.jsx)(uv.Provider,{value:F,children:n}):n})),yv=mv,gv=["className","component"];var kv,bv=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultTheme,t=On("div")(ri);return i.forwardRef((function(n,r){var i=Yi(e),a=ov(n),o=a.className,u=a.component,s=void 0===u?"div":u,c=Ke(a,gv);return(0,xa.jsx)(t,He({as:s,ref:r,className:$e(o,"MuiBox-root"),theme:i},c))}))}({defaultTheme:Bi()}),wv=bv,xv=function(){function e(t,n){var r=this;p(this,e),this._delegate=t,this.firebase=n,Nu(t,new Bo("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),qu(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eu;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eu;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Nu(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Pu(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),_v=(Ge(kv={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ge(kv,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),kv),Sv=new Ao("app-compat","Firebase",_v);var Iv=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=zu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Po(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Gu,setLogLevel:Hu,onLog:Ku,apps:null,SDK_VERSION:Uu,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ru(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Sv.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&yo(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Po(n,e=e||Eu))throw Sv.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(xv);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){yo(n,e)},createSubscribe:Vo,ErrorFactory:Ao,deepExtend:yo}),n}(),Ev=new eu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ev.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Tv=self.firebase.SDK_VERSION;Tv&&Tv.indexOf("LITE")>=0&&Ev.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Cv=Iv;!function(e){Gu("@firebase/app-compat","0.2.16",e)}();Cv.registerVersion("firebase","10.2.0","app-compat");var Av,Nv=function(){var e=(0,i.useContext)(vL).auth,t=function(){var t=lo(so().mark((function t(){var n,r;return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Cv.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:r=t.sent,r.user;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,xa.jsx)(rv,{children:(0,xa.jsx)(yv,{container:!0,style:{height:window.innerHeight-50,justifyContent:"center",alignItems:"center"},children:(0,xa.jsx)(yv,{style:{width:"50%",background:"#fff"},container:!0,alignItems:"center",direction:"column",children:(0,xa.jsx)(wv,{p:5,children:(0,xa.jsx)(oo,{onClick:t,variant:"outlined",style:{color:"rgb(152, 61, 152)"},children:"Login with Google"})})})})})},Pv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Rv={},Dv=Dv||{},Ov=Pv||self;function Lv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Mv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Fv="closure_uid_"+(1e9*Math.random()>>>0),Vv=0;function Uv(e,t,n){return e.call.apply(e.bind,arguments)}function zv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function jv(e,t,n){return(jv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uv:zv).apply(null,arguments)}function Bv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function qv(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Wv(){this.s=this.s,this.o=this.o}Wv.prototype.s=!1,Wv.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Fv)&&e[Fv]||(e[Fv]=++Vv))},Wv.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Gv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Kv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Hv(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Lv(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Qv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Qv.prototype.h=function(){this.defaultPrevented=!0};var $v=function(){if(!Ov.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ov.addEventListener("test",(function(){}),t),Ov.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Yv(e){return/^[\s\xa0]*$/.test(e)}function Jv(){var e=Ov.navigator;return e&&(e=e.userAgent)?e:""}function Xv(e){return-1!=Jv().indexOf(e)}function Zv(e){return Zv[" "](e),e}Zv[" "]=function(){};var em,tm,nm=Xv("Opera"),rm=Xv("Trident")||Xv("MSIE"),im=Xv("Edge"),am=im||rm,om=Xv("Gecko")&&!(-1!=Jv().toLowerCase().indexOf("webkit")&&!Xv("Edge"))&&!(Xv("Trident")||Xv("MSIE"))&&!Xv("Edge"),um=-1!=Jv().toLowerCase().indexOf("webkit")&&!Xv("Edge");function sm(){var e=Ov.document;return e?e.documentMode:void 0}e:{var cm="",lm=function(){var e=Jv();return om?/rv:([^\);]+)(\)|;)/.exec(e):im?/Edge\/([\d\.]+)/.exec(e):rm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):um?/WebKit\/(\S+)/.exec(e):nm?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(lm&&(cm=lm?lm[1]:""),rm){var fm=sm();if(null!=fm&&fm>parseFloat(cm)){em=String(fm);break e}}em=cm}if(Ov.document&&rm){var hm=sm();tm=hm||(parseInt(em,10)||void 0)}else tm=void 0;var dm=tm;function pm(e,t){if(Qv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(om){e:{try{Zv(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:vm[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&pm.$.h.call(this)}}qv(pm,Qv);var vm={2:"touch",3:"pen",4:"mouse"};pm.prototype.h=function(){pm.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var mm="closure_listenable_"+(1e6*Math.random()|0),ym=0;function gm(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ym,this.fa=this.ia=!1}function km(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function bm(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function wm(e){var t={};for(var n in e)t[n]=e[n];return t}var xm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _m(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<xm.length;a++)n=xm[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Sm(e){this.src=e,this.g={},this.h=0}function Im(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Gv(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(km(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Em(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Sm.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Em(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new gm(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Tm="closure_lm_"+(1e6*Math.random()|0),Cm={};function Am(e,t,n,r,i){if(r&&r.once)return Pm(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Am(e,t[a],n,r,i);return null}return n=Vm(n),e&&e[mm]?e.O(t,n,Mv(r)?!!r.capture:!!r,i):Nm(e,t,n,!1,r,i)}function Nm(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Mv(i)?!!i.capture:!!i,u=Mm(e);if(u||(e[Tm]=u=new Sm(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Lm;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$v||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Om(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Pm(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Pm(e,t[a],n,r,i);return null}return n=Vm(n),e&&e[mm]?e.P(t,n,Mv(r)?!!r.capture:!!r,i):Nm(e,t,n,!0,r,i)}function Rm(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Rm(e,t[a],n,r,i);else r=Mv(r)?!!r.capture:!!r,n=Vm(n),e&&e[mm]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Em(a=e.g[t],n,r,i))&&(km(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Mm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Em(t,n,r,i)),(n=-1<e?t[e]:null)&&Dm(n))}function Dm(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[mm])Im(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Om(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mm(t))?(Im(n,e),0==n.h&&(n.src=null,t[Tm]=null)):km(e)}}}function Om(e){return e in Cm?Cm[e]:Cm[e]="on"+e}function Lm(e,t){if(e.fa)e=!0;else{t=new pm(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Dm(e),e=n.call(r,t)}return e}function Mm(e){return(e=e[Tm])instanceof Sm?e:null}var Fm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vm(e){return"function"===typeof e?e:(e[Fm]||(e[Fm]=function(t){return e.handleEvent(t)}),e[Fm])}function Um(){Wv.call(this),this.i=new Sm(this),this.S=this,this.J=null}function zm(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Qv(t,e);else if(t instanceof Qv)t.target=t.target||e;else{var i=t;_m(t=new Qv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=jm(o,r,!0,t)&&i}if(i=jm(o=t.g=e,r,!0,t)&&i,i=jm(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=jm(o=t.g=n[a],r,!1,t)&&i}function jm(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&Im(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}qv(Um,Wv),Um.prototype[mm]=!0,Um.prototype.removeEventListener=function(e,t,n,r){Rm(this,e,t,n,r)},Um.prototype.N=function(){if(Um.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)km(n[r]);delete t.g[e],t.h--}}this.J=null},Um.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Um.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Bm=Ov.JSON.stringify,qm=function(){function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Wm(){var e=Xm,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Gm=function(){function e(){p(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=Km.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Km=new qm((function(){return new Hm}),(function(e){return e.reset()})),Hm=function(){function e(){p(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Qm(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function $m(e){Ov.setTimeout((function(){throw e}),0)}var Ym,Jm=!1,Xm=new Gm,Zm=function(){var e=Ov.Promise.resolve(void 0);Ym=function(){e.then(ey)}},ey=function(){for(var e;e=Wm();){try{e.h.call(e.g)}catch(n){$m(n)}var t=Km;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Jm=!1};function ty(e,t){Um.call(this),this.h=e||1,this.g=t||Ov,this.j=jv(this.qb,this),this.l=Date.now()}function ny(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ry(e,t,n){if("function"===typeof e)n&&(e=jv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=jv(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ov.setTimeout(e,t||0)}function iy(e){e.g=ry((function(){e.g=null,e.i&&(e.i=!1,iy(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}qv(ty,Um),(Av=ty.prototype).ga=!1,Av.T=null,Av.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zm(this,"tick"),this.ga&&(ny(this),this.start()))}},Av.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Av.N=function(){ty.$.N.call(this),ny(this),delete this.g};var ay=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:iy(this)}},{key:"N",value:function(){uo(w(n.prototype),"N",this).call(this),this.g&&(Ov.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Wv);function oy(e){Wv.call(this),this.h=e,this.g={}}qv(oy,Wv);var uy=[];function sy(e,t,n,r){Array.isArray(n)||(n&&(uy[0]=n.toString()),n=uy);for(var i=0;i<n.length;i++){var a=Am(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function cy(e){bm(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Dm(e)}),e),e.g={}}function ly(){this.g=!0}function fy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Bm(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}oy.prototype.N=function(){oy.$.N.call(this),cy(this)},oy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ly.prototype.Ea=function(){this.g=!1},ly.prototype.info=function(){};var hy={},dy=null;function py(){return dy=dy||new Um}function vy(e){Qv.call(this,hy.Ta,e)}function my(e){var t=py();zm(t,new vy(t))}function yy(e,t){Qv.call(this,hy.STAT_EVENT,e),this.stat=t}function gy(e){var t=py();zm(t,new yy(t,e))}function ky(e,t){Qv.call(this,hy.Ua,e),this.size=t}function by(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ov.setTimeout((function(){e()}),t)}hy.Ta="serverreachability",qv(vy,Qv),hy.STAT_EVENT="statevent",qv(yy,Qv),hy.Ua="timingevent",qv(ky,Qv);var wy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xy={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _y(){}function Sy(e){return e.h||(e.h=e.i())}function Iy(){}_y.prototype.h=null;var Ey,Ty={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Cy(){Qv.call(this,"d")}function Ay(){Qv.call(this,"c")}function Ny(){}function Py(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new oy(this),this.P=Dy,e=am?125:void 0,this.V=new ty(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ry}function Ry(){this.i=null,this.g="",this.h=!1}qv(Cy,Qv),qv(Ay,Qv),qv(Ny,_y),Ny.prototype.g=function(){return new XMLHttpRequest},Ny.prototype.i=function(){return{}},Ey=new Ny;var Dy=45e3,Oy={},Ly={};function My(e,t,n){e.L=1,e.v=tg(Yy(t)),e.s=n,e.S=!0,Fy(e,null)}function Fy(e,t){e.G=Date.now(),jy(e),e.A=Yy(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),pg(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ry,e.g=vk(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ay(jv(e.Pa,e,e.g),e.O)),sy(e.U,e.g,"readystatechange",e.nb),t=e.I?wm(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),my(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Vy(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Uy(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=zy(e,n))==Ly){4==t&&(e.o=4,gy(14),i=!1),fy(e.j,e.m,null,"[Incomplete Response]");break}if(r==Oy){e.o=4,gy(15),fy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}fy(e.j,e.m,r,null),Ky(e,r)}Vy(e)&&r!=Ly&&r!=Oy&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,gy(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),uk(t),t.M=!0,gy(11))):(fy(e.j,e.m,n,"[Invalid Chunked Response]"),Gy(e),Wy(e))}function zy(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ly:(n=Number(t.substring(n,r)),isNaN(n)?Oy:(r+=1)+n>t.length?Ly:(t=t.slice(r,r+n),e.C=r+n,t))}function jy(e){e.Y=Date.now()+e.P,By(e,e.P)}function By(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=by(jv(e.lb,e),t)}function qy(e){e.B&&(Ov.clearTimeout(e.B),e.B=null)}function Wy(e){0==e.l.H||e.J||lk(e.l,e)}function Gy(e){qy(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ny(e.V),cy(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ky(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||wg(n.i,e)))if(!e.K&&wg(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ck(n),Zg(n)}ok(n),gy(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=by(jv(n.ib,n),6e3));if(1>=bg(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else hk(n,11)}else if((e.K||n.g==e)&&ck(n),!Yv(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(xg(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,eg(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=pk(r,r.J?r.pa:null,r.Y),d.K){_g(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(qy(p),jy(p)),r.g=d}else ak(r);0<n.j.length&&tk(n)}else"stop"!=a[0]&&"close"!=a[0]||hk(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?hk(n,7):Xg(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}my()}catch(a){}}function Hy(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Lv(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Lv(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Lv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Av=Py.prototype).setTimeout=function(e){this.P=e},Av.nb=function(e){e=e.target;var t=this.M;t&&3==Kg(e)?t.l():this.Pa(e)},Av.Pa=function(e){try{if(e==this.g)e:{var t=Kg(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||am||this.g&&(this.h.h||this.g.ja()||Hg(this.g)))){this.J||4!=t||7==n||my(),qy(this);var r=this.g.da();this.ca=r;t:if(Vy(this)){var i=Hg(this.g);e="";var a=i.length,o=4==Kg(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Gy(this),Wy(this);var u="";break t}this.h.i=new Ov.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yv(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,gy(12),Gy(this),Wy(this);break e}fy(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ky(this,r)}this.S?(Uy(this,t,u),am&&this.i&&3==t&&(sy(this.U,this.V,"tick",this.mb),this.V.start())):(fy(this.j,this.m,u,null),Ky(this,u)),4==t&&Gy(this),this.i&&!this.J&&(4==t?lk(this.l,this):(this.i=!1,jy(this)))}else(function(e){var t={};e=(e.g&&2<=Kg(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Yv(e[n])){var r=Qm(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,gy(12)):(this.o=0,gy(13)),Gy(this),Wy(this)}}}catch(t){}},Av.mb=function(){if(this.g){var e=Kg(this.g),t=this.g.ja();this.C<t.length&&(qy(this),Uy(this,e,t),this.i&&4!=e&&jy(this))}},Av.cancel=function(){this.J=!0,Gy(this)},Av.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(my(),gy(17)),Gy(this),this.o=2,Wy(this)):By(this,this.Y-e)};var Qy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $y(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof $y){this.h=e.h,Jy(this,e.j),this.s=e.s,this.g=e.g,Xy(this,e.m),this.l=e.l;var t=e.i,n=new lg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Zy(this,n),this.o=e.o}else e&&(t=String(e).match(Qy))?(this.h=!1,Jy(this,t[1]||"",!0),this.s=ng(t[2]||""),this.g=ng(t[3]||"",!0),Xy(this,t[4]),this.l=ng(t[5]||"",!0),Zy(this,t[6]||"",!0),this.o=ng(t[7]||"")):(this.h=!1,this.i=new lg(null,this.h))}function Yy(e){return new $y(e)}function Jy(e,t,n){e.j=n?ng(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xy(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zy(e,t,n){t instanceof lg?(e.i=t,function(e,t){t&&!e.j&&(fg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(hg(this,t),pg(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=rg(t,sg)),e.i=new lg(t,e.h))}function eg(e,t,n){e.i.set(t,n)}function tg(e){return eg(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ng(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ig),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ig(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}$y.prototype.toString=function(){var e=[],t=this.j;t&&e.push(rg(t,ag,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(rg(t,ag,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(rg(n,"/"==n.charAt(0)?ug:og,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",rg(n,cg)),e.join("")};var ag=/[#\/\?@]/g,og=/[#\?:]/g,ug=/[#\?]/g,sg=/[#\?@]/g,cg=/#/g;function lg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fg(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function hg(e,t){fg(e),t=vg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function dg(e,t){return fg(e),t=vg(e,t),e.g.has(t)}function pg(e,t,n){hg(e,t),0<n.length&&(e.i=null,e.g.set(vg(e,t),Kv(n)),e.h+=n.length)}function vg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Av=lg.prototype).add=function(e,t){fg(this),this.i=null,e=vg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Av.forEach=function(e,t){fg(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Av.ta=function(){fg(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Av.Z=function(e){fg(this);var t=[];if("string"===typeof e)dg(this,e)&&(t=t.concat(this.g.get(vg(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Av.set=function(e,t){return fg(this),this.i=null,dg(this,e=vg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Av.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Av.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var mg=g((function e(t,n){p(this,e),this.g=t,this.map=n}));function yg(e){this.l=e||gg,Ov.PerformanceNavigationTiming?e=0<(e=Ov.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ov.g&&Ov.g.Ka&&Ov.g.Ka()&&Ov.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gg=10;function kg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function bg(e){return e.h?1:e.g?e.g.size:0}function wg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function xg(e,t){e.g?e.g.add(t):e.h=t}function _g(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Sg(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Kv(e.i)}yg.prototype.cancel=function(){if(this.i=Sg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Ig,Eg=function(){function e(){p(this,e)}return g(e,[{key:"stringify",value:function(e){return Ov.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Ov.JSON.parse(e,void 0)}}]),e}();function Tg(){this.g=new Eg}function Cg(e,t,n){var r=n||"";try{Hy(e,(function(e,n){var i=e;Mv(e)&&(i=Bm(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ag(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ng(e){this.l=e.fc||null,this.j=e.ob||!1}function Pg(e,t){Um.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Rg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qv(Ng,_y),Ng.prototype.g=function(){return new Pg(this.l,this.j)},Ng.prototype.i=(Ig={},function(){return Ig}),qv(Pg,Um);var Rg=0;function Dg(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Og(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Lg(e)}function Lg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Av=Pg.prototype).open=function(e,t){if(this.readyState!=Rg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Lg(this)},Av.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ov).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Av.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Og(this)),this.readyState=Rg},Av.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lg(this)),this.g&&(this.readyState=3,Lg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Ov.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Dg(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Av.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Og(this):Lg(this),3==this.readyState&&Dg(this)}},Av.Za=function(e){this.g&&(this.response=this.responseText=e,Og(this))},Av.Ya=function(e){this.g&&(this.response=e,Og(this))},Av.ka=function(){this.g&&Og(this)},Av.setRequestHeader=function(e,t){this.v.append(e,t)},Av.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Av.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Mg=Ov.JSON.parse;function Fg(e){Um.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Vg,this.L=this.M=!1}qv(Fg,Um);var Vg="",Ug=/^https?$/i,zg=["POST","PUT"];function jg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Bg(e),Wg(e)}function Bg(e){e.F||(e.F=!0,zm(e,"complete"),zm(e,"error"))}function qg(e){if(e.h&&"undefined"!=typeof Dv&&(!e.C[1]||4!=Kg(e)||2!=e.da()))if(e.v&&4==Kg(e))ry(e.La,0,e);else if(zm(e,"readystatechange"),4==Kg(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Qy)[1]||null;!a&&Ov.self&&Ov.self.location&&(a=Ov.self.location.protocol.slice(0,-1)),i=!Ug.test(a?a.toLowerCase():"")}t=i}if(t)zm(e,"complete"),zm(e,"success");else{e.m=6;try{var o=2<Kg(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",Bg(e)}}finally{Wg(e)}}}function Wg(e,t){if(e.g){Gg(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||zm(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Gg(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ov.clearTimeout(e.A),e.A=null)}function Kg(e){return e.g?e.g.readyState:0}function Hg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Vg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(eb){return null}}function Qg(e){var t="";return bm(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function $g(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Qg(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):eg(e,t,n))}function Yg(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jg(e){this.Ga=0,this.j=[],this.l=new ly,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yg("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yg("baseRetryDelayMs",5e3,e),this.hb=Yg("retryDelaySeedMs",1e4,e),this.eb=Yg("forwardChannelMaxRetries",2,e),this.xa=Yg("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new yg(e&&e.concurrentRequestLimit),this.Ja=new Tg,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Xg(e){if(ek(e),3==e.H){var t=e.W++,n=Yy(e.I);if(eg(n,"SID",e.K),eg(n,"RID",t),eg(n,"TYPE","terminate"),rk(e,n),(t=new Py(e,e.l,t)).L=2,t.v=tg(Yy(n)),n=!1,Ov.navigator&&Ov.navigator.sendBeacon)try{n=Ov.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Ov.Image&&((new Image).src=t.v,n=!0),n||(t.g=vk(t.l,null),t.g.ha(t.v)),t.G=Date.now(),jy(t)}dk(e)}function Zg(e){e.g&&(uk(e),e.g.cancel(),e.g=null)}function ek(e){Zg(e),e.u&&(Ov.clearTimeout(e.u),e.u=null),ck(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ov.clearTimeout(e.m),e.m=null)}function tk(e){if(!kg(e.i)&&!e.m){e.m=!0;var t=e.Na;Ym||Zm(),Jm||(Ym(),Jm=!0),Xm.add(t,e),e.C=0}}function nk(e,t){var n;n=t?t.m:e.W++;var r=Yy(e.I);eg(r,"SID",e.K),eg(r,"RID",n),eg(r,"AID",e.V),rk(e,r),e.o&&e.s&&$g(r,e.o,e.s),n=new Py(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ik(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),xg(e.i,n),My(n,r,t)}function rk(e,t){e.na&&bm(e.na,(function(e,n){eg(t,n,e)})),e.h&&Hy({},(function(e,n){eg(t,n,e)}))}function ik(e,t,n){n=Math.min(e.j.length,n);var r=e.h?jv(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Cg(l,o,"req"+c+"_")}catch(gw){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function ak(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ym||Zm(),Jm||(Ym(),Jm=!0),Xm.add(t,e),e.A=0}}function ok(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=by(jv(e.Ma,e),fk(e,e.A)),e.A++,!0)}function uk(e){null!=e.B&&(Ov.clearTimeout(e.B),e.B=null)}function sk(e){e.g=new Py(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Yy(e.wa);eg(t,"RID","rpc"),eg(t,"SID",e.K),eg(t,"AID",e.V),eg(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&eg(t,"TO",e.qa),eg(t,"TYPE","xmlhttp"),rk(e,t),e.o&&e.s&&$g(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=tg(Yy(t)),n.s=null,n.S=!0,Fy(n,e)}function ck(e){null!=e.v&&(Ov.clearTimeout(e.v),e.v=null)}function lk(e,t){var n=null;if(e.g==t){ck(e),uk(e),e.g=null;var r=2}else{if(!wg(e.i,t))return;n=t.F,_g(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;zm(r=py(),new ky(r,n)),tk(e)}else ak(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(bg(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=by(jv(e.Na,e,t),fk(e,e.C)),e.C++,!0))}(e,t)||2==r&&ok(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:hk(e,5);break;case 4:hk(e,10);break;case 3:hk(e,6);break;default:hk(e,2)}}function fk(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function hk(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=jv(e.pb,e);n||(n=new $y("//www.google.com/images/cleardot.gif"),Ov.location&&"http"==Ov.location.protocol||Jy(n,"https"),tg(n)),function(e,t){var n=new ly;if(Ov.Image){var r=new Image;r.onload=Bv(Ag,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Bv(Ag,n,r,"TestLoadImage: error",!1,t),r.onabort=Bv(Ag,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bv(Ag,n,r,"TestLoadImage: timeout",!1,t),Ov.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else gy(2);e.H=0,e.h&&e.h.za(t),dk(e),ek(e)}function dk(e){if(e.H=0,e.ma=[],e.h){var t=Sg(e.i);0==t.length&&0==e.j.length||(Hv(e.ma,t),Hv(e.ma,e.j),e.i.i.length=0,Kv(e.j),e.j.length=0),e.h.ya()}}function pk(e,t,n){var r=n instanceof $y?Yy(n):new $y(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Xy(r,r.m);else{var i=Ov.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new $y(null);r&&Jy(a,r),t&&(a.g=t),i&&Xy(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&eg(r,n,t),eg(r,"VER",e.ra),rk(e,r),r}function vk(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Fg(new Ng({ob:!0})):new Fg(e.va)).Oa(e.J),t}function mk(){}function yk(){if(rm&&!(10<=Number(dm)))throw Error("Environmental error: no available transport.")}function gk(e,t){Um.call(this),this.g=new Jg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Yv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Yv(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wk(this)}function kk(e){Cy.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bk(){Ay.call(this),this.status=1}function wk(e){this.g=e}function xk(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _k(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Sk(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Av=Fg.prototype).Oa=function(e){this.M=e},Av.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ey.g(),this.C=this.u?Sy(this.u):Sy(Ey),this.g.onreadystatechange=jv(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void jg(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ov.FormData&&e instanceof Ov.FormData,!(0<=Gv(zg,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=C(n);try{for(c.s();!(s=c.n()).done;){var l=f(s.value,2),h=l[0],d=l[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gg(this),0<this.B&&((this.L=function(e){return rm&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jv(this.ua,this)):this.A=ry(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){jg(this,u)}},Av.ua=function(){"undefined"!=typeof Dv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zm(this,"timeout"),this.abort(8))},Av.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,zm(this,"complete"),zm(this,"abort"),Wg(this))},Av.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wg(this,!0)),Fg.$.N.call(this)},Av.La=function(){this.s||(this.G||this.v||this.l?qg(this):this.kb())},Av.kb=function(){qg(this)},Av.isActive=function(){return!!this.g},Av.da=function(){try{return 2<Kg(this)?this.g.status:-1}catch(Ig){return-1}},Av.ja=function(){try{return this.g?this.g.responseText:""}catch(Ig){return""}},Av.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Mg(t)}},Av.Ia=function(){return this.m},Av.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Av=Jg.prototype).ra=8,Av.H=1,Av.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Py(this,this.l,e),n=this.s;if(this.U&&(n?_m(n=wm(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ik(this,t,r),eg(i=Yy(this.I),"RID",e),eg(i,"CVER",22),this.F&&eg(i,"X-HTTP-Session-Id",this.F),rk(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Qg(n)))+"&"+r:this.o&&$g(i,this.o,n)),xg(this.i,t),this.bb&&eg(i,"TYPE","init"),this.P?(eg(i,"$req",r),eg(i,"SID","null"),t.aa=!0,My(t,i,null)):My(t,i,r),this.H=2}}else 3==this.H&&(e?nk(this,e):0==this.j.length||kg(this.i)||nk(this))},Av.Ma=function(){if(this.u=null,sk(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=by(jv(this.jb,this),e)}},Av.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gy(10),Zg(this),sk(this))},Av.ib=function(){null!=this.v&&(this.v=null,Zg(this),ok(this),gy(19))},Av.pb=function(e){e?(this.l.info("Successfully pinged google.com"),gy(2)):(this.l.info("Failed to ping google.com"),gy(1))},Av.isActive=function(){return!!this.h&&this.h.isActive(this)},(Av=mk.prototype).Ba=function(){},Av.Aa=function(){},Av.za=function(){},Av.ya=function(){},Av.isActive=function(){return!0},Av.Va=function(){},yk.prototype.g=function(e,t){return new gk(e,t)},qv(gk,Um),gk.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;gy(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=pk(e,null,e.Y),tk(e)},gk.prototype.close=function(){Xg(this.g)},gk.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Bm(e),e=n);t.j.push(new mg(t.fb++,e)),3==t.H&&tk(t)},gk.prototype.N=function(){this.g.h=null,delete this.j,Xg(this.g),delete this.g,gk.$.N.call(this)},qv(kk,Cy),qv(bk,Ay),qv(wk,mk),wk.prototype.Ba=function(){zm(this.g,"a")},wk.prototype.Aa=function(e){zm(this.g,new kk(e))},wk.prototype.za=function(e){zm(this.g,new bk)},wk.prototype.ya=function(){zm(this.g,"b")},qv(xk,(function(){this.blockSize=-1})),xk.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xk.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)_k(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){_k(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){_k(this,r),i=0;break}}this.h=i,this.i+=t},xk.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ik={};function Ek(e){return-128<=e&&128>e?function(e,t){var n=Ik;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Sk([0|e],0>e?-1:0)})):new Sk([0|e],0>e?-1:0)}function Tk(e){if(isNaN(e)||!isFinite(e))return Ak;if(0>e)return Ok(Tk(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ck;return new Sk(t,0)}var Ck=4294967296,Ak=Ek(0),Nk=Ek(1),Pk=Ek(16777216);function Rk(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Dk(e){return-1==e.h}function Ok(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Sk(n,~e.h).add(Nk)}function Lk(e,t){return e.add(Ok(t))}function Mk(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Fk(e,t){this.g=e,this.h=t}function Vk(e,t){if(Rk(t))throw Error("division by zero");if(Rk(e))return new Fk(Ak,Ak);if(Dk(e))return t=Vk(Ok(e),t),new Fk(Ok(t.g),Ok(t.h));if(Dk(t))return t=Vk(e,Ok(t)),new Fk(Ok(t.g),t.h);if(30<e.g.length){if(Dk(e)||Dk(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Nk,r=t;0>=r.X(e);)n=Uk(n),r=Uk(r);var i=zk(n,1),a=zk(r,1);for(r=zk(r,2),n=zk(n,2);!Rk(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=zk(r,1),n=zk(n,1)}return t=Lk(e,i.R(t)),new Fk(i,t)}for(i=Ak;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Tk(n)).R(t);Dk(o)||0<o.X(e);)o=(a=Tk(n-=r)).R(t);Rk(a)&&(a=Nk),i=i.add(a),e=Lk(e,o)}return new Fk(i,e)}function Uk(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Sk(n,e.h)}function zk(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Sk(i,e.h)}(Av=Sk.prototype).ea=function(){if(Dk(this))return-Ok(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ck+r)*t,t*=Ck}return e},Av.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Rk(this))return"0";if(Dk(this))return"-"+Ok(this).toString(e);for(var t=Tk(Math.pow(e,6)),n=this,r="";;){var i=Vk(n,t).g,a=((0<(n=Lk(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Rk(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Av.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Av.X=function(e){return Dk(e=Lk(this,e))?-1:Rk(e)?0:1},Av.abs=function(){return Dk(this)?Ok(this):this},Av.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Sk(n,-2147483648&n[n.length-1]?-1:0)},Av.R=function(e){if(Rk(this)||Rk(e))return Ak;if(Dk(this))return Dk(e)?Ok(this).R(Ok(e)):Ok(Ok(this).R(e));if(Dk(e))return Ok(this.R(Ok(e)));if(0>this.X(Pk)&&0>e.X(Pk))return Tk(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Mk(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Mk(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Mk(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Mk(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Sk(n,0)},Av.gb=function(e){return Vk(this,e).h},Av.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Sk(n,this.h&e.h)},Av.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Sk(n,this.h|e.h)},Av.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Sk(n,this.h^e.h)},yk.prototype.createWebChannel=yk.prototype.g,gk.prototype.send=gk.prototype.u,gk.prototype.open=gk.prototype.m,gk.prototype.close=gk.prototype.close,wy.NO_ERROR=0,wy.TIMEOUT=8,wy.HTTP_ERROR=6,xy.COMPLETE="complete",Iy.EventType=Ty,Ty.OPEN="a",Ty.CLOSE="b",Ty.ERROR="c",Ty.MESSAGE="d",Um.prototype.listen=Um.prototype.O,Fg.prototype.listenOnce=Fg.prototype.P,Fg.prototype.getLastError=Fg.prototype.Sa,Fg.prototype.getLastErrorCode=Fg.prototype.Ia,Fg.prototype.getStatus=Fg.prototype.da,Fg.prototype.getResponseJson=Fg.prototype.Wa,Fg.prototype.getResponseText=Fg.prototype.ja,Fg.prototype.send=Fg.prototype.ha,Fg.prototype.setWithCredentials=Fg.prototype.Oa,xk.prototype.digest=xk.prototype.l,xk.prototype.reset=xk.prototype.reset,xk.prototype.update=xk.prototype.j,Sk.prototype.add=Sk.prototype.add,Sk.prototype.multiply=Sk.prototype.R,Sk.prototype.modulo=Sk.prototype.gb,Sk.prototype.compare=Sk.prototype.X,Sk.prototype.toNumber=Sk.prototype.ea,Sk.prototype.toString=Sk.prototype.toString,Sk.prototype.getBits=Sk.prototype.D,Sk.fromNumber=Tk,Sk.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ok(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Tk(Math.pow(n,8)),i=Ak,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Tk(Math.pow(n,o)),i=i.R(o).add(Tk(u))):i=(i=i.R(r)).add(Tk(u))}return i};var jk=Rv.createWebChannelTransport=function(){return new yk},Bk=Rv.getStatEventTarget=function(){return py()},qk=Rv.ErrorCode=wy,Wk=Rv.EventType=xy,Gk=Rv.Event=hy,Kk=Rv.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Hk=Rv.FetchXmlHttpFactory=Ng,Qk=Rv.WebChannel=Iy,$k=Rv.XhrIo=Fg,Yk=Rv.Md5=xk,Jk=Rv.Integer=Sk,Xk="@firebase/firestore",Zk=function(){function e(t){p(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Zk.UNAUTHENTICATED=new Zk(null),Zk.GOOGLE_CREDENTIALS=new Zk("google-credentials-uid"),Zk.FIRST_PARTY=new Zk("first-party-uid"),Zk.MOCK_USER=new Zk("mock-user");var eb="10.2.0",tb=new eu("@firebase/firestore");function nb(){return tb.logLevel}function rb(e){if(tb.logLevel<=Ho.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ob);tb.debug.apply(tb,["Firestore (".concat(eb,"): ").concat(e)].concat(d(i)))}}function ib(e){if(tb.logLevel<=Ho.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ob);tb.error.apply(tb,["Firestore (".concat(eb,"): ").concat(e)].concat(d(i)))}}function ab(e){if(tb.logLevel<=Ho.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ob);tb.warn.apply(tb,["Firestore (".concat(eb,"): ").concat(e)].concat(d(i)))}}function ob(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ub(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(eb,") INTERNAL ASSERTION FAILED: ")+e;throw ib(t),new Error(t)}function sb(e,t){e||ub()}function cb(e,t){return e}var lb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fb=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(Co),hb=g((function e(){var t=this;p(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),db=g((function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),pb=function(){function e(){p(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),vb=function(){function e(t){p(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),mb=function(){function e(t){p(this,e),this.t=t,this.currentUser=Zk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new hb;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new hb,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){rb("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(rb("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hb)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(rb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(sb("string"==typeof n.accessToken),new db(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return sb(null===e||"string"==typeof e),new Zk(e)}}]),e}(),yb=function(){function e(t,n,r){p(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Zk.FIRST_PARTY,this.I=new Map}return g(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),gb=function(){function e(t,n,r){p(this,e),this.l=t,this.h=n,this.P=r}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new yb(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Zk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),kb=g((function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),bb=function(){function e(t){p(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&rb("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,rb("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){rb("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):rb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(sb("string"==typeof t.token),e.R=t.token,new kb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function wb(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var xb=function(){function e(){p(this,e)}return g(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=wb(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function _b(e,t){return e<t?-1:e>t?1:0}function Sb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ib(e){return e+"\0"}var Eb=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new fb(lb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fb(lb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new fb(lb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new fb(lb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?_b(this.nanoseconds,e.nanoseconds):_b(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Tb=function(){function e(t){p(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Eb(0,0))}},{key:"max",value:function(){return new e(new Eb(253402300799,999999999))}}]),e}(),Cb=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&ub(),void 0===r?r=t.length-n:r>t.length-n&&ub(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ab=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new fb(lb.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,d(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Cb),Nb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pb=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Nb.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new fb(lb.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new fb(lb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new fb(lb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new fb(lb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Cb),Rb=function(){function e(t){p(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ab.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ab.fromString(t))}},{key:"fromName",value:function(t){return new e(Ab.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ab.emptyPath())}},{key:"comparator",value:function(e,t){return Ab.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ab(t.slice()))}}]),e}(),Db=g((function e(t,n,r,i){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Ob(e){return e.fields.find((function(e){return 2===e.kind}))}function Lb(e){return e.fields.filter((function(e){return 2!==e.kind}))}Db.UNKNOWN_ID=-1;var Mb=g((function e(t,n){p(this,e),this.fieldPath=t,this.kind=n}));var Fb=function(){function e(t,n){p(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,zb.min())}}]),e}();function Vb(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Tb.fromTimestamp(1e9===r?new Eb(n+1,0):new Eb(n,r));return new zb(i,Rb.empty(),t)}function Ub(e){return new zb(e.readTime,e.key,-1)}var zb=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(Tb.min(),Rb.empty(),-1)}},{key:"max",value:function(){return new e(Tb.max(),Rb.empty(),-1)}}]),e}();function jb(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Rb.comparator(e.documentKey,t.documentKey))?n:_b(e.largestBatchId,t.largestBatchId)}var Bb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qb=function(){function e(){p(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Wb(e){return Gb.apply(this,arguments)}function Gb(){return(Gb=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===lb.FAILED_PRECONDITION&&t.message===Bb){e.next=2;break}throw t;case 2:rb("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kb=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ub(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Hb=function(){function e(t,n){var r=this;p(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new hb,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new Yb(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=tw(e.target.error);r.m.reject(new Yb(t,n))}}return g(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(rb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Xb(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Yb(n,t)}}}]),e}(),Qb=function(){function e(t,n,r){p(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(xo())&&ib("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"N",value:function(){var e=lo(so().mark((function e(t){var n=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return rb("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Yb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new fb(lb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new fb(lb.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Yb(t,n))},i.onupgradeneeded=function(e){rb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){rb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=lo(so().mark((function e(t,n,r,i){var a,o,u,s,c=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=so().mark((function e(){var n,u,s,l;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=Hb.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),Kb.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.g;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,rb("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return rb("SimpleDb","Removing database:",e),Zb(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"v",value:function(){if(!To())return!1;if(e.C())return!0;var t=xo(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/react_chat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),$b=function(){function e(t){p(this,e),this.q=t,this.K=!1,this.$=null}return g(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return Zb(this.q.delete())}}]),e}(),Yb=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,lb.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(fb);function Jb(e){return"IndexedDbTransactionError"===e.name}var Xb=function(){function e(t){p(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(rb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(rb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Zb(n)}},{key:"add",value:function(e){return rb("SimpleDb","ADD",this.store.name,e,e),Zb(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Zb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),rb("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return rb("SimpleDb","DELETE",this.store.name,e),Zb(this.store.delete(e))}},{key:"count",value:function(){return rb("SimpleDb","COUNT",this.store.name),Zb(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Kb((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Kb((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){rb("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Kb((function(n,r){t.onerror=function(e){var t=tw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new Kb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new $b(i),o=t(i.primaryKey,i.value,a);if(o instanceof Kb){var u=o.catch((function(e){return a.done(),Kb.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Kb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Zb(e){return new Kb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=tw(e.target.error);n(t)}}))}var ew=!1;function tw(e){var t=Qb.D(xo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new fb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ew||(ew=!0,setTimeout((function(){throw r}),0)),r}}return e}var nw=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return g(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;rb("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=rb,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Jb(e.t4)){e.next=17;break}rb("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Wb(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),rw=function(){function e(t,n){p(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"ne",value:function(){var e=lo(so().mark((function e(){var t,n=this,r=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Kb.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return rb("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return rb("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Ub(t);jb(r,n)>0&&(n=r)})),new zb(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),iw=function(){function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function aw(e){return null==e}function ow(e){return 0===e&&1/e==-1/0}function uw(e){return"number"==typeof e&&Number.isInteger(e)&&!ow(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function sw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=lw(t)),t=cw(e.get(n),t);return lw(t)}function cw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function lw(e){return e+"\x01\x01"}function fw(e){var t=e.length;if(sb(t>=2),2===t)return sb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ab.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ub(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ub()}a=o+2}return new Ab(r)}iw.ae=-1;var hw=["userId","batchId"];function dw(e,t){return[e,sw(t)]}function pw(e,t,n){return[e,sw(t),n]}var vw={},mw=["prefixPath","collectionGroup","readTime","documentId"],yw=["prefixPath","collectionGroup","documentId"],gw=["collectionGroup","readTime","prefixPath","documentId"],kw=["canonicalId","targetId"],bw=["targetId","path"],ww=["path","targetId"],xw=["collectionId","parent"],_w=["indexId","uid"],Sw=["uid","sequenceNumber"],Iw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ew=["indexId","uid","orderedDocumentKey"],Tw=["userId","collectionPath","documentId"],Cw=["userId","collectionPath","largestBatchId"],Aw=["userId","collectionGroup","largestBatchId"],Nw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Pw=[].concat(d(Nw),["documentOverlays"]),Rw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dw=Rw,Ow=[].concat(Dw,["indexConfiguration","indexState","indexEntries"]),Lw=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return g(n)}(qb);function Mw(e,t){var n=cb(e);return Qb.O(n.ue,t)}function Fw(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vw(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Uw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var zw=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||Bw.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bw.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bw.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new jw(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new jw(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new jw(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new jw(this.root,e,this.comparator,!0)}}]),e}(),jw=function(){function e(t,n,r,i){p(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Bw=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ub();if(this.right.isRed())throw ub();var e=this.left.check();if(e!==this.right.check())throw ub();return e+(this.isRed()?0:1)}}]),e}();Bw.EMPTY=null,Bw.RED=!0,Bw.BLACK=!1,Bw.EMPTY=new(function(){function e(){p(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw ub()}},{key:"value",get:function(){throw ub()}},{key:"color",get:function(){throw ub()}},{key:"left",get:function(){throw ub()}},{key:"right",get:function(){throw ub()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Bw(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var qw=function(){function e(t){p(this,e),this.comparator=t,this.data=new zw(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ww(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ww(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ww=function(){function e(t){p(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Gw(e){return e.hasNext()?e.getNext():void 0}var Kw=function(){function e(t){p(this,e),this.fields=t,t.sort(Pb.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new qw(Pb.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=C(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Sb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Hw=function(e){b(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return g(n)}(E(Error));var Qw=function(e){function t(e){p(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return _b(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Hw("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Qw.EMPTY_BYTE_STRING=new Qw("");var $w=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yw(e){if(sb(!!e),"string"==typeof e){var t=0,n=$w.exec(e);if(sb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Jw(e.seconds),nanos:Jw(e.nanos)}}function Jw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Xw(e){return"string"==typeof e?Qw.fromBase64String(e):Qw.fromUint8Array(e)}function Zw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ex(e){var t=e.mapValue.fields.__previous_value__;return Zw(t)?ex(t):t}function tx(e){var t=Yw(e.mapValue.fields.__local_write_time__.timestampValue);return new Eb(t.seconds,t.nanos)}var nx=g((function e(t,n,r,i,a,o,u,s,c){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),rx=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),ix={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ax={nullValue:"NULL_VALUE"};function ox(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Zw(e)?4:bx(e)?9007199254740991:10:ub()}function ux(e,t){if(e===t)return!0;var n=ox(e);if(n!==ox(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return tx(e).isEqual(tx(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Yw(e.timestampValue),r=Yw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Xw(e.bytesValue).isEqual(Xw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Jw(e.geoPointValue.latitude)===Jw(t.geoPointValue.latitude)&&Jw(e.geoPointValue.longitude)===Jw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Jw(e.integerValue)===Jw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Jw(e.doubleValue),r=Jw(t.doubleValue);return n===r?ow(n)===ow(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Sb(e.arrayValue.values||[],t.arrayValue.values||[],ux);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Fw(n)!==Fw(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ux(n[i],r[i])))return!1;return!0}(e,t);default:return ub()}}function sx(e,t){return void 0!==(e.values||[]).find((function(e){return ux(e,t)}))}function cx(e,t){if(e===t)return 0;var n=ox(e),r=ox(t);if(n!==r)return _b(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _b(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Jw(e.integerValue||e.doubleValue),r=Jw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return lx(e.timestampValue,t.timestampValue);case 4:return lx(tx(e),tx(t));case 5:return _b(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Xw(e),r=Xw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=_b(n[i],r[i]);if(0!==a)return a}return _b(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=_b(Jw(e.latitude),Jw(t.latitude));return 0!==n?n:_b(Jw(e.longitude),Jw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=cx(n[i],r[i]);if(a)return a}return _b(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ix.mapValue&&t===ix.mapValue)return 0;if(e===ix.mapValue)return 1;if(t===ix.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=_b(r[o],a[o]);if(0!==u)return u;var s=cx(n[r[o]],i[a[o]]);if(0!==s)return s}return _b(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ub()}}function lx(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return _b(e,t);var n=Yw(e),r=Yw(t),i=_b(n.seconds,r.seconds);return 0!==i?i:_b(n.nanos,r.nanos)}function fx(e){return hx(e)}function hx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Yw(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Xw(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Rb.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=hx(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(hx(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ub()}function dx(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function px(e){return!!e&&"integerValue"in e}function vx(e){return!!e&&"arrayValue"in e}function mx(e){return!!e&&"nullValue"in e}function yx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gx(e){return!!e&&"mapValue"in e}function kx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Vw(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=kx(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=kx(e.arrayValue.values[r]);return n}return Object.assign({},e)}function bx(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function wx(e){return"nullValue"in e?ax:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?dx(rx.empty(),Rb.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ub()}function xx(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?dx(rx.empty(),Rb.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ix:ub()}function _x(e,t){var n=cx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Sx(e,t){var n=cx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Ix=function(){function e(t){p(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!gx(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kx(t)}},{key:"setAll",value:function(e){var t=this,n=Pb.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=kx(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());gx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ux(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];gx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Vw(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(kx(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ex(e){var t=[];return Vw(e.fields,(function(e,n){var r=new Pb([e]);if(gx(n)){var i=Ex(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Kw(t)}var Tx=function(){function e(t,n,r,i,a,o,u){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Tb.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ix.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ix.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Tb.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Tb.min(),Tb.min(),Tb.min(),Ix.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Tb.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Tb.min(),Tb.min(),Ix.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Tb.min(),Tb.min(),Ix.empty(),2)}}]),e}(),Cx=g((function e(t,n){p(this,e),this.position=t,this.inclusive=n}));function Ax(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Rb.comparator(Rb.fromName(o.referenceValue),n.key):cx(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Nx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ux(e.position[n],t.position[n]))return!1;return!0}var Px=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n}));function Rx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Dx=g((function e(){p(this,e)})),Ox=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cx(t,this.value)):null!==t&&ox(this.value)===ox(t)&&this.matchesComparison(cx(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ub()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Wx(e,t,r):"array-contains"===t?new Qx(e,r):"in"===t?new $x(e,r):"not-in"===t?new Yx(e,r):"array-contains-any"===t?new Jx(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Gx(e,n):new Kx(e,n)}}]),n}(Dx),Lx=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return g(n,[{key:"matches",value:function(e){return Mx(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Dx);function Mx(e){return"and"===e.op}function Fx(e){return"or"===e.op}function Vx(e){return Ux(e)&&Mx(e)}function Ux(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Lx)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function zx(e){if(e instanceof Ox)return e.field.canonicalString()+e.op.toString()+fx(e.value);if(Vx(e))return e.filters.map((function(e){return zx(e)})).join(",");var t=e.filters.map((function(e){return zx(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function jx(e,t){return e instanceof Ox?function(e,t){return t instanceof Ox&&e.op===t.op&&e.field.isEqual(t.field)&&ux(e.value,t.value)}(e,t):e instanceof Lx?function(e,t){return t instanceof Lx&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&jx(n,t.filters[r])}),!0)}(e,t):void ub()}function Bx(e,t){var n=e.filters.concat(t);return Lx.create(n,e.op)}function qx(e){return e instanceof Ox?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(fx(e.value))}(e):e instanceof Lx?function(e){return e.op.toString()+" {"+e.getFilters().map(qx).join(" ,")+"}"}(e):"Filter"}var Wx=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).key=Rb.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=Rb.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Ox),Gx=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"in",r)).keys=Hx("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ox),Kx=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"not-in",r)).keys=Hx("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ox);function Hx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Rb.fromName(e.referenceValue)}))}var Qx=function(e){b(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return vx(t)&&sx(t.arrayValue,this.value)}}]),n}(Ox),$x=function(e){b(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&sx(this.value.arrayValue,t)}}]),n}(Ox),Yx=function(e){b(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(sx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!sx(this.value.arrayValue,t)}}]),n}(Ox),Jx=function(e){b(n,e);var t=S(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!vx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return sx(t.value.arrayValue,e)}))}}]),n}(Ox),Xx=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function Zx(e){return new Xx(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function e_(e){var t=cb(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return zx(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),aw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return fx(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return fx(e)})).join(",")),t.he=n}return t.he}function t_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Rx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!jx(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Nx(e.startAt,t.startAt)&&Nx(e.endAt,t.endAt)}function n_(e){return Rb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function r_(e,t){return e.filters.filter((function(e){return e instanceof Ox&&e.field.isEqual(t)}))}function i_(e,t,n){var r,i=ax,a=!0,o=C(r_(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ax,c=!0;switch(u.op){case"<":case"<=":s=wx(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=ax}_x({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];_x({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function a_(e,t,n){var r,i=ix,a=!0,o=C(r_(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ix,c=!0;switch(u.op){case">=":case">":s=xx(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=ix}Sx({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Sx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var o_=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}));function u_(e,t,n,r,i,a,o,u){return new o_(e,t,n,r,i,a,o,u)}function s_(e){return new o_(e)}function c_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function l_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function f_(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function h_(e){return null!==e.collectionGroup}function d_(e){var t=cb(e);if(null===t.Pe){t.Pe=[];var n=f_(t),r=l_(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new Px(n)),t.Pe.push(new Px(Pb.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Px(Pb.keyField(),s))}}}return t.Pe}function p_(e){var t=cb(e);return t.Ie||(t.Ie=v_(t,d_(e))),t.Ie}function v_(e,t){if("F"===e.limitType)return Zx(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Px(e.field,t)}));var n=e.endAt?new Cx(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Cx(e.startAt.position,e.startAt.inclusive):null;return Zx(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function m_(e,t){t.getFirstInequalityField(),f_(e);var n=e.filters.concat([t]);return new o_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function y_(e,t,n){return new o_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function g_(e,t){return t_(p_(e),p_(t))&&e.limitType===t.limitType}function k_(e){return"".concat(e_(p_(e)),"|lt:").concat(e.limitType)}function b_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return qx(e)})).join(", "),"]")),aw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return fx(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return fx(e)})).join(",")),"Target(".concat(t,")")}(p_(e)),"; limitType=").concat(e.limitType,")")}function w_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Rb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(d_(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ax(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,d_(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ax(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,d_(e),t))}(e,t)}function x_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function __(e){return function(t,n){var r,i=!1,a=C(d_(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=S_(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function S_(e,t,n){var r=e.field.isKeyField()?Rb.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?cx(r,i):ub()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ub()}}var I_=function(){function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Vw(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Uw(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),E_=new zw(Rb.comparator);function T_(){return E_}var C_=new zw(Rb.comparator);function A_(){for(var e=C_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function N_(e){var t=C_;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function P_(){return D_()}function R_(){return D_()}function D_(){return new I_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var O_=new zw(Rb.comparator),L_=new qw(Rb.comparator);function M_(){for(var e=L_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var F_=new qw(_b);function V_(){return F_}function U_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ow(t)?"-0":t}}function z_(e){return{integerValue:""+e}}function j_(e,t){return uw(t)?z_(t):U_(e,t)}var B_=g((function e(){p(this,e),this._=void 0}));function q_(e,t,n){return e instanceof K_?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Zw(t)&&(t=ex(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof H_?Q_(e,t):e instanceof $_?Y_(e,t):function(e,t){var n=G_(e,t),r=X_(n)+X_(e.Ee);return px(n)&&px(e.Ee)?z_(r):U_(e.serializer,r)}(e,t)}function W_(e,t,n){return e instanceof H_?Q_(e,t):e instanceof $_?Y_(e,t):n}function G_(e,t){return e instanceof J_?function(e){return px(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var K_=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(B_),H_=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(B_);function Q_(e,t){var n,r=Z_(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ux(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $_=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(B_);function Y_(e,t){var n,r=Z_(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ux(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var J_=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).serializer=e,i.Ee=r,i}return g(n)}(B_);function X_(e){return Jw(e.integerValue||e.doubleValue)}function Z_(e){return vx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var eS=g((function e(t,n){p(this,e),this.field=t,this.transform=n}));var tS=g((function e(t,n){p(this,e),this.version=t,this.transformResults=n})),nS=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function rS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var iS=g((function e(){p(this,e)}));function aS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new yS(e.key,nS.none()):new lS(e.key,e.data,nS.none());var n,r=e.data,i=Ix.empty(),a=new qw(Pb.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new fS(e.key,i,new Kw(a.toArray()),nS.none())}function oS(e,t,n){e instanceof lS?function(e,t,n){var r=e.value.clone(),i=dS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fS?function(e,t,n){if(rS(e.precondition,t)){var r=dS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function uS(e,t,n,r){return e instanceof lS?function(e,t,n,r){if(!rS(e.precondition,t))return n;var i=e.value.clone(),a=pS(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fS?function(e,t,n,r){if(!rS(e.precondition,t))return n;var i=pS(e.fieldTransforms,r,t),a=t.data;return a.setAll(hS(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return rS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function sS(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=G_(a.transform,o||null);null!=u&&(null===r&&(r=Ix.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function cS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Sb(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof H_&&t instanceof H_||e instanceof $_&&t instanceof $_?Sb(e.elements,t.elements,ux):e instanceof J_&&t instanceof J_?ux(e.Ee,t.Ee):e instanceof K_&&t instanceof K_}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var lS=function(e){b(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(iS),fS=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(iS);function hS(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function dS(e,t,n){var r=new Map;sb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,W_(o,u,n[i]))}return r}function pS(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,q_(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var vS,mS,yS=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(iS),gS=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(iS),kS=function(){function e(t,n,r,i){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&oS(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=uS(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=uS(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=R_();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=aS(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Tb.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),M_())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Sb(this.mutations,e.mutations,(function(e,t){return cS(e,t)}))&&Sb(this.baseMutations,e.baseMutations,(function(e,t){return cS(e,t)}))}}]),e}(),bS=function(){function e(t,n,r,i){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){sb(t.mutations.length===r.length);for(var i=O_,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),wS=function(){function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),xS=g((function e(t,n){p(this,e),this.count=t,this.unchangedNames=n}));function _S(e){switch(e){default:return ub();case lb.CANCELLED:case lb.UNKNOWN:case lb.DEADLINE_EXCEEDED:case lb.RESOURCE_EXHAUSTED:case lb.INTERNAL:case lb.UNAVAILABLE:case lb.UNAUTHENTICATED:return!1;case lb.INVALID_ARGUMENT:case lb.NOT_FOUND:case lb.ALREADY_EXISTS:case lb.PERMISSION_DENIED:case lb.FAILED_PRECONDITION:case lb.ABORTED:case lb.OUT_OF_RANGE:case lb.UNIMPLEMENTED:case lb.DATA_LOSS:return!0}}function SS(e){if(void 0===e)return ib("GRPC error has no .code"),lb.UNKNOWN;switch(e){case vS.OK:return lb.OK;case vS.CANCELLED:return lb.CANCELLED;case vS.UNKNOWN:return lb.UNKNOWN;case vS.DEADLINE_EXCEEDED:return lb.DEADLINE_EXCEEDED;case vS.RESOURCE_EXHAUSTED:return lb.RESOURCE_EXHAUSTED;case vS.INTERNAL:return lb.INTERNAL;case vS.UNAVAILABLE:return lb.UNAVAILABLE;case vS.UNAUTHENTICATED:return lb.UNAUTHENTICATED;case vS.INVALID_ARGUMENT:return lb.INVALID_ARGUMENT;case vS.NOT_FOUND:return lb.NOT_FOUND;case vS.ALREADY_EXISTS:return lb.ALREADY_EXISTS;case vS.PERMISSION_DENIED:return lb.PERMISSION_DENIED;case vS.FAILED_PRECONDITION:return lb.FAILED_PRECONDITION;case vS.ABORTED:return lb.ABORTED;case vS.OUT_OF_RANGE:return lb.OUT_OF_RANGE;case vS.UNIMPLEMENTED:return lb.UNIMPLEMENTED;case vS.DATA_LOSS:return lb.DATA_LOSS;default:return ub()}}(mS=vS||(vS={}))[mS.OK=0]="OK",mS[mS.CANCELLED=1]="CANCELLED",mS[mS.UNKNOWN=2]="UNKNOWN",mS[mS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mS[mS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mS[mS.NOT_FOUND=5]="NOT_FOUND",mS[mS.ALREADY_EXISTS=6]="ALREADY_EXISTS",mS[mS.PERMISSION_DENIED=7]="PERMISSION_DENIED",mS[mS.UNAUTHENTICATED=16]="UNAUTHENTICATED",mS[mS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mS[mS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mS[mS.ABORTED=10]="ABORTED",mS[mS.OUT_OF_RANGE=11]="OUT_OF_RANGE",mS[mS.UNIMPLEMENTED=12]="UNIMPLEMENTED",mS[mS.INTERNAL=13]="INTERNAL",mS[mS.UNAVAILABLE=14]="UNAVAILABLE",mS[mS.DATA_LOSS=15]="DATA_LOSS";var IS=function(){function e(){p(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return g(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return ES}},{key:"getOrCreateInstance",value:function(){return null===ES&&(ES=new e),ES}}]),e}(),ES=null;function TS(){return new TextEncoder}var CS=new Jk([4294967295,4294967295],0);function AS(e){var t=TS().encode(e),n=new Yk;return n.update(t),new Uint8Array(n.digest())}function NS(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Jk([n,r],0),new Jk([i,a],0)]}var PS=function(){function e(t,n,r){if(p(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new RS("Invalid padding: ".concat(n));if(r<0)throw new RS("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new RS("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new RS("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=Jk.fromNumber(this.Ae)}return g(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(Jk.fromNumber(n)));return 1===r.compare(CS)&&(r=new Jk([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=f(NS(AS(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=f(NS(AS(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),RS=function(e){b(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return g(n)}(E(Error)),DS=function(){function e(t,n,r,i,a){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,OS.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Tb.min(),i,new zw(_b),T_(),M_())}}]),e}(),OS=function(){function e(t,n,r,i,a){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,M_(),M_(),M_())}}]),e}(),LS=g((function e(t,n,r,i){p(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),MS=g((function e(t,n){p(this,e),this.targetId=t,this.ye=n})),FS=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qw.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),VS=function(){function e(){p(this,e),this.we=0,this.Se=jS(),this.be=Qw.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}return g(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"Ce",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.ve}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}},{key:"xe",value:function(){var e=M_(),t=M_(),n=M_();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ub()}})),new OS(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.ve=!1,this.Se=jS()}},{key:"Ne",value:function(e,t){this.ve=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.ve=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.ve=!0,this.De=!0}}]),e}(),US=function(){function e(t){p(this,e),this.Qe=t,this.Ke=new Map,this.$e=T_(),this.Ue=zS(),this.We=new zw(_b)}return g(e,[{key:"Ge",value:function(e){var t,n=C(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(u){n.e(u)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(u){a.e(u)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:ub()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t,n=e.targetId,r=e.ye.count,i=this.et(n);if(i){var a=i.target;if(n_(a))if(0===r){var o=new Rb(a.path);this.je(n,o,Tx.newNoDocument(o,Tb.min()))}else sb(1===r);else{var u=this.tt(n);if(u!==r){var s=this.nt(e),c=s?this.rt(s,e,u):1;if(0!==c){this.Ze(n);var l=2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,l)}null===(t=IS.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r,i){var a,o,u,s,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(u,e.ye,this.Qe.it(),s,c))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,c=t.hashCount,l=void 0===c?0:c;try{n=Xw(o).toUint8Array()}catch(e){if(e instanceof Hw)return ab("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new PS(n,s,l)}catch(e){return ab(e instanceof RS?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.st(e,t.targetId)?0:2}},{key:"st",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.it(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"ot",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&n_(a.target)){var o=new Rb(a.target.path);null!==t.$e.get(o)||t._t(i,o)||t.je(i,o,Tx.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=M_();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new DS(e,n,this.We,this.$e,r);return this.$e=T_(),this.Ue=zS(),this.We=new zw(_b),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this._t(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ut(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this._t(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ut(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new VS,this.Ke.set(e,t)),t}},{key:"ut",value:function(e){var t=this.Ue.get(e);return t||(t=new qw(_b),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||rb("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.Ce?null:this.Qe.ct(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new VS),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"_t",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function zS(){return new zw(Rb.comparator)}function jS(){return new zw(Rb.comparator)}var BS={asc:"ASCENDING",desc:"DESCENDING"},qS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WS={and:"AND",or:"OR"},GS=g((function e(t,n){p(this,e),this.databaseId=t,this.useProto3Json=n}));function KS(e,t){return e.useProto3Json||aw(t)?t:{value:t}}function HS(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function QS(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $S(e,t){return HS(e,t.toTimestamp())}function YS(e){return sb(!!e),Tb.fromTimestamp(function(e){var t=Yw(e);return new Eb(t.seconds,t.nanos)}(e))}function JS(e,t){return function(e){return new Ab(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function XS(e){var t=Ab.fromString(e);return sb(wI(t)),t}function ZS(e,t){return JS(e.databaseId,t.path)}function eI(e,t){var n=XS(t);if(n.get(1)!==e.databaseId.projectId)throw new fb(lb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new fb(lb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rb(iI(n))}function tI(e,t){return JS(e.databaseId,t)}function nI(e){var t=XS(e);return 4===t.length?Ab.emptyPath():iI(t)}function rI(e){return new Ab(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iI(e){return sb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function aI(e,t,n){return{name:ZS(e,t),fields:n.value.mapValue.fields}}function oI(e,t,n){var r=eI(e,t.name),i=YS(t.updateTime),a=t.createTime?YS(t.createTime):Tb.min(),o=new Ix({mapValue:{fields:t.fields}}),u=Tx.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function uI(e,t){return"found"in t?function(e,t){sb(!!t.found),t.found.name,t.found.updateTime;var n=eI(e,t.found.name),r=YS(t.found.updateTime),i=t.found.createTime?YS(t.found.createTime):Tb.min(),a=new Ix({mapValue:{fields:t.found.fields}});return Tx.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){sb(!!t.missing),sb(!!t.readTime);var n=eI(e,t.missing),r=YS(t.readTime);return Tx.newNoDocument(n,r)}(e,t):ub()}function sI(e,t){var n;if(t instanceof lS)n={update:aI(e,t.key,t.value)};else if(t instanceof yS)n={delete:ZS(e,t.key)};else if(t instanceof fS)n={update:aI(e,t.key,t.data),updateMask:bI(t.fieldMask)};else{if(!(t instanceof gS))return ub();n={verify:ZS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof K_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof H_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof J_)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw ub()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$S(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ub()}(e,t.precondition)),n}function cI(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?nS.updateTime(YS(e.updateTime)):void 0!==e.exists?nS.exists(e.exists):nS.none()}(t.currentDocument):nS.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)sb("REQUEST_TIME"===t.setToServerValue),n=new K_;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new H_(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new $_(i)}else"increment"in t?n=new J_(e,t.increment):ub();var a=Pb.fromServerFormat(t.fieldPath);return new eS(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=eI(e,t.update.name),a=new Ix({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Kw(t.map((function(e){return Pb.fromServerFormat(e)})))}(t.updateMask);return new fS(i,a,o,n,r)}return new lS(i,a,n,r)}if(t.delete){var u=eI(e,t.delete);return new yS(u,n)}if(t.verify){var s=eI(e,t.verify);return new gS(s,n)}return ub()}function lI(e,t){return{documents:[tI(e,t.path)]}}function fI(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=tI(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=tI(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return kI(Lx.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:yI(e.field),direction:pI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=KS(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function hI(e){var t=nI(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){sb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=dI(e);return t instanceof Lx&&Vx(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new Px(gI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return aw(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Cx(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Cx(n,t)}(n.endAt)),u_(t,i,u,o,s,"F",c,l)}function dI(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=gI(e.unaryFilter.field);return Ox.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=gI(e.unaryFilter.field);return Ox.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gI(e.unaryFilter.field);return Ox.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gI(e.unaryFilter.field);return Ox.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ub()}}(e):void 0!==e.fieldFilter?function(e){return Ox.create(gI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ub()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Lx.create(e.compositeFilter.filters.map((function(e){return dI(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ub()}}(e.compositeFilter.op))}(e):ub()}function pI(e){return BS[e]}function vI(e){return qS[e]}function mI(e){return WS[e]}function yI(e){return{fieldPath:e.canonicalString()}}function gI(e){return Pb.fromServerFormat(e.fieldPath)}function kI(e){return e instanceof Ox?function(e){if("=="===e.op){if(yx(e.value))return{unaryFilter:{field:yI(e.field),op:"IS_NAN"}};if(mx(e.value))return{unaryFilter:{field:yI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yx(e.value))return{unaryFilter:{field:yI(e.field),op:"IS_NOT_NAN"}};if(mx(e.value))return{unaryFilter:{field:yI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yI(e.field),op:vI(e.op),value:e.value}}}(e):e instanceof Lx?function(e){var t=e.getFilters().map((function(e){return kI(e)}));return 1===t.length?t[0]:{compositeFilter:{op:mI(e.op),filters:t}}}(e):ub()}function bI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function wI(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var xI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Tb.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Tb.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Qw.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),_I=g((function e(t){p(this,e),this.lt=t}));function SI(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:II(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ZS(e,t.key),fields:t.data.value.mapValue.fields,updateTime:HS(e,t.version.toTimestamp()),createTime:HS(e,t.createTime.toTimestamp())}}(e.lt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:EI(t.version)};else{if(!t.isUnknownDocument())return ub();r.unknownDocument={path:n.path.toArray(),version:EI(t.version)}}return r}function II(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function EI(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function TI(e){var t=new Eb(e.seconds,e.nanoseconds);return Tb.fromTimestamp(t)}function CI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return cI(e.lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return cI(e.lt,t)})),u=Eb.fromMillis(t.localWriteTimeMs);return new kS(t.batchId,u,n,o)}function AI(e){var t,n=TI(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?TI(e.lastLimboFreeSnapshotVersion):Tb.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return sb(1===e.documents.length),p_(s_(nI(e.documents[0])))}(e.query):function(e){return p_(hI(e))}(e.query),new xI(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,Qw.fromBase64String(e.resumeToken))}function NI(e,t){var n,r=EI(t.snapshotVersion),i=EI(t.lastLimboFreeSnapshotVersion);n=n_(t.target)?lI(e.lt,t.target):fI(e.lt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:e_(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function PI(e){var t=hI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?y_(t,t.limit,"L"):t}function RI(e,t){return new wS(t.largestBatchId,cI(e.lt,t.overlayMutation))}function DI(e,t){var n=t.path.lastSegment();return[e,sw(t.path.popLast()),n]}function OI(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:EI(r.readTime),documentKey:sw(r.documentKey.path),largestBatchId:r.largestBatchId}}var LI=function(){function e(){p(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return MI(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:TI(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return MI(e).put(function(e){return{bundleId:e.id,createTime:EI(YS(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return FI(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:PI(e.bundledQuery),readTime:TI(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return FI(e).put(function(e){return{name:e.name,readTime:EI(YS(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function MI(e){return Mw(e,"bundles")}function FI(e){return Mw(e,"namedQueries")}var VI=function(){function e(t,n){p(this,e),this.serializer=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return UI(e).get(DI(this.userId,t)).next((function(e){return e?RI(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=P_();return Kb.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new wS(t,a);i.push(r.Pt(e,o))})),Kb.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(sw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(UI(e).J("collectionPathOverlayIndex",i))})),Kb.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=P_(),a=sw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return UI(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=RI(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=P_(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return UI(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=RI(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Pt",value:function(e,t){return UI(e).put(function(e,t,n){var r=f(DI(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:sI(e.lt,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ht",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function UI(e){return Mw(e,"documentOverlays")}var zI=function(){function e(){p(this,e)}return g(e,[{key:"It",value:function(e,t){this.Tt(e,t),t.Et()}},{key:"Tt",value:function(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Jw(e.integerValue));else if("doubleValue"in e){var n=Jw(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),ow(n)?t.At(0):t.At(n))}else if("timestampValue"in e){var r=e.timestampValue;this.dt(t,20),"string"==typeof r?t.Rt(r):(t.Rt("".concat(r.seconds||"")),t.At(r.nanos||0))}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Xw(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?bx(e)?this.dt(t,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.St(e.arrayValue,t),this.ft(t)):ub()}},{key:"Vt",value:function(e,t){this.dt(t,25),this.bt(e,t)}},{key:"bt",value:function(e,t){t.Rt(e)}},{key:"wt",value:function(e,t){var n=e.fields||{};this.dt(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Vt(a,t),this.Tt(n[a],t)}}},{key:"St",value:function(e,t){var n=e.values||[];this.dt(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Tt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"yt",value:function(e,t){var n=this;this.dt(t,37),Rb.fromName(e).path.forEach((function(e){n.dt(t,60),n.bt(e,t)}))}},{key:"dt",value:function(e,t){e.At(t)}},{key:"ft",value:function(e){e.At(2)}}]),e}();function jI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function BI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=jI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}zI.Dt=new zI;var qI=function(){function e(){p(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ct(n.value),n=t.next();this.Ft()}},{key:"Mt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.xt(n.value),n=t.next();this.Ot()}},{key:"Nt",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{var a=r.codePointAt(0);this.Ct(240|a>>>18),this.Ct(128|63&a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ft()}},{key:"Bt",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.xt(i);else if(i<2048)this.xt(960|i>>>6),this.xt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.xt(480|i>>>12),this.xt(128|63&i>>>6),this.xt(128|63&i);else{var a=r.codePointAt(0);this.xt(240|a>>>18),this.xt(128|63&a>>>12),this.xt(128|63&a>>>6),this.xt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ot()}},{key:"Lt",value:function(e){var t=this.kt(e),n=BI(t);this.qt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Qt",value:function(e){var t=this.kt(e),n=BI(t);this.qt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Kt",value:function(){this.$t(255),this.$t(255)}},{key:"Ut",value:function(){this.Wt(255),this.Wt(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Gt",value:function(){return this.buffer.slice(0,this.position)}},{key:"kt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ct",value:function(e){var t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(t)}},{key:"xt",value:function(e){var t=255&e;0===t?(this.Wt(0),this.Wt(255)):255===t?(this.Wt(255),this.Wt(0)):this.Wt(e)}},{key:"Ft",value:function(){this.$t(0),this.$t(1)}},{key:"Ot",value:function(){this.Wt(0),this.Wt(1)}},{key:"$t",value:function(e){this.qt(1),this.buffer[this.position++]=e}},{key:"Wt",value:function(e){this.qt(1),this.buffer[this.position++]=~e}},{key:"qt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),WI=function(){function e(t){p(this,e),this.zt=t}return g(e,[{key:"gt",value:function(e){this.zt.vt(e)}},{key:"Rt",value:function(e){this.zt.Nt(e)}},{key:"At",value:function(e){this.zt.Lt(e)}},{key:"Et",value:function(){this.zt.Kt()}}]),e}(),GI=function(){function e(t){p(this,e),this.zt=t}return g(e,[{key:"gt",value:function(e){this.zt.Mt(e)}},{key:"Rt",value:function(e){this.zt.Bt(e)}},{key:"At",value:function(e){this.zt.Qt(e)}},{key:"Et",value:function(){this.zt.Ut()}}]),e}(),KI=function(){function e(){p(this,e),this.zt=new qI,this.jt=new WI(this.zt),this.Ht=new GI(this.zt)}return g(e,[{key:"seed",value:function(e){this.zt.seed(e)}},{key:"Jt",value:function(e){return 0===e?this.jt:this.Ht}},{key:"Gt",value:function(){return this.zt.Gt()}},{key:"reset",value:function(){this.zt.reset()}}]),e}(),HI=function(){function e(t,n,r,i){p(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Yt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function QI(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=$I(e.arrayValue,t.arrayValue))?n:0!==(n=$I(e.directionalValue,t.directionalValue))?n:Rb.comparator(e.documentKey,t.documentKey)}function $I(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var YI=function(){function e(t){p(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.en=i:this.Xt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"tn",value:function(e){sb(e.collectionGroup===this.collectionId);var t=Ob(e);if(void 0!==t&&!this.nn(t))return!1;for(var n=Lb(e),r=new Set,i=0,a=0;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.en){if(!r.has(this.en.field.canonicalString())){var o=n[i];if(!this.rn(this.en,o)||!this.sn(this.Zt[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Zt.length||!this.sn(this.Zt[a++],u))return!1}return!0}},{key:"nn",value:function(e){var t,n=C(this.Xt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.rn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"rn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function JI(e){var t,n;if(sb(e instanceof Ox||e instanceof Lx),e instanceof Ox){if(e instanceof $x){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Ox.create(e.field,"==",t)})))||[];return Lx.create(r,"or")}return e}var i=e.filters.map((function(e){return JI(e)}));return Lx.create(i,e.op)}function XI(e){if(0===e.getFilters().length)return[];var t=nE(JI(e));return sb(tE(t)),ZI(t)||eE(t)?[t]:t.getFilters()}function ZI(e){return e instanceof Ox}function eE(e){return e instanceof Lx&&Vx(e)}function tE(e){return ZI(e)||eE(e)||function(e){if(e instanceof Lx&&Fx(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!ZI(r)&&!eE(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function nE(e){if(sb(e instanceof Ox||e instanceof Lx),e instanceof Ox)return e;if(1===e.filters.length)return nE(e.filters[0]);var t=e.filters.map((function(e){return nE(e)})),n=Lx.create(t,e.op);return tE(n=aE(n))?n:(sb(n instanceof Lx),sb(Mx(n)),sb(n.filters.length>1),n.filters.reduce((function(e,t){return rE(e,t)})))}function rE(e,t){var n;return sb(e instanceof Ox||e instanceof Lx),sb(t instanceof Ox||t instanceof Lx),n=e instanceof Ox?t instanceof Ox?function(e,t){return Lx.create([e,t],"and")}(e,t):iE(e,t):t instanceof Ox?iE(t,e):function(e,t){if(sb(e.filters.length>0&&t.filters.length>0),Mx(e)&&Mx(t))return Bx(e,t.getFilters());var n=Fx(e)?e:t,r=Fx(e)?t:e,i=n.filters.map((function(e){return rE(e,r)}));return Lx.create(i,"or")}(e,t),aE(n)}function iE(e,t){if(Mx(t))return Bx(t,e.getFilters());var n=t.filters.map((function(t){return rE(e,t)}));return Lx.create(n,"or")}function aE(e){if(sb(e instanceof Ox||e instanceof Lx),e instanceof Ox)return e;var t=e.getFilters();if(1===t.length)return aE(t[0]);if(Ux(e))return e;var n=t.map((function(e){return aE(e)})),r=[];return n.forEach((function(t){t instanceof Ox?r.push(t):t instanceof Lx&&(t.op===e.op?r.push.apply(r,d(t.filters)):r.push(t))})),1===r.length?r[0]:Lx.create(r,e.op)}var oE=function(){function e(){p(this,e),this.on=new uE}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.on.add(t),Kb.resolve()}},{key:"getCollectionParents",value:function(e,t){return Kb.resolve(this.on.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Kb.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Kb.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Kb.resolve(null)}},{key:"getIndexType",value:function(e,t){return Kb.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Kb.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Kb.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Kb.resolve(zb.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Kb.resolve(zb.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Kb.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Kb.resolve()}}]),e}(),uE=function(){function e(){p(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qw(Ab.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new qw(Ab.comparator)).toArray()}}]),e}(),sE=new Uint8Array(0),cE=function(){function e(t,n){p(this,e),this.user=t,this.databaseId=n,this._n=new uE,this.an=new I_((function(e){return e_(e)}),(function(e,t){return t_(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this._n.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n._n.add(t)}));var a={collectionId:r,parent:sw(i)};return lE(e).put(a)}return Kb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ib(t),""],!1,!0);return lE(e).G(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(fw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=hE(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=dE(e);return a.next((function(e){o.put(OI(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=hE(e),r=dE(e),i=fE(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=fE(e),i=!0,a=new Map;return Kb.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=M_(),o=[];return Kb.forEach(a,(function(i,a){rb("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(e_(t)));var u=function(e,t){var n=Ob(t);if(void 0===n)return null;var r,i=C(r_(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=C(Lb(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=C(r_(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=C(Lb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?i_(e,o.fieldPath,e.startAt):a_(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Cx(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(Lb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?a_(e,o.fieldPath,e.endAt):i_(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Cx(r,i)}(a,i),f=n.ln(i,a,c),h=n.ln(i,a,l),d=n.hn(i,a,s),p=n.Pn(i.indexId,u,f,c.inclusive,h,l.inclusive,d);return Kb.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Rb.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Kb.resolve(null)}))}},{key:"un",value:function(e){var t=this.an.get(e);return t||(t=0===e.filters.length?[e]:XI(Lx.create(e.filters,"and")).map((function(t){return Zx(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.an.set(e,t),t)}},{key:"Pn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.In(t[h/c]):sE,f=u.Tn(e,s,n[h%c],r),p=u.En(e,s,i[h%c],a),v=o.map((function(t){return u.Tn(e,s,t,!0)}));l.push.apply(l,d(u.createRange(f,p,v)))},h=0;h<s;++h)f();return l}},{key:"Tn",value:function(e,t,n,r){var i=new HI(e,Rb.empty(),t,n);return r?i:i.Yt()}},{key:"En",value:function(e,t,n,r){var i=new HI(e,Rb.empty(),t,n);return r?i.Yt():i}},{key:"cn",value:function(e,t){var n=new YI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return Kb.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new qw(Pb.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=C(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"dn",value:function(e,t){var n,r=new KI,i=C(Lb(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Jt(a.kind);zI.Dt.It(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Gt()}},{key:"In",value:function(e){var t=new KI;return zI.Dt.It(e,t.Jt(0)),t.Gt()}},{key:"An",value:function(e,t){var n=new KI;return zI.Dt.It(dx(this.databaseId,t),n.Jt(function(e){var t=Lb(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Gt()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new KI);var i,a=0,o=C(Lb(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=C(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.Rn(t,s.fieldPath)&&vx(c))r=this.Vn(r,s,c);else{var h=f.Jt(s.kind);zI.Dt.It(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.mn(r)}},{key:"ln",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"mn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Gt();return t}},{key:"Vn",value:function(e,t,n){var r,i=d(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=C(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new KI;f.seed(l.Gt()),zI.Dt.It(s,f.Jt(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"Rn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ox&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=hE(e),i=dE(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return Kb.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Fb(t.sequenceNumber,new zb(TI(t.readTime),new Rb(fw(t.documentKey)),t.largestBatchId)):Fb.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new Mb(Pb.fromServerFormat(n),r)}));return new Db(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:_b(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=hE(e),a=dE(e);return this.fn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Kb.forEach(t,(function(t){return a.put(OI(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Kb.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Kb.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Kb.forEach(a,(function(r){return n.gn(e,t,r).next((function(t){var a=n.pn(i,r);return t.isEqual(a)?Kb.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return fE(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Sn",value:function(e,t,n,r){return fE(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}},{key:"gn",value:function(e,t,n){var r=fE(e),i=new qw(QI);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},(function(e,r){i=i.add(new HI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"pn",value:function(e,t){var n=new qw(QI),r=this.dn(t,e);if(null==r)return n;var i=Ob(t);if(null!=i){var a=e.data.field(i.fieldPath);if(vx(a)){var o,u=C(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new HI(t.indexId,e.key,this.In(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new HI(t.indexId,e.key,sE,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;rb("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Gw(a),s=Gw(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Gw(o)):l?(i(u),u=Gw(a)):(u=Gw(a),s=Gw(o))}}(r,i,QI,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.Sn(e,t,n,r))})),Kb.waitFor(o)}},{key:"fn",value:function(e){var t=1;return dE(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return QI(e,t)})).filter((function(e,t,n){return!t||0!==QI(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=QI(o,e),s=QI(o,t);if(0===u)r[0]=e.Yt();else if(u>0&&s<0)r.push(o),r.push(o.Yt());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,sE,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,sE,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return QI(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(pE)}},{key:"getMinOffset",value:function(e,t){var n=this;return Kb.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||ub()}))})).next(pE)}}]),e}();function lE(e){return Mw(e,"collectionParents")}function fE(e){return Mw(e,"indexEntries")}function hE(e){return Mw(e,"indexConfiguration")}function dE(e){return Mw(e,"indexState")}function pE(e){sb(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;jb(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new zb(t.readTime,t.documentKey,n)}var vE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mE=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function yE(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){sb(1===u)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=pw(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Kb.waitFor(a).next((function(){return l}))}function gE(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ub();t=e.noDocument}return JSON.stringify(t).length}mE.DEFAULT_COLLECTION_PERCENTILE=10,mE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mE.DEFAULT=new mE(41943040,mE.DEFAULT_COLLECTION_PERCENTILE,mE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mE.DISABLED=new mE(-1,0,0);var kE=function(){function e(t,n,r,i){p(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wE(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=xE(e),o=wE(e);return o.add({}).next((function(u){sb("number"==typeof u);var s,c=new kS(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return sI(e.lt,t)})),i=n.mutations.map((function(t){return sI(e.lt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new qw((function(e,t){return _b(e.canonicalString(),t.canonicalString())})),d=C(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=pw(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,vw))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Dn[u]=c.keys()})),Kb.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return wE(e).get(t).next((function(e){return e?(sb(e.userId===n.userId),CI(n.serializer,e)):null}))}},{key:"vn",value:function(e,t){var n=this;return this.Dn[t]?Kb.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Dn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return wE(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(sb(t.batchId>=r),a=CI(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wE(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wE(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return CI(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=dw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return xE(e).Z({range:i},(function(r,i,o){var u=f(r,3),s=u[0],c=u[1],l=u[2],h=fw(c);if(s===n.userId&&t.path.isEqual(h))return wE(e).get(l).next((function(e){if(!e)throw ub();sb(e.userId===n.userId),a.push(CI(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qw(_b),i=[];return t.forEach((function(t){var a=dw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=xE(e).Z({range:o},(function(e,i,a){var o=f(e,3),u=o[0],s=o[1],c=o[2],l=fw(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Kb.waitFor(i).next((function(){return n.Cn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=dw(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new qw(_b);return xE(e).Z({range:o},(function(e,t,a){var o=f(e,3),s=o[0],c=o[1],l=o[2],h=fw(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Cn(e,u)}))}},{key:"Cn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(wE(e).get(t).next((function(e){if(null===e)throw ub();sb(e.userId===n.userId),r.push(CI(n.serializer,e))})))})),Kb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return yE(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Fn(t.batchId)})),Kb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Fn",value:function(e){delete this.Dn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Kb.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return xE(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=fw(e[1]);i.push(a)}else r.done()})).next((function(){sb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return bE(e,this.userId,t)}},{key:"Mn",value:function(e){var t=this;return _E(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ht",value:function(t,n,r,i){return sb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function bE(e,t,n){var r=dw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return xE(e).Z({range:a,Y:!0},(function(e,n,r){var a=f(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function wE(e){return Mw(e,"mutations")}function xE(e){return Mw(e,"documentMutations")}function _E(e){return Mw(e,"mutationQueues")}var SE=function(){function e(t){p(this,e),this.xn=t}return g(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"On",value:function(){return new e(0)}},{key:"Nn",value:function(){return new e(-1)}}]),e}(),IE=function(){function e(t,n){p(this,e),this.referenceDelegate=t,this.serializer=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Bn(e).next((function(n){var r=new SE(n.highestTargetId);return n.highestTargetId=r.next(),t.Ln(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Bn(e).next((function(e){return Tb.fromTimestamp(new Eb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ln(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.kn(e,t).next((function(){return n.Bn(e).next((function(r){return r.targetCount+=1,n.qn(t,r),n.Ln(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.kn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return EE(e).delete(t.targetId)})).next((function(){return n.Bn(e)})).next((function(t){return sb(t.targetCount>0),t.targetCount-=1,n.Ln(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return EE(e).Z((function(o,u){var s=AI(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Kb.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return EE(e).Z((function(e,n){var r=AI(n);t(r)}))}},{key:"Bn",value:function(e){return TE(e).get("targetGlobalKey").next((function(e){return sb(null!==e),e}))}},{key:"Ln",value:function(e,t){return TE(e).put("targetGlobalKey",t)}},{key:"kn",value:function(e,t){return EE(e).put(NI(this.serializer,t))}},{key:"qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=e_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return EE(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=AI(n);t_(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=CE(e);return t.forEach((function(t){var o=sw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Kb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=CE(e);return Kb.forEach(t,(function(t){var a=sw(t.path);return Kb.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=CE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=CE(e),i=M_();return r.Z({range:n,Y:!0},(function(e,t,n){var r=fw(e[1]),a=new Rb(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=sw(t.path),r=IDBKeyRange.bound([n],[Ib(n)],!1,!0),i=0;return CE(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ct",value:function(e,t){return EE(e).get(t).next((function(e){return e?AI(e):null}))}}]),e}();function EE(e){return Mw(e,"targets")}function TE(e){return Mw(e,"targetGlobal")}function CE(e){return Mw(e,"targetDocuments")}function AE(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],u=a[1],s=_b(r,o);return 0===s?_b(i,u):s}var NE=function(){function e(t){p(this,e),this.Qn=t,this.buffer=new qw(AE),this.Kn=0}return g(e,[{key:"$n",value:function(){return++this.Kn}},{key:"Un",value:function(e){var t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();AE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),PE=function(){function e(t,n,r){p(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Wn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}},{key:"started",get:function(){return null!==this.Wn}},{key:"Gn",value:function(e){var t=this;rb("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Wn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Jb(e.t0)){e.next=12;break}rb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Wb(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),RE=function(){function e(t,n){p(this,e),this.zn=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.zn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Kb.resolve(iw.ae);var r=new NE(t);return this.zn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.zn.Hn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.zn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.zn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(rb("LruGarbageCollector","Garbage collection skipped; disabled"),Kb.resolve(vE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(rb("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),vE):n.Jn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.zn.getCacheSize(e)}},{key:"Jn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(rb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),nb()<=Ho.DEBUG&&rb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Kb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function DE(e,t){return new RE(e,t)}var OE=function(){function e(t,n){p(this,e),this.db=t,this.garbageCollector=DE(this,n)}return g(e,[{key:"jn",value:function(e){var t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Yn",value:function(e){var t=0;return this.Hn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Hn",value:function(e,t){return this.Zn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return LE(e,n)}},{key:"removeReference",value:function(e,t,n){return LE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return LE(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return _E(e).X((function(r){return bE(e,r,t).next((function(e){return e&&(n=!0),Kb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Zn(e,(function(o,u){if(u<=t){var s=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Tb.min()),CE(e).delete(function(e){return[0,sw(e.path)]}(o))}))}));i.push(s)}})).next((function(){return Kb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return LE(e,t)}},{key:"Zn",value:function(e,t){var n,r=CE(e),i=iw.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==iw.ae&&t(new Rb(fw(n)),i),i=s,n=u):i=iw.ae})).next((function(){i!==iw.ae&&t(new Rb(fw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function LE(e,t){return CE(e).put(function(e,t){return{targetId:0,path:sw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var ME=function(){function e(){p(this,e),this.changes=new I_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Tx.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Kb.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),FE=function(){function e(t){p(this,e),this.serializer=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return jE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return jE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],II(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.er(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Tx.newInvalidDocument(t);return jE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(BE(t))},(function(e,i){r=n.tr(t,i)})).next((function(){return r}))}},{key:"nr",value:function(e,t){var n=this,r={size:0,document:Tx.newInvalidDocument(t)};return jE(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(BE(t))},(function(e,i){r={document:n.tr(t,i),size:gE(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=T_();return this.rr(e,t,(function(e,t){var i=n.tr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r=T_(),i=new zw(Rb.comparator);return this.rr(e,t,(function(e,t){var a=n.tr(e,t);r=r.insert(e,a),i=i.insert(e,gE(t))})).next((function(){return{documents:r,sr:i}}))}},{key:"rr",value:function(e,t,n){if(t.isEmpty())return Kb.resolve();var r=new qw(WE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(BE(r.first()),BE(r.last())),a=r.getIterator(),o=a.getNext();return jE(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Rb.fromSegments([].concat(d(t.prefixPath),[t.collectionGroup,t.documentId]));o&&WE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(BE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),II(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jE(e).G(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=T_(),o=C(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.tr(Rb.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(w_(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=T_(),o=qE(t,n),u=qE(t,zb.max());return jE(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.tr(Rb.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new UE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return zE(e).get("remoteDocumentGlobalKey").next((function(e){return sb(!!e),e}))}},{key:"er",value:function(e,t){return zE(e).put("remoteDocumentGlobalKey",t)}},{key:"tr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=oI(e.lt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Rb.fromSegments(t.noDocument.path),i=TI(t.noDocument.readTime);n=Tx.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ub();var a=Rb.fromSegments(t.unknownDocument.path),o=TI(t.unknownDocument.version);n=Tx.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Eb(e[0],e[1]);return Tb.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Tb.min()))return n}return Tx.newInvalidDocument(e)}}]),e}();function VE(e){return new FE(e)}var UE=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._r=e,i.trackRemovals=r,i.ar=new I_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new qw((function(e,t){return _b(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ar.get(a);if(n.push(t._r.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=SI(t._r.serializer,o);i=i.add(a.path.popLast());var c=gE(s);r+=c-u.size,n.push(t._r.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=SI(t._r.serializer,o.convertToNoDocument(Tb.min()));n.push(t._r.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t._r.indexManager.addToCollectionParentIndex(e,r))})),n.push(this._r.updateMetadata(e,r)),Kb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this._r.nr(e,t).next((function(e){return n.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this._r.ir(e,t).next((function(e){var t=e.documents;return e.sr.forEach((function(e,r){n.ar.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(ME);function zE(e){return Mw(e,"remoteDocumentGlobal")}function jE(e){return Mw(e,"remoteDocumentsV14")}function BE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function qE(e,t){var n=t.documentKey.path.toArray();return[e,II(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function WE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=_b(n[a],r[a]))return i;return(i=_b(n.length,r.length))||((i=_b(n[n.length-2],r[r.length-2]))||_b(n[n.length-1],r[r.length-1]))}var GE=g((function e(t,n){p(this,e),this.overlayedDocument=t,this.mutatedFields=n})),KE=function(){function e(t,n,r,i){p(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&uS(r.mutation,e,Kw.empty(),Eb.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,M_()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M_(),i=P_();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=A_();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=P_();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,M_())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=T_(),a=D_(),o=D_();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof fS)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),uS(o.mutation,t,o.mutation.getFieldMask(),Eb.now())):a.set(t.key,Kw.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new GE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=D_(),i=new zw((function(e,t){return e-t})),a=M_();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Kw.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||M_()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=R_();c.forEach((function(e){if(!a.has(e)){var n=aS(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Kb.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Rb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):h_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Kb.resolve(P_()),u=-1,s=a;return o.next((function(t){return Kb.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Kb.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,M_())})).next((function(e){return{batchId:u,changes:N_(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Rb(t)).next((function(e){var t=A_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=A_();return this.indexManager.getCollectionParents(e,i).next((function(o){return Kb.forEach(o,(function(o){var u=function(e,t){return new o_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Tx.newInvalidDocument(r)))}));var n=A_();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&uS(a.mutation,i,Kw.empty(),Eb.now()),w_(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),HE=function(){function e(t){p(this,e),this.serializer=t,this.ur=new Map,this.cr=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return Kb.resolve(this.ur.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:YS(e.createTime)}}(t)),Kb.resolve()}},{key:"getNamedQuery",value:function(e,t){return Kb.resolve(this.cr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:PI(e.bundledQuery),readTime:YS(e.readTime)}}(t)),Kb.resolve()}}]),e}(),QE=function(){function e(){p(this,e),this.overlays=new zw(Rb.comparator),this.lr=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return Kb.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=P_();return Kb.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Pt(e,t,i)})),Kb.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.lr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.lr.delete(n)),Kb.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=P_(),i=t.length+1,a=new Rb(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Kb.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new zw((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=P_(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=P_(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Kb.resolve(s)}},{key:"Pt",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new wS(t,n));var a=this.lr.get(t);void 0===a&&(a=M_(),this.lr.set(t,a)),this.lr.set(t,a.add(n.key))}}]),e}(),$E=function(){function e(){p(this,e),this.hr=new qw(YE.Pr),this.Ir=new qw(YE.Tr)}return g(e,[{key:"isEmpty",value:function(){return this.hr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new YE(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}},{key:"Er",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.dr(new YE(e,t))}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Rr",value:function(e){var t=this,n=new Rb(new Ab([])),r=new YE(n,e),i=new YE(n,e+1),a=[];return this.Ir.forEachInRange([r,i],(function(e){t.dr(e),a.push(e.key)})),a}},{key:"Vr",value:function(){var e=this;this.hr.forEach((function(t){return e.dr(t)}))}},{key:"dr",value:function(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}},{key:"mr",value:function(e){var t=new Rb(new Ab([])),n=new YE(t,e),r=new YE(t,e+1),i=M_();return this.Ir.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new YE(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),YE=function(){function e(t,n){p(this,e),this.key=t,this.gr=n}return g(e,null,[{key:"Pr",value:function(e,t){return Rb.comparator(e.key,t.key)||_b(e.gr,t.gr)}},{key:"Tr",value:function(e,t){return _b(e.gr,t.gr)||Rb.comparator(e.key,t.key)}}]),e}(),JE=function(){function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new qw(YE.Pr)}return g(e,[{key:"checkEmpty",value:function(e){return Kb.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new kS(i,t,n,r);this.mutationQueue.push(a);var o,u=C(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.yr=this.yr.add(new YE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Kb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Kb.resolve(this.wr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Sr(n),i=r<0?0:r;return Kb.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Kb.resolve(0===this.mutationQueue.length?-1:this.pr-1)}},{key:"getAllMutationBatches",value:function(e){return Kb.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new YE(t,0),i=new YE(t,Number.POSITIVE_INFINITY),a=[];return this.yr.forEachInRange([r,i],(function(e){var t=n.wr(e.gr);a.push(t)})),Kb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qw(_b);return t.forEach((function(e){var t=new YE(e,0),i=new YE(e,Number.POSITIVE_INFINITY);n.yr.forEachInRange([t,i],(function(e){r=r.add(e.gr)}))})),Kb.resolve(this.br(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Rb.isDocumentKey(i)||(i=i.child(""));var a=new YE(new Rb(i),0),o=new qw(_b);return this.yr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),a),Kb.resolve(this.br(o))}},{key:"br",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.wr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;sb(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.yr;return Kb.forEach(t.mutations,(function(i){var a=new YE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.yr=r}))}},{key:"Fn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new YE(t,0),r=this.yr.firstAfterOrEqual(n);return Kb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Kb.resolve()}},{key:"Dr",value:function(e,t){return this.Sr(e)}},{key:"Sr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"wr",value:function(e){var t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),XE=function(){function e(t){p(this,e),this.vr=t,this.docs=new zw(Rb.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Kb.resolve(n?n.document.mutableCopy():Tx.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=T_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Tx.newInvalidDocument(e))})),Kb.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=T_(),a=t.path,o=new Rb(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||jb(Ub(l),n)<=0||(r.has(l.key)||w_(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Kb.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ub()}},{key:"Cr",value:function(e,t){return Kb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ZE(this)}},{key:"getSize",value:function(e){return Kb.resolve(this.size)}}]),e}(),ZE=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this))._r=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t._r.addEntry(e,i)):t._r.removeEntry(r)})),Kb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this._r.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this._r.getEntries(e,t)}}]),n}(ME),eT=function(){function e(t){p(this,e),this.persistence=t,this.Fr=new I_((function(e){return e_(e)}),t_),this.lastRemoteSnapshotVersion=Tb.min(),this.highestTargetId=0,this.Mr=0,this.Or=new $E,this.targetCount=0,this.Nr=SE.On()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.Fr.forEach((function(e,n){return t(n)})),Kb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Kb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Kb.resolve(this.Mr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Nr.next(),Kb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Kb.resolve()}},{key:"kn",value:function(e){this.Fr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Nr=new SE(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.kn(t),this.targetCount+=1,Kb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.kn(t),Kb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Kb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Kb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Kb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fr.get(t)||null;return Kb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Or.Er(t,n),Kb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Or.Ar(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Kb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Or.Rr(t),Kb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Or.mr(t);return Kb.resolve(n)}},{key:"containsKey",value:function(e,t){return Kb.resolve(this.Or.containsKey(t))}}]),e}(),tT=function(){function e(t,n){var r=this;p(this,e),this.Br={},this.overlays={},this.Lr=new iw(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new eT(this),this.indexManager=new oE,this.remoteDocumentCache=function(e){return new XE(e)}((function(e){return r.referenceDelegate.Qr(e)})),this.serializer=new _I(n),this.Kr=new HE(this.serializer)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new QE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new JE(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;rb("MemoryPersistence","Starting transaction:",e);var i=new nT(this.Lr.next());return this.referenceDelegate.$r(),n(i).next((function(e){return r.referenceDelegate.Ur(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Wr",value:function(e,t){return Kb.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),nT=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(qb),rT=function(){function e(t){p(this,e),this.persistence=t,this.Gr=new $E,this.zr=null}return g(e,[{key:"Hr",get:function(){if(this.zr)return this.zr;throw ub()}},{key:"addReference",value:function(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Kb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Kb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hr.add(t.toString()),Kb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gr.Rr(t.targetId).forEach((function(e){return n.Hr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"$r",value:function(){this.zr=new Set}},{key:"Ur",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kb.forEach(this.Hr,(function(r){var i=Rb.fromPath(r);return t.Jr(e,i).next((function(e){e||n.removeEntry(i,Tb.min())}))})).next((function(){return t.zr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Jr(e,t).next((function(e){e?n.Hr.delete(t.toString()):n.Hr.add(t.toString())}))}},{key:"Qr",value:function(e){return 0}},{key:"Jr",value:function(e,t){var n=this;return Kb.or([function(){return Kb.resolve(n.Gr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Wr(e,t)}])}}],[{key:"jr",value:function(t){return new e(t)}}]),e}(),iT=function(){function e(t){p(this,e),this.serializer=t}return g(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new Hb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hw,{unique:!0}),e.createObjectStore("documentMutations")}(e),aT(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Kb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),aT(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tb.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Kb.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Zr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ei(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ni(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Tw});t.createIndex("collectionPathOverlayIndex",Cw,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Aw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:mw});t.createIndex("documentKeyIndex",yw),t.createIndex("collectionGroupIndex",gw)}(e)})).next((function(){return i.ri(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ii(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:_w}).createIndex("sequenceNumberIndex",Sw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Iw}).createIndex("documentKeyIndex",Ew,{unique:!1})}(e)}))),o}},{key:"Xr",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=gE(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Zr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return Kb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return Kb.forEach(r,(function(r){sb(r.userId===n.userId);var i=CI(t.serializer,r);return yE(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ei",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Ab(n),o=function(e){return[0,sw(e)]}(a);r.push(t.get(o).next((function(n){return n?Kb.resolve():function(n){return t.put({targetId:0,path:sw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Kb.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:xw});var n=t.store("collectionParents"),r=new uE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:sw(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new Ab(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],fw(r));return i(a.popLast())}))}))}},{key:"ni",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=AI(r),a=NI(t.serializer,i);return n.put(a)}))}},{key:"ri",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Rb(Ab.fromString(e.document.name).popFirst(5)):e.noDocument?Rb.fromSegments(e.noDocument.path):e.unknownDocument?Rb.fromSegments(e.unknownDocument.path):ub()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Kb.waitFor(r)}))}},{key:"ii",value:function(e,t){var n=this,r=t.store("mutations"),i=VE(this.serializer),a=new tT(rT.jr,this.serializer.lt);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:M_();CI(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Kb.forEach(r,(function(e,r){var o=new Zk(r),u=VI.ht(n.serializer,o),s=a.getIndexManager(o),c=kE.ht(o,n.serializer,s,a.referenceDelegate);return new KE(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Lw(t,iw.ae),e).next()}))}))}}]),e}();function aT(e){e.createObjectStore("targetDocuments",{keyPath:bw}).createIndex("documentTargetsIndex",ww,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kw,{unique:!0}),e.createObjectStore("targetGlobal")}var oT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uT=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(p(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=u,this.oi=c,this._i=l,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=function(e){return Promise.resolve()},!e.v())throw new fb(lb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new OE(this,i),this.Ii=n+"main",this.serializer=new _I(s),this.Ti=new Qb(this.Ii,this.ai,new iT(this.serializer)),this.qr=new IE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=VE(this.serializer),this.Kr=new LI,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&ib("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.di().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new fb(lb.FAILED_PRECONDITION,oT);return e.Ai(),e.Ri(),e.Vi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qr.getHighestSequenceNumber(t)}))})).then((function(t){e.Lr=new iw(t,e.oi)})).then((function(){e.kr=!0})).catch((function(t){return e.Ti&&e.Ti.close(),Promise.reject(t)}))}},{key:"mi",value:function(e){var t=this;return this.Pi=function(){var n=lo(so().mark((function n(r){return so().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ti.k(function(){var t=lo(so().mark((function t(n){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.di();case 4:case"end":return e.stop()}}),e)})))))}},{key:"di",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return cT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.Pi(!1)})))}))})).next((function(){return e.gi(t)})).next((function(n){return e.isPrimary&&!n?e.pi(t).next((function(){return!1})):!!n&&e.yi(t).next((function(){return!0}))}))})).catch((function(t){if(Jb(t))return rb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return rb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.Pi(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return sT(e).get("owner").next((function(e){return Kb.resolve(t.wi(e))}))}},{key:"Si",value:function(e){return cT(e).delete(this.clientId)}},{key:"bi",value:function(){var e=lo(so().mark((function e(){var t,n,r,i,a=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Di(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Mw(e,"clientMetadata");return t.G().next((function(e){var n=a.vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Kb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ei){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ei.removeItem(this.Ci(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(){var e=this;this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.di().then((function(){return e.bi()})).then((function(){return e.Vi()}))}))}},{key:"wi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"gi",value:function(e){var t=this;return this._i?Kb.resolve(!0):sT(e).get("owner").next((function(n){if(null!==n&&t.Di(n.leaseTimestampMs,5e3)&&!t.Fi(n.ownerId)){if(t.wi(n)&&t.networkEnabled)return!0;if(!t.wi(n)){if(!n.allowTabSynchronization)throw new fb(lb.FAILED_PRECONDITION,oT);return!1}}return!(!t.networkEnabled||!t.inForeground)||cT(e).G().next((function(e){return void 0===t.vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&rb("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=lo(so().mark((function e(){var t=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),e.next=7,this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Lw(e,iw.ae);return t.pi(n).next((function(){return t.Si(n)}))}));case 7:this.Ti.close(),this.Ni();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vi",value:function(e,t){var n=this;return e.filter((function(e){return n.Di(e.updateTimeMs,t)&&!n.Fi(e.clientId)}))}},{key:"Bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return cT(t).G().next((function(t){return e.vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.kr}},{key:"getMutationQueue",value:function(e,t){return kE.ht(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new cE(e,this.serializer.lt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return VI.ht(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;rb("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?Ow:14===e?Dw:13===e?Rw:12===e?Pw:11===e?Nw:void ub()}(this.ai);return this.Ti.runTransaction(e,a,o,(function(a){return i=new Lw(a,r.Lr?r.Lr.next():iw.ae),"readwrite-primary"===t?r.fi(i).next((function(e){return!!e||r.gi(i)})).next((function(t){if(!t)throw ib("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.Pi(!1)})),new fb(lb.FAILED_PRECONDITION,Bb);return n(i)})).next((function(e){return r.yi(i).next((function(){return e}))})):r.Li(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Li",value:function(e){var t=this;return sT(e).get("owner").next((function(e){if(null!==e&&t.Di(e.leaseTimestampMs,5e3)&&!t.Fi(e.ownerId)&&!t.wi(e)&&!(t._i||t.allowTabSynchronization&&e.allowTabSynchronization))throw new fb(lb.FAILED_PRECONDITION,oT)}))}},{key:"yi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sT(e).put("owner",t)}},{key:"pi",value:function(e){var t=this,n=sT(e);return n.get("owner").next((function(e){return t.wi(e)?(rb("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Kb.resolve()}))}},{key:"Di",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ib("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ai",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.di()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"Ri",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Mi();var e=/(?:Version|Mobile)\/1[456]/;!_o()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Oi",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Fi",value:function(e){var t;try{var n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.Ci(e)));return rb("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ib("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Mi",value:function(){if(this.Ei)try{this.Ei.setItem(this.Ci(this.clientId),String(Date.now()))}catch(e){ib("Failed to set zombie client id.",e)}}},{key:"Ni",value:function(){if(this.Ei)try{this.Ei.removeItem(this.Ci(this.clientId))}catch(e){}}},{key:"Ci",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"v",value:function(){return Qb.v()}}]),e}();function sT(e){return Mw(e,"owner")}function cT(e){return Mw(e,"clientMetadata")}function lT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var fT=function(){function e(t,n,r,i){p(this,e),this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}return g(e,null,[{key:"Qi",value:function(t,n){var r,i=M_(),a=M_(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),hT=function(){function e(){p(this,e),this.Ki=!1}return g(e,[{key:"initialize",value:function(e,t){this.$i=e,this.indexManager=t,this.Ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ui(e,t).next((function(a){return a||i.Wi(e,t,r,n)})).next((function(n){return n||i.Gi(e,t)}))}},{key:"Ui",value:function(e,t){var n=this;if(c_(t))return Kb.resolve(null);var r=p_(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=y_(t,null,"F"),r=p_(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=M_.apply(void 0,d(i));return n.$i.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.zi(t,i);return n.ji(t,o,a,r.readTime)?n.Ui(e,y_(t,null,"F")):n.Hi(e,o,t,r)}))}))})))}))}},{key:"Wi",value:function(e,t,n,r){var i=this;return c_(t)||r.isEqual(Tb.min())?this.Gi(e,t):this.$i.getDocuments(e,n).next((function(a){var o=i.zi(t,a);return i.ji(t,o,n,r)?i.Gi(e,t):(nb()<=Ho.DEBUG&&rb("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),b_(t)),i.Hi(e,o,t,Vb(r,-1)))}))}},{key:"zi",value:function(e,t){var n=new qw(__(e));return t.forEach((function(t,r){w_(e,r)&&(n=n.add(r))})),n}},{key:"ji",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Gi",value:function(e,t){return nb()<=Ho.DEBUG&&rb("QueryEngine","Using full collection scan to execute query:",b_(t)),this.$i.getDocumentsMatchingQuery(e,t,zb.min())}},{key:"Hi",value:function(e,t,n,r){return this.$i.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),dT=function(){function e(t,n,r,i){p(this,e),this.persistence=t,this.Ji=n,this.serializer=i,this.Yi=new zw(_b),this.Zi=new I_((function(e){return e_(e)}),t_),this.Xi=new Map,this.es=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.ts(r)}return g(e,[{key:"ts",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KE(this.es,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.es.setIndexManager(this.indexManager),this.Ji.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Yi)}))}}]),e}();function pT(e,t,n,r){return new dT(e,t,n,r)}function vT(e,t){return mT.apply(this,arguments)}function mT(){return mT=lo(so().mark((function e(t,n){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cb(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.ts(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=M_(),s=C(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=C(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ns:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),mT.apply(this,arguments)}function yT(e,t){var n=cb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.es.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Kb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);sb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=M_(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function gT(e){var t=cb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qr.getLastRemoteSnapshotVersion(e)}))}function kT(e,t){var n=cb(e),r=t.snapshotVersion,i=n.Yi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.es.newChangeBuffer({trackRemovals:!0});i=n.Yi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.qr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.qr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(Qw.EMPTY_BYTE_STRING,Tb.min()).withLastLimboFreeSnapshotVersion(Tb.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.qr.updateTargetData(e,c))}}));var u=T_(),s=M_();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(bT(e,a,t.documentUpdates).next((function(e){u=e.rs,s=e.ss}))),!r.isEqual(Tb.min())){var c=n.qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Kb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Yi=i,e}))}function bT(e,t,n){var r=M_(),i=M_();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=T_();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Tb.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):rb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{rs:r,ss:i}}))}function wT(e,t){var n=cb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function xT(e,t){var n=cb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qr.getTargetData(e,t).next((function(i){return i?(r=i,Kb.resolve(r)):n.qr.allocateTargetId(e).next((function(i){return r=new xI(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Yi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Yi=n.Yi.insert(e.targetId,e),n.Zi.set(t,e.targetId)),e}))}function _T(e,t,n){return ST.apply(this,arguments)}function ST(){return ST=lo(so().mark((function e(t,n,r){var i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=cb(t),a=i.Yi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Jb(e.t1)){e.next=12;break}throw e.t1;case 12:rb("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Yi=i.Yi.remove(n),i.Zi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ST.apply(this,arguments)}function IT(e,t,n){var r=cb(e),i=Tb.min(),a=M_();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=cb(e),i=r.Zi.get(n);return void 0!==i?Kb.resolve(r.Yi.get(i)):r.qr.getTargetData(t,n)}(r,e,p_(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ji.getDocumentsMatchingQuery(e,t,n?i:Tb.min(),n?a:M_())})).next((function(e){return CT(r,x_(t),e),{documents:e,os:a}}))}))}function ET(e,t){var n=cb(e),r=cb(n.qr),i=n.Yi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ct(e,t).next((function(e){return e?e.target:null}))}))}function TT(e,t){var n=cb(e),r=n.Xi.get(t)||Tb.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.es.getAllFromCollectionGroup(e,t,Vb(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return CT(n,t,e),e}))}function CT(e,t,n){var r=e.Xi.get(t)||Tb.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function AT(e,t,n,r){return NT.apply(this,arguments)}function NT(){return NT=lo(so().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=cb(t),o=M_(),u=T_(),s=C(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n._s(l.metadata.name),l.document&&(o=o.add(f)),(h=n.us(l)).setReadTime(n.cs(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.es.newChangeBuffer({trackRemovals:!0}),e.next=7,xT(a,function(e){return p_(s_(Ab.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return bT(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.rs,t.ss)})).next((function(){return t.rs}))}))})));case 9:case"end":return e.stop()}}),e)}))),NT.apply(this,arguments)}function PT(e,t){return RT.apply(this,arguments)}function RT(){return RT=lo(so().mark((function e(t,n){var r,i,a,o=arguments;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:M_(),e.next=3,xT(t,p_(PI(n.bundledQuery)));case 3:return i=e.sent,a=cb(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=YS(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kr.saveNamedQuery(e,n);var o=i.withResumeToken(Qw.EMPTY_BYTE_STRING,t);return a.Yi=a.Yi.insert(o.targetId,o),a.qr.updateTargetData(e,o).next((function(){return a.qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function DT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function OT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function LT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var MT=function(){function e(t,n,r,i){p(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"hs",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ls",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new fb(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ib("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),FT=function(){function e(t,n,r){p(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"hs",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ls",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new fb(i.error.code,i.error.message))),a?new e(t,i.state,r):(ib("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),VT=function(){function e(t,n){p(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"ls",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=V_(),o=0;i&&o<r.activeTargetIds.length;++o)i=uw(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ib("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),UT=function(){function e(t,n){p(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"ls",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ib("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),zT=function(){function e(){p(this,e),this.activeTargetIds=V_()}return g(e,[{key:"Ps",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Is",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hs",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),jT=function(){function e(t,n,r,i,a){p(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.Ts=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Es=this.ds.bind(this),this.As=new zw(_b),this.started=!1,this.Rs=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Vs=DT(this.persistenceKey,this.Ts),this.fs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.As=this.As.insert(this.Ts,new zT),this.gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ps=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.ys=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.ws=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ss=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Es)}return g(e,[{key:"start",value:function(){var e=lo(so().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Bi();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Ts){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(DT(this.persistenceKey,i)))&&(o=VT.ls(i,a))&&(this.As=this.As.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.bs(),(u=this.storage.getItem(this.ws))&&(s=this.Ds(u))&&this.vs(s),c=C(this.Rs);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ds(f)}catch(d){c.e(d)}finally{c.f()}this.Rs=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.fs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Cs(this.As)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.As.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Fs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Fs(e,t,n),this.Ms(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(LT(this.persistenceKey,e));if(n){var r=FT.ls(e,n);r&&(t=r.state)}}return this.xs.Ps(e),this.bs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.xs.Is(e),this.bs()}},{key:"isLocalQueryTarget",value:function(e){return this.xs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(LT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Os(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ms(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ns(e)}},{key:"notifyBundleLoaded",value:function(e){this.Bs(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Es),this.removeItem(this.Vs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return rb("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){rb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){rb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ds",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(rb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Vs)return void ib("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(lo(so().mark((function e(){var r,i,a,o,u,s,c;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Ls(n.key),e.abrupt("return",t.ks(r,null));case 6:if(!(i=t.qs(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ks(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ps.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Qs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Ks(a));case 16:e.next=41;break;case 18:if(!t.ys.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.$s(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Us(o));case 23:e.next=41;break;case 25:if(n.key!==t.ws){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Ds(n.newValue))){e.next=30;break}return e.abrupt("return",t.vs(u));case 30:e.next=41;break;case 32:if(n.key!==t.fs){e.next=37;break}s=function(e){var t=iw.ae;if(null!=e)try{var n=JSON.parse(e);sb("number"==typeof n),t=n}catch(e){ib("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==iw.ae&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Ss){e.next=41;break}return c=t.Ws(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Gs(e)})));case 41:e.next=44;break;case 43:t.Rs.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"xs",get:function(){return this.As.get(this.Ts)}},{key:"bs",value:function(){this.setItem(this.Vs,this.xs.hs())}},{key:"Fs",value:function(e,t,n){var r=new MT(this.currentUser,e,t,n),i=OT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hs())}},{key:"Ms",value:function(e){var t=OT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ns",value:function(e){var t={clientId:this.Ts,onlineState:e};this.storage.setItem(this.ws,JSON.stringify(t))}},{key:"Os",value:function(e,t,n){var r=LT(this.persistenceKey,e),i=new FT(e,t,n);this.setItem(r,i.hs())}},{key:"Bs",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Ss,t)}},{key:"Ls",value:function(e){var t=this.gs.exec(e);return t?t[1]:null}},{key:"qs",value:function(e,t){var n=this.Ls(e);return VT.ls(n,t)}},{key:"Qs",value:function(e,t){var n=this.ps.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return MT.ls(new Zk(i),r,t)}},{key:"$s",value:function(e,t){var n=this.ys.exec(e),r=Number(n[1]);return FT.ls(r,t)}},{key:"Ds",value:function(e){return UT.ls(e)}},{key:"Ws",value:function(e){return JSON.parse(e)}},{key:"Ks",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.zs(t.batchId,t.state,t.error));case 2:rb("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Us",value:function(e){return this.syncEngine.js(e.targetId,e.state,e.error)}},{key:"ks",value:function(e,t){var n=this,r=t?this.As.insert(e,t):this.As.remove(e),i=this.Cs(this.As),a=this.Cs(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Hs(o,u).then((function(){n.As=r}))}},{key:"vs",value:function(e){this.As.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Cs",value:function(e){var t=V_();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"v",value:function(e){return!(!e||!e.localStorage)}}]),e}(),BT=function(){function e(){p(this,e),this.Js=new zT,this.Ys={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Js.Ps(e),this.Ys[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ys[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Js.Is(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Js.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ys[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Js.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Js.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Js=new zT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),qT=function(){function e(){p(this,e)}return g(e,[{key:"Zs",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),WT=function(){function e(){var t=this;p(this,e),this.Xs=function(){return t.eo()},this.no=function(){return t.ro()},this.io=[],this.so()}return g(e,[{key:"Zs",value:function(e){this.io.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xs),window.removeEventListener("offline",this.no)}},{key:"so",value:function(){window.addEventListener("online",this.Xs),window.addEventListener("offline",this.no)}},{key:"eo",value:function(){rb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.io);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ro",value:function(){rb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.io);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),GT=null;function KT(){return null===GT?GT=268435456+Math.round(2147483648*Math.random()):GT++,"0x"+GT.toString(16)}var HT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},QT=function(){function e(t){p(this,e),this.oo=t.oo,this._o=t._o}return g(e,[{key:"ao",value:function(e){this.uo=e}},{key:"co",value:function(e){this.lo=e}},{key:"onMessage",value:function(e){this.ho=e}},{key:"close",value:function(){this._o()}},{key:"send",value:function(e){this.oo(e)}},{key:"Po",value:function(){this.uo()}},{key:"Io",value:function(e){this.lo(e)}},{key:"To",value:function(e){this.ho(e)}}]),e}(),$T="WebChannelConnection",YT=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return g(n,[{key:"yo",value:function(e,t,n,r){var i=KT();return new Promise((function(a,o){var u=new $k;u.setWithCredentials(!0),u.listenOnce(Wk.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case qk.NO_ERROR:var t=u.getResponseJson();rb($T,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case qk.TIMEOUT:rb($T,"RPC '".concat(e,"' ").concat(i," timed out")),o(new fb(lb.DEADLINE_EXCEEDED,"Request time out"));break;case qk.HTTP_ERROR:var n=u.getStatus();if(rb($T,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(lb).indexOf(t)>=0?t:lb.UNKNOWN}(s.status);o(new fb(c,s.message))}else o(new fb(lb.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new fb(lb.UNAVAILABLE,"Connection failed."));break;default:ub()}}finally{rb($T,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);rb($T,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"So",value:function(e,t,n){var r=KT(),i=[this.Eo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=jk(),o=Bk(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new Hk({})),this.po(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");rb($T,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new QT({oo:function(t){h?rb($T,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(rb($T,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),rb($T,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},_o:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Qk.EventType.OPEN,(function(){h||rb($T,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Qk.EventType.CLOSE,(function(){h||(h=!0,rb($T,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Io())})),p(l,Qk.EventType.ERROR,(function(t){h||(h=!0,ab($T,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Io(new fb(lb.UNAVAILABLE,"The operation could not be completed")))})),p(l,Qk.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];sb(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){rb($T,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=vS[e];if(void 0!==t)return SS(t)}(u),c=o.message;void 0===s&&(s=lb.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.Io(new fb(s,c)),l.close()}else rb($T,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.To(i)}})),p(o,Gk.STAT_EVENT,(function(t){t.stat===Kk.PROXY?rb($T,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Kk.NOPROXY&&rb($T,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Po()}),0),d}}]),n}(function(){function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Eo=n+"://"+t.host,this.Ao="projects/".concat(r,"/databases/").concat(i),this.Ro="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return g(e,[{key:"Vo",get:function(){return!1}},{key:"mo",value:function(e,t,n,r,i){var a=KT(),o=this.fo(e,t);rb("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.Ao,"x-goog-request-params":this.Ro};return this.po(u,r,i),this.yo(e,o,u,n).then((function(t){return rb("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw ab("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"wo",value:function(e,t,n,r,i,a){return this.mo(e,t,n,r,i)}},{key:"po",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+eb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=HT[e];return"".concat(this.Eo,"/v1/").concat(t,":").concat(n)}}]),e}());function JT(){return"undefined"!=typeof window?window:null}function XT(){return"undefined"!=typeof document?document:null}function ZT(e){return new GS(e,!0)}var eC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this.si=t,this.timerId=n,this.bo=r,this.Do=i,this.vo=a,this.Co=0,this.Fo=null,this.Mo=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.Co=0}},{key:"xo",value:function(){this.Co=this.vo}},{key:"Oo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Co+this.No()),r=Math.max(0,Date.now()-this.Mo),i=Math.max(0,n-r);i>0&&rb("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Co," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Fo=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Mo=Date.now(),e()})),this.Co*=this.Do,this.Co<this.bo&&(this.Co=this.bo),this.Co>this.vo&&(this.Co=this.vo)}},{key:"Bo",value:function(){null!==this.Fo&&(this.Fo.skipDelay(),this.Fo=null)}},{key:"cancel",value:function(){null!==this.Fo&&(this.Fo.cancel(),this.Fo=null)}},{key:"No",value:function(){return(Math.random()-.5)*this.Co}}]),e}(),tC=function(){function e(t,n,r,i,a,o,u,s){p(this,e),this.si=t,this.Lo=r,this.ko=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.qo=0,this.Qo=null,this.Ko=null,this.stream=null,this.$o=new eC(t,n)}return g(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Wo()}},{key:"Wo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zo",value:function(){this.state=0,this.$o.reset()}},{key:"jo",value:function(){var e=this;this.Wo()&&null===this.Qo&&(this.Qo=this.si.enqueueAfterDelay(this.Lo,6e4,(function(){return e.Ho()})))}},{key:"Jo",value:function(e){this.Yo(),this.stream.send(e)}},{key:"Ho",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Wo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}},{key:"Zo",value:function(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}},{key:"close",value:function(){var e=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Yo(),this.Zo(),this.$o.cancel(),this.qo++,4!==t?this.$o.reset():n&&n.code===lb.RESOURCE_EXHAUSTED?(ib(n.toString()),ib("Using maximum backoff delay to prevent overloading the backend."),this.$o.xo()):n&&n.code===lb.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Xo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.co(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Xo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.e_(this.qo),n=this.qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.qo===n&&e.t_(i,a)}),(function(n){t((function(){var t=new fb(lb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.n_(t)}))}))}},{key:"t_",value:function(e,t){var n=this,r=this.e_(this.qo);this.stream=this.r_(e,t),this.stream.ao((function(){r((function(){return n.state=2,n.Ko=n.si.enqueueAfterDelay(n.ko,1e4,(function(){return n.Wo()&&(n.state=3),Promise.resolve()})),n.listener.ao()}))})),this.stream.co((function(e){r((function(){return n.n_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.$o.Oo(lo(so().mark((function t(){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"n_",value:function(e){return rb("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"e_",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.qo===e?n():(rb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),nC=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return g(n,[{key:"r_",value:function(e,t){return this.connection.So("Listen",e,t)}},{key:"onMessage",value:function(e){this.$o.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ub()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(sb(void 0===t||"string"==typeof t),Qw.fromBase64String(t||"")):(sb(void 0===t||t instanceof Uint8Array),Qw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?lb.UNKNOWN:SS(e.code);return new fb(t,e.message||"")}(o);n=new FS(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=eI(e,s.document.name),l=YS(s.document.updateTime),f=s.document.createTime?YS(s.document.createTime):Tb.min(),h=new Ix({mapValue:{fields:s.document.fields}}),d=Tx.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new LS(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=eI(e,m.document),g=m.readTime?YS(m.readTime):Tb.min(),k=Tx.newNoDocument(y,g),b=m.removedTargetIds||[];n=new LS([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=eI(e,w.document),_=w.removedTargetIds||[];n=new LS([],_,x,null)}else{if(!("filter"in t))return ub();t.filter;var S=t.filter;S.targetId;var I=S.count,E=void 0===I?0:I,T=S.unchangedNames,C=new xS(E,T),A=S.targetId;n=new MS(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Tb.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Tb.min():t.readTime?YS(t.readTime):Tb.min()}(e);return this.listener.i_(t,n)}},{key:"s_",value:function(e){var t={};t.database=rI(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=n_(r)?{documents:lI(e,r)}:{query:fI(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=QS(e,t.resumeToken);var i=KS(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Tb.min())>0){n.readTime=HS(e,t.snapshotVersion.toTimestamp());var a=KS(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ub()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Jo(t)}},{key:"o_",value:function(e){var t={};t.database=rI(this.serializer),t.removeTarget=e,this.Jo(t)}}]),n}(tC),rC=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.__=!1,s}return g(n,[{key:"a_",get:function(){return this.__}},{key:"start",value:function(){this.__=!1,this.lastStreamToken=void 0,uo(w(n.prototype),"start",this).call(this)}},{key:"Xo",value:function(){this.__&&this.u_([])}},{key:"r_",value:function(e,t){return this.connection.So("Write",e,t)}},{key:"onMessage",value:function(e){if(sb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.__){this.$o.reset();var t=function(e,t){return e&&e.length>0?(sb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?YS(e.updateTime):YS(t);return n.isEqual(Tb.min())&&(n=YS(t)),new tS(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=YS(e.commitTime);return this.listener.c_(n,t)}return sb(!e.writeResults||0===e.writeResults.length),this.__=!0,this.listener.l_()}},{key:"h_",value:function(){var e={};e.database=rI(this.serializer),this.Jo(e)}},{key:"u_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return sI(t.serializer,e)}))};this.Jo(n)}}]),n}(tC),iC=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.P_=!1,o}return g(n,[{key:"I_",value:function(){if(this.P_)throw new fb(lb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"mo",value:function(e,t,n){var r=this;return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.connection.mo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===lb.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new fb(lb.UNKNOWN,e.toString())}))}},{key:"wo",value:function(e,t,n,r){var i=this;return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=f(a,2),u=o[0],s=o[1];return i.connection.wo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===lb.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new fb(lb.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.P_=!0}}]),n}(g((function e(){p(this,e)})));var aC=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.E_=0,this.d_=null,this.A_=!0}return g(e,[{key:"R_",value:function(){var e=this;0===this.E_&&(this.V_("Unknown"),this.d_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.d_=null,e.m_("Backend didn't respond within 10 seconds."),e.V_("Offline"),Promise.resolve()})))}},{key:"f_",value:function(e){"Online"===this.state?this.V_("Unknown"):(this.E_++,this.E_>=1&&(this.g_(),this.m_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.V_("Offline")))}},{key:"set",value:function(e){this.g_(),this.E_=0,"Online"===e&&(this.A_=!1),this.V_(e)}},{key:"V_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"m_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.A_?(ib(t),this.A_=!1):rb("OnlineStateTracker",t)}},{key:"g_",value:function(){null!==this.d_&&(this.d_.cancel(),this.d_=null)}}]),e}(),oC=g((function e(t,n,r,i,a){var o=this;p(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.p_=[],this.y_=new Map,this.w_=new Set,this.S_=[],this.b_=a,this.b_.Zs((function(e){r.enqueueAndForget(lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=yC(o),!e.t0){e.next=5;break}return rb("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=cb(t)).w_.add(4),e.next=4,cC(n);case 4:return n.D_.set("Unknown"),n.w_.delete(4),e.next=8,uC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.D_=new aC(r,i)}));function uC(e){return sC.apply(this,arguments)}function sC(){return(sC=lo(so().mark((function e(t){var n,r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!yC(t)){e.next=18;break}n=C(t.S_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function cC(e){return lC.apply(this,arguments)}function lC(){return(lC=lo(so().mark((function e(t){var n,r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.S_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function fC(e,t){var n=cb(e);n.y_.has(t.targetId)||(n.y_.set(t.targetId,t),mC(n)?vC(n):KC(n).Wo()&&dC(n,t))}function hC(e,t){var n=cb(e),r=KC(n);n.y_.delete(t),r.Wo()&&pC(n,t),0===n.y_.size&&(r.Wo()?r.jo():yC(n)&&n.D_.set("Unknown"))}function dC(e,t){if(e.v_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tb.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}KC(e).s_(t)}function pC(e,t){e.v_.Le(t),KC(e).o_(t)}function vC(e){e.v_=new US({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ct:function(t){return e.y_.get(t)||null},it:function(){return e.datastore.serializer.databaseId}}),KC(e).start(),e.D_.R_()}function mC(e){return yC(e)&&!KC(e).Uo()&&e.y_.size>0}function yC(e){return 0===cb(e).w_.size}function gC(e){e.v_=void 0}function kC(e){return bC.apply(this,arguments)}function bC(){return(bC=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.y_.forEach((function(e,n){dC(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wC(e,t){return xC.apply(this,arguments)}function xC(){return(xC=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gC(t),mC(t)?(t.D_.f_(n),vC(t)):t.D_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _C(e,t,n){return SC.apply(this,arguments)}function SC(){return SC=lo(so().mark((function e(t,n,r){var i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.D_.set("Online"),!(n instanceof FS&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=lo(so().mark((function e(t,n){var r,i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.y_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.y_.delete(o),t.v_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),rb("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,IC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof LS?t.v_.Ge(n):n instanceof MS?t.v_.Xe(n):t.v_.He(n),r.isEqual(Tb.min())){e.next=29;break}return e.prev=14,e.next=17,gT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.v_.ot(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.y_.get(r);i&&e.y_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.y_.get(t);if(r){e.y_.set(t,r.withResumeToken(Qw.EMPTY_BYTE_STRING,r.snapshotVersion)),pC(e,t);var i=new xI(r.target,t,n,r.sequenceNumber);dC(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),rb("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,IC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),SC.apply(this,arguments)}function IC(e,t,n){return EC.apply(this,arguments)}function EC(){return(EC=lo(so().mark((function e(t,n,r){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jb(n)){e.next=2;break}throw n;case 2:return t.w_.add(1),e.next=5,cC(t);case 5:t.D_.set("Offline"),r||(r=function(){return gT(t.localStore)}),t.asyncQueue.enqueueRetryable(lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rb("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.w_.delete(1),e.next=6,uC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TC(e,t){return t().catch((function(n){return IC(e,n,t)}))}function CC(e){return AC.apply(this,arguments)}function AC(){return AC=lo(so().mark((function e(t){var n,r,i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=cb(t),r=HC(n),i=n.p_.length>0?n.p_[n.p_.length-1].batchId:-1;case 2:if(!NC(n)){e.next=19;break}return e.prev=3,e.next=6,wT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.p_.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,PC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,IC(n,e.t0);case 17:e.next=2;break;case 19:RC(n)&&DC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),AC.apply(this,arguments)}function NC(e){return yC(e)&&e.p_.length<10}function PC(e,t){e.p_.push(t);var n=HC(e);n.Wo()&&n.a_&&n.u_(t.mutations)}function RC(e){return yC(e)&&!HC(e).Uo()&&e.p_.length>0}function DC(e){HC(e).start()}function OC(e){return LC.apply(this,arguments)}function LC(){return(LC=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:HC(t).h_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MC(e){return FC.apply(this,arguments)}function FC(){return(FC=lo(so().mark((function e(t){var n,r,i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=HC(t),r=C(t.p_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.u_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VC(e,t,n){return UC.apply(this,arguments)}function UC(){return UC=lo(so().mark((function e(t,n,r){var i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.p_.shift(),a=bS.from(i,n,r),e.next=3,TC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,CC(t);case 5:case"end":return e.stop()}}),e)}))),UC.apply(this,arguments)}function zC(e,t){return jC.apply(this,arguments)}function jC(){return jC=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&HC(t).a_,!e.t0){e.next=4;break}return e.next=4,function(){var e=lo(so().mark((function e(t,n){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return _S(e)&&e!==lb.ABORTED}(n.code)){e.next=7;break}return r=t.p_.shift(),HC(t).zo(),e.next=5,TC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,CC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:RC(t)&&DC(t);case 5:case"end":return e.stop()}}),e)}))),jC.apply(this,arguments)}function BC(e,t){return qC.apply(this,arguments)}function qC(){return qC=lo(so().mark((function e(t,n){var r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=cb(t)).asyncQueue.verifyOperationInProgress(),rb("RemoteStore","RemoteStore received new credentials"),i=yC(r),r.w_.add(3),e.next=6,cC(r);case 6:return i&&r.D_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.w_.delete(3),e.next=12,uC(r);case 12:case"end":return e.stop()}}),e)}))),qC.apply(this,arguments)}function WC(e,t){return GC.apply(this,arguments)}function GC(){return(GC=lo(so().mark((function e(t,n){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cb(t),!n){e.next=7;break}return r.w_.delete(2),e.next=5,uC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.w_.add(2),e.next=12,cC(r);case 12:r.D_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KC(e){return e.C_||(e.C_=function(e,t,n){var r=cb(e);return r.I_(),new nC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ao:kC.bind(null,e),co:wC.bind(null,e),i_:_C.bind(null,e)}),e.S_.push(function(){var t=lo(so().mark((function t(n){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.C_.zo(),mC(e)?vC(e):e.D_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.C_.stop();case 6:gC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.C_}function HC(e){return e.F_||(e.F_=function(e,t,n){var r=cb(e);return r.I_(),new rC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ao:OC.bind(null,e),co:zC.bind(null,e),l_:MC.bind(null,e),c_:VC.bind(null,e)}),e.S_.push(function(){var t=lo(so().mark((function t(n){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.F_.zo(),t.next=4,CC(e);case 4:t.next=9;break;case 6:return t.next=8,e.F_.stop();case 8:e.p_.length>0&&(rb("RemoteStore","Stopping write stream with ".concat(e.p_.length," pending writes")),e.p_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.F_}var QC=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new hb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fb(lb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function $C(e,t){if(ib("AsyncQueue","".concat(t,": ").concat(e)),Jb(e))return new fb(lb.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var YC=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||Rb.comparator(e.key,n.key)}:function(e,t){return Rb.comparator(e.key,t.key)},this.keyedMap=A_(),this.sortedSet=new zw(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),JC=function(){function e(){p(this,e),this.M_=new zw(Rb.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.M_.get(t);n?0!==e.type&&3===n.type?this.M_=this.M_.insert(t,e):3===e.type&&1!==n.type?this.M_=this.M_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.M_=this.M_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.M_=this.M_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.M_=this.M_.remove(t):1===e.type&&2===n.type?this.M_=this.M_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.M_=this.M_.insert(t,{type:2,doc:e.doc}):ub():this.M_=this.M_.insert(t,e)}},{key:"x_",value:function(){var e=[];return this.M_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),XC=function(){function e(t,n,r,i,a,o,u,s,c){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&g_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,YC.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),ZC=g((function e(){p(this,e),this.O_=void 0,this.listeners=[]})),eA=g((function e(){p(this,e),this.queries=new I_((function(e){return k_(e)}),g_),this.onlineState="Unknown",this.N_=new Set}));function tA(e,t){return nA.apply(this,arguments)}function nA(){return nA=lo(so().mark((function e(t,n){var r,i,a,o,u;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cb(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ZC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.O_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=$C(e.t0,"Initialization of query '".concat(b_(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.B_(r.onlineState),o.O_&&n.L_(o.O_)&&uA(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),nA.apply(this,arguments)}function rA(e,t){return iA.apply(this,arguments)}function iA(){return iA=lo(so().mark((function e(t,n){var r,i,a,o,u;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cb(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function aA(e,t){var n,r=cb(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=C(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.L_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.O_=o}}}catch(f){a.e(f)}finally{a.f()}i&&uA(r)}function oA(e,t,n){var r=cb(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function uA(e){e.N_.forEach((function(e){e.next()}))}var sA=function(){function e(t,n,r){p(this,e),this.query=t,this.k_=n,this.q_=!1,this.Q_=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"L_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new XC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.q_?this.K_(e)&&(this.k_.next(e),a=!0):this.U_(e,this.onlineState)&&(this.W_(e),a=!0),this.Q_=e,a}},{key:"onError",value:function(e){this.k_.error(e)}},{key:"B_",value:function(e){this.onlineState=e;var t=!1;return this.Q_&&!this.q_&&this.U_(this.Q_,e)&&(this.W_(this.Q_),t=!0),t}},{key:"U_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.G_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"K_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Q_&&this.Q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"W_",value:function(e){e=XC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.q_=!0,this.k_.next(e)}}]),e}(),cA=function(){function e(t,n){p(this,e),this.z_=t,this.byteLength=n}return g(e,[{key:"j_",value:function(){return"metadata"in this.z_}}]),e}(),lA=function(){function e(t){p(this,e),this.serializer=t}return g(e,[{key:"_s",value:function(e){return eI(this.serializer,e)}},{key:"us",value:function(e){return e.metadata.exists?oI(this.serializer,e.document,!1):Tx.newNoDocument(this._s(e.metadata.name),this.cs(e.metadata.readTime))}},{key:"cs",value:function(e){return YS(e)}}]),e}(),fA=function(){function e(t,n,r){p(this,e),this.H_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hA(t)}return g(e,[{key:"J_",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.z_.namedQuery)this.queries.push(e.z_.namedQuery);else if(e.z_.documentMetadata){this.documents.push({metadata:e.z_.documentMetadata}),e.z_.documentMetadata.exists||++t;var n=Ab.fromString(e.z_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.z_.document&&(this.documents[this.documents.length-1].document=e.z_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Y_",value:function(e){var t,n=new Map,r=new lA(this.serializer),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r._s(a.metadata.name),s=C(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||M_()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=lo(so().mark((function e(){var t,n,r,i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AT(this.localStore,new lA(this.serializer),this.documents,this.H_.id);case 2:t=e.sent,n=this.Y_(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,PT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Z_:this.collectionGroups,X_:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function hA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var dA=g((function e(t){p(this,e),this.key=t})),pA=g((function e(t){p(this,e),this.key=t})),vA=function(){function e(t,n){p(this,e),this.query=t,this.ea=n,this.ta=null,this.hasCachedResults=!1,this.current=!1,this.na=M_(),this.mutatedKeys=M_(),this.ra=__(t),this.ia=new YC(this.ra)}return g(e,[{key:"sa",get:function(){return this.ea}},{key:"oa",value:function(e,t){var n=this,r=t?t._a:new JC,i=t?t.ia:this.ia,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=w_(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.aa(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ra(f,s)>0||c&&n.ra(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ia:o,_a:r,ji:u,mutatedKeys:a}}},{key:"aa",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ia;this.ia=e.ia,this.mutatedKeys=e.mutatedKeys;var a=e._a.x_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ub()}};return n(e)-n(t)}(e.type,t.type)||r.ra(e.doc,t.doc)})),this.ua(n);var o=t?this.ca():[],u=0===this.na.size&&this.current?1:0,s=u!==this.ta;return this.ta=u,0!==a.length||s?{snapshot:new XC(this.query,e.ia,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),la:o}:{la:o}}},{key:"B_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ia:this.ia,_a:new JC,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{la:[]}}},{key:"ha",value:function(e){return!this.ea.has(e)&&!!this.ia.has(e)&&!this.ia.get(e).hasLocalMutations}},{key:"ua",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ea=t.ea.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ea=t.ea.delete(e)})),this.current=e.current)}},{key:"ca",value:function(){var e=this;if(!this.current)return[];var t=this.na;this.na=M_(),this.ia.forEach((function(t){e.ha(t.key)&&(e.na=e.na.add(t.key))}));var n=[];return t.forEach((function(t){e.na.has(t)||n.push(new pA(t))})),this.na.forEach((function(e){t.has(e)||n.push(new dA(e))})),n}},{key:"Pa",value:function(e){this.ea=e.os,this.na=M_();var t=this.oa(e.documents);return this.applyChanges(t,!0)}},{key:"Ia",value:function(){return XC.fromInitialDocuments(this.query,this.ia,this.mutatedKeys,0===this.ta,this.hasCachedResults)}}]),e}(),mA=g((function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r})),yA=g((function e(t){p(this,e),this.key=t,this.Ta=!1})),gA=function(){function e(t,n,r,i,a,o){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ea={},this.da=new I_((function(e){return k_(e)}),g_),this.Aa=new Map,this.Ra=new Set,this.Va=new zw(Rb.comparator),this.ma=new Map,this.fa=new $E,this.ga={},this.pa=new Map,this.ya=SE.Nn(),this.onlineState="Unknown",this.wa=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.wa}}]),e}();function kA(e,t){return bA.apply(this,arguments)}function bA(){return bA=lo(so().mark((function e(t,n){var r,i,a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=hN(t),!(o=r.da.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Ia(),e.next=15;break;case 6:return e.next=8,xT(r.localStore,p_(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,wA(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&fC(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),bA.apply(this,arguments)}function wA(e,t,n,r,i){return xA.apply(this,arguments)}function xA(){return xA=lo(so().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Sa=function(e,n,r){return function(){var e=lo(so().mark((function e(t,n,r,i){var a,o,u;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.oa(r),e.t0=a.ji,!e.t0){e.next=6;break}return e.next=5,IT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.oa(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(BA(t,n.targetId,u.la),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,IT(t.localStore,n,!0);case 3:return o=e.sent,u=new vA(n,o.os),s=u.oa(o.documents),c=OS.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),BA(t,r,l.la),f=new mA(n,r,u),e.abrupt("return",(t.da.set(n,f),t.Aa.has(r)?t.Aa.get(r).push(n):t.Aa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),xA.apply(this,arguments)}function _A(e,t){return SA.apply(this,arguments)}function SA(){return SA=lo(so().mark((function e(t,n){var r,i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=cb(t),i=r.da.get(n),!((a=r.Aa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Aa.set(i.targetId,a.filter((function(e){return!g_(e,n)}))),void r.da.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,_T(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),hC(r.remoteStore,i.targetId),zA(r,i.targetId)})).catch(Wb);case 9:e.next=14;break;case 11:return zA(r,i.targetId),e.next=14,_T(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),SA.apply(this,arguments)}function IA(e,t,n){return EA.apply(this,arguments)}function EA(){return EA=lo(so().mark((function e(t,n,r){var i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dN(t),e.prev=1,e.next=4,function(e,t){var n,r,i=cb(e),a=Eb.now(),o=t.reduce((function(e,t){return e.add(t.key)}),M_());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=T_(),s=M_();return i.es.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=C(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=sS(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new fS(c.key,l,Ex(l.value.mapValue),nS.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:N_(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ga[e.currentUser.toKey()];r||(r=new zw(_b)),r=r.insert(t,n),e.ga[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,GA(i,a.changes);case 9:return e.next=11,CC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=$C(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),EA.apply(this,arguments)}function TA(e,t){return CA.apply(this,arguments)}function CA(){return CA=lo(so().mark((function e(t,n){var r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cb(t),e.prev=1,e.next=4,kT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ma.get(t);n&&(sb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ta=!0:e.modifiedDocuments.size>0?sb(n.Ta):e.removedDocuments.size>0&&(sb(n.Ta),n.Ta=!1))})),e.next=8,GA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Wb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),CA.apply(this,arguments)}function AA(e,t,n){var r=cb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.da.forEach((function(e,n){var r=n.view.B_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=cb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.B_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&uA(n)}(r.eventManager,t),i.length&&r.Ea.i_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function NA(e,t,n){return PA.apply(this,arguments)}function PA(){return PA=lo(so().mark((function e(t,n,r){var i,a,o,u,s,c;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=cb(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ma.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new zw(Rb.comparator)).insert(o,Tx.newNoDocument(o,Tb.min())),s=M_().add(o),c=new DS(Tb.min(),new Map,new zw(_b),u,s),e.next=9,TA(i,c);case 9:i.Va=i.Va.remove(o),i.ma.delete(n),WA(i),e.next=16;break;case 14:return e.next=16,_T(i.localStore,n,!1).then((function(){return zA(i,n,r)})).catch(Wb);case 16:case"end":return e.stop()}}),e)}))),PA.apply(this,arguments)}function RA(e,t){return DA.apply(this,arguments)}function DA(){return DA=lo(so().mark((function e(t,n){var r,i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cb(t),i=n.batch.batchId,e.prev=1,e.next=4,yT(r.localStore,n);case 4:return a=e.sent,UA(r,i,null),VA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,GA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),DA.apply(this,arguments)}function OA(e,t,n){return LA.apply(this,arguments)}function LA(){return LA=lo(so().mark((function e(t,n,r){var i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cb(t),e.prev=1,e.next=4,function(e,t){var n=cb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return sb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,UA(i,n,r),VA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,GA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Wb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),LA.apply(this,arguments)}function MA(e,t){return FA.apply(this,arguments)}function FA(){return FA=lo(so().mark((function e(t,n){var r,i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yC((r=cb(t)).remoteStore)||rb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=cb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.pa.get(i)||[]).push(n),r.pa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=$C(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),FA.apply(this,arguments)}function VA(e,t){(e.pa.get(t)||[]).forEach((function(e){e.resolve()})),e.pa.delete(t)}function UA(e,t,n){var r=cb(e),i=r.ga[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ga[r.currentUser.toKey()]=i}}function zA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e.Aa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.da.delete(a),n&&e.Ea.ba(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Aa.delete(t),e.isPrimaryClient&&e.fa.Rr(t).forEach((function(t){e.fa.containsKey(t)||jA(e,t)}))}function jA(e,t){e.Ra.delete(t.path.canonicalString());var n=e.Va.get(t);null!==n&&(hC(e.remoteStore,n),e.Va=e.Va.remove(t),e.ma.delete(n),WA(e))}function BA(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof dA?(e.fa.addReference(a.key,t),qA(e,a)):a instanceof pA?(rb("SyncEngine","Document no longer in limbo: "+a.key),e.fa.removeReference(a.key,t),e.fa.containsKey(a.key)||jA(e,a.key)):ub()}}catch(o){i.e(o)}finally{i.f()}}function qA(e,t){var n=t.key,r=n.path.canonicalString();e.Va.get(n)||e.Ra.has(r)||(rb("SyncEngine","New document in limbo: "+n),e.Ra.add(r),WA(e))}function WA(e){for(;e.Ra.size>0&&e.Va.size<e.maxConcurrentLimboResolutions;){var t=e.Ra.values().next().value;e.Ra.delete(t);var n=new Rb(Ab.fromString(t)),r=e.ya.next();e.ma.set(r,new yA(n)),e.Va=e.Va.insert(n,r),fC(e.remoteStore,new xI(p_(s_(n.path)),r,"TargetPurposeLimboResolution",iw.ae))}}function GA(e,t,n){return KA.apply(this,arguments)}function KA(){return KA=lo(so().mark((function e(t,n,r){var i,a,o,u;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=cb(t),a=[],o=[],u=[],e.t0=i.da.isEmpty(),e.t0){e.next=9;break}return i.da.forEach((function(e,t){u.push(i.Sa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=fT.Qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ea.i_(a),e.next=9,function(){var e=lo(so().mark((function e(t,n){var r,i,a,o,u,s,c,l;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Kb.forEach(n,(function(t){return Kb.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Kb.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Jb(e.t0)){e.next=10;break}throw e.t0;case 10:rb("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Yi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Yi=r.Yi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),KA.apply(this,arguments)}function HA(e,t){return QA.apply(this,arguments)}function QA(){return(QA=lo(so().mark((function e(t,n){var r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=cb(t)).currentUser.isEqual(n)){e.next=11;break}return rb("SyncEngine","User change. New user:",n.toKey()),e.next=5,vT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.pa.forEach((function(e){e.forEach((function(e){e.reject(new fb(lb.CANCELLED,t))}))})),e.pa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,GA(r,i.ns);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $A(e,t){var n=cb(e),r=n.ma.get(t);if(r&&r.Ta)return M_().add(r.key);var i=M_(),a=n.Aa.get(t);if(!a)return i;var o,u=C(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.da.get(s);i=i.unionWith(c.view.sa)}}catch(l){u.e(l)}finally{u.f()}return i}function YA(e,t){return JA.apply(this,arguments)}function JA(){return JA=lo(so().mark((function e(t,n){var r,i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cb(t),e.next=3,IT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Pa(i),e.abrupt("return",(r.isPrimaryClient&&BA(r,n.targetId,a.la),a));case 6:case"end":return e.stop()}}),e)}))),JA.apply(this,arguments)}function XA(e,t){return ZA.apply(this,arguments)}function ZA(){return(ZA=lo(so().mark((function e(t,n){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cb(t),e.abrupt("return",TT(r.localStore,n).then((function(e){return GA(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eN(e,t,n,r){return tN.apply(this,arguments)}function tN(){return tN=lo(so().mark((function e(t,n,r,i){var a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=cb(t),e.next=3,function(e,t){var n=cb(e),r=cb(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Kb.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,CC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(UA(a,n,i||null),VA(a,n),function(e,t){cb(cb(e).mutationQueue).Fn(t)}(a.localStore,n)):ub();case 11:return e.next=13,GA(a,o);case 13:e.next=16;break;case 15:rb("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),tN.apply(this,arguments)}function nN(e,t){return rN.apply(this,arguments)}function rN(){return(rN=lo(so().mark((function e(t,n){var r,i,a,o,u,s,c,l;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hN(r=cb(t)),dN(r),!0!==n||!0===r.wa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,iN(r,i.toArray());case 5:return a=e.sent,r.wa=!0,e.next=9,WC(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(u=o.n()).done;)s=u.value,fC(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wa){e.next=25;break}return c=[],l=Promise.resolve(),r.Aa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return zA(r,t),_T(r.localStore,t,!0)})),hC(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,iN(r,c);case 21:return function(e){var t=cb(e);t.ma.forEach((function(e,n){hC(t.remoteStore,n)})),t.fa.Vr(),t.ma=new Map,t.Va=new zw(Rb.comparator)}(r),r.wa=!1,e.next=25,WC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iN(e,t,n){return aN.apply(this,arguments)}function aN(){return aN=lo(so().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=cb(t),a=[],o=[],u=C(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Aa.get(c))||0===f.length){e.next=34;break}return e.next=11,xT(i.localStore,p_(f[0]));case 11:l=e.sent,h=C(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.da.get(p),e.next=20,YA(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ET(i.localStore,c);case 36:return y=e.sent,e.next=39,xT(i.localStore,y);case 39:return l=e.sent,e.next=42,wA(i,oN(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ea.i_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),aN.apply(this,arguments)}function oN(e){return u_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function uN(e){return function(e){return cb(cb(e).persistence).Bi()}(cb(e).localStore)}function sN(e,t,n,r){return cN.apply(this,arguments)}function cN(){return cN=lo(so().mark((function e(t,n,r,i){var a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=cb(t)).wa){e.next=3;break}return e.abrupt("return",void rb("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.Aa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,TT(a.localStore,x_(o[0]));case 10:return u=e.sent,s=DS.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Qw.EMPTY_BYTE_STRING),e.next=14,GA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,_T(a.localStore,n,!0);case 17:return zA(a,n,i),e.abrupt("break",20);case 19:ub();case 20:case"end":return e.stop()}}),e)}))),cN.apply(this,arguments)}function lN(e,t,n){return fN.apply(this,arguments)}function fN(){return fN=lo(so().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=hN(t)).wa){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Aa.has(u)){e.next=10;break}return rb("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,ET(i.localStore,u);case 12:return s=e.sent,e.next=15,xT(i.localStore,s);case 15:return c=e.sent,e.next=18,wA(i,oN(s),c.targetId,!1,c.resumeToken);case 18:fC(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,h=so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Aa.has(t),!e.t0){e.next=5;break}return e.next=5,_T(i.localStore,t,!1).then((function(){hC(i.remoteStore,t),zA(i,t)})).catch(Wb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),fN.apply(this,arguments)}function hN(e){var t=cb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=TA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$A.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NA.bind(null,t),t.Ea.i_=aA.bind(null,t.eventManager),t.Ea.ba=oA.bind(null,t.eventManager),t}function dN(e){var t=cb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OA.bind(null,t),t}function pN(e,t,n){var r=cb(e);(function(){var e=lo(so().mark((function e(t,n,r){var i,a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=cb(e),r=YS(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(hA(i)),a=new fA(i,t.localStore,n.serializer),e.next=15,n.Da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.J_(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.Da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,GA(t,s.X_,void 0);case 31:return e.next=33,function(e,t){var n=cb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Z_));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(ab("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var vN=function(){function e(){p(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=ZT(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return pT(this.persistence,new hT,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new tT(rT.jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new BT}},{key:"terminate",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),mN=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).va=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(n,[{key:"initialize",value:function(){var e=lo(so().mark((function e(t){var r=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(w(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.va.initialize(this,t);case 4:return e.next=6,dN(this.va.syncEngine);case 6:return e.next=8,CC(this.va.remoteStore);case 8:return e.next=10,this.persistence.mi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return pT(this.persistence,new hT,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new PE(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new rw(t,this.persistence);return new nw(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=lT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?mE.withCacheSize(this.cacheSizeBytes):mE.DEFAULT;return new uT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,JT(),XT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new BT}}]),n}(vN),yN=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r,!1)).va=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=lo(so().mark((function e(t){var r,i=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(w(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.va.syncEngine,e.t0=this.sharedClientState instanceof jT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={zs:eN.bind(null,r),js:sN.bind(null,r),Hs:lN.bind(null,r),Bi:uN.bind(null,r),Gs:XA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.mi(function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nN(i.va.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=JT();if(!jT.v(t))throw new fb(lb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(mN),gN=function(){function e(){p(this,e)}return g(e,[{key:"initialize",value:function(){var e=lo(so().mark((function e(t,n){var r=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return AA(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=HA.bind(null,this.syncEngine),e.next=12,WC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new eA}},{key:"createDatastore",value:function(e){var t=ZT(e.databaseInfo.databaseId),n=function(e){return new YT(e)}(e.databaseInfo);return function(e,t,n,r){return new iC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new oC(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return AA(t.syncEngine,e,0)}),WT.v()?new WT:new qT)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new gA(e,t,n,r,i,a);return o&&(u.wa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cb(t),rb("RemoteStore","RemoteStore shutting down."),n.w_.add(5),e.next=5,cC(n);case 5:n.b_.shutdown(),n.D_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function kN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return lo(so().mark((function r(){var i;return so().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var bN=function(){function e(t){p(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Ca(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ca(this.observer.error,e):ib("Uncaught Error in snapshot listener:",e.toString())}},{key:"Fa",value:function(){this.muted=!0}},{key:"Ca",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),wN=function(){function e(t,n){var r=this;p(this,e),this.Ma=t,this.serializer=n,this.metadata=new hb,this.buffer=new Uint8Array,this.xa=new TextDecoder("utf-8"),this.Oa().then((function(e){e&&e.j_()?r.metadata.resolve(e.z_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.z_))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.Ma.cancel()}},{key:"getMetadata",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Oa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oa",value:function(){var e=lo(so().mark((function e(){var t,n,r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Na();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xa.decode(t),r=Number(n),isNaN(r)&&this.Ba("length string (".concat(n,") is not valid number")),e.next=9,this.La(r);case 9:return i=e.sent,e.abrupt("return",new cA(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ka",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Na",value:function(){var e=lo(so().mark((function e(){var t,n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ka()<0)){e.next=7;break}return e.next=3,this.qa();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ka())<0&&this.Ba("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"La",value:function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.qa();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ba("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ba",value:function(e){throw this.Ma.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"qa",value:function(){var e=lo(so().mark((function e(){var t,n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ma.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),xN=function(){function e(t){p(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=lo(so().mark((function e(t){var n,r=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new fb(lb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=lo(so().mark((function e(t,n){var r,i,a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cb(t),i=rI(r.serializer)+"/documents",a={documents:n.map((function(e){return ZS(r.serializer,e)}))},e.next=5,r.wo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=uI(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());sb(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new yS(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=lo(so().mark((function e(){var t,n=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Rb.fromPath(t);n.mutations.push(new gS(r,n.precondition(r)))})),e.next=7,function(){var e=lo(so().mark((function e(t,n){var r,i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cb(t),i=rI(r.serializer)+"/documents",a={writes:n.map((function(e){return sI(r.serializer,e)}))},e.next=3,r.mo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ub();t=Tb.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new fb(lb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Tb.min())?nS.exists(!1):nS.updateTime(t):nS.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tb.min()))throw new fb(lb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nS.updateTime(t)}return nS.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),_N=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Qa=r.maxAttempts,this.$o=new eC(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.Qa-=1,this.Ka()}},{key:"Ka",value:function(){var e=this;this.$o.Oo(lo(so().mark((function t(){var n,r;return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new xN(e.datastore),(r=e.$a(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ua(t)}))}))})).catch((function(t){e.Ua(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"$a",value:function(e){try{var t=this.updateFunction(e);return!aw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ua",value:function(e){var t=this;this.Qa>0&&this.Wa(e)?(this.Qa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Ka(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Wa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!_S(t)}return!1}}]),e}(),SN=function(){function e(t,n,r,i){var a=this;p(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zk.UNAUTHENTICATED,this.clientId=xb.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rb("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return rb("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new fb(lb.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new hb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(lo(so().mark((function n(){var r;return so().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=$C(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function IN(e,t){return EN.apply(this,arguments)}function EN(){return EN=lo(so().mark((function e(t,n){var r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),rb("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,vT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),EN.apply(this,arguments)}function TN(e,t){return CN.apply(this,arguments)}function CN(){return CN=lo(so().mark((function e(t,n){var r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,NN(t);case 3:return r=e.sent,rb("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return BC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return BC(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),CN.apply(this,arguments)}function AN(e){return"FirebaseError"===e.name?e.code===lb.FAILED_PRECONDITION||e.code===lb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function NN(e){return PN.apply(this,arguments)}function PN(){return(PN=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return rb("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,IN(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),AN(n=e.t0)){e.next=13;break}throw n;case 13:return ab("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,IN(t,new vN);case 16:e.next=21;break;case 18:return rb("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,IN(t,new vN);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function RN(e){return DN.apply(this,arguments)}function DN(){return(DN=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return rb("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,TN(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return rb("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,TN(t,new gN);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ON(e){return NN(e).then((function(e){return e.persistence}))}function LN(e){return NN(e).then((function(e){return e.localStore}))}function MN(e){return RN(e).then((function(e){return e.remoteStore}))}function FN(e){return RN(e).then((function(e){return e.syncEngine}))}function VN(e){return RN(e).then((function(e){return e.datastore}))}function UN(e){return zN.apply(this,arguments)}function zN(){return(zN=lo(so().mark((function e(t){var n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RN(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=kA.bind(null,n.syncEngine),r.onUnlisten=_A.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new hb;return e.asyncQueue.enqueueAndForget(lo(so().mark((function i(){return so().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new bN({next:function(a){t.enqueueAndForget((function(){return rA(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new fb(lb.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new fb(lb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new sA(s_(n.path),a,{includeMetadataChanges:!0,G_:!0});return tA(e,o)},i.next=3,UN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function BN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new hb;return e.asyncQueue.enqueueAndForget(lo(so().mark((function i(){return so().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new bN({next:function(n){t.enqueueAndForget((function(){return rA(e,o)})),n.fromCache&&"server"===r.source?i.reject(new fb(lb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new sA(n,a,{includeMetadataChanges:!0,G_:!0});return tA(e,o)},i.next=3,UN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function qN(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var WN=new Map;function GN(e,t,n){if(!n)throw new fb(lb.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function KN(e,t,n,r){if(!0===t&&!0===r)throw new fb(lb.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function HN(e){if(!Rb.isDocumentKey(e))throw new fb(lb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function QN(e){if(Rb.isDocumentKey(e))throw new fb(lb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function $N(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ub()}function YN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new fb(lb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=$N(e);throw new fb(lb.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function JN(e,t){if(t<=0)throw new fb(lb.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var XN=function(){function e(t){var n,r;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new fb(lb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new fb(lb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qN(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new fb(lb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new fb(lb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new fb(lb.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),ZN=function(){function e(t,n,r,i){p(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XN({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new fb(lb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new fb(lb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XN(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new pb;switch(e.type){case"firstParty":return new gb(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new fb(lb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=WN.get(e);t&&(rb("ComponentProvider","Removing Datastore"),WN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function eP(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=YN(e,ZN))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&ab("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=Zk.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[vo(JSON.stringify({alg:"none",type:"JWT"})),vo(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new fb(lb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Zk(c)}e._authCredentials=new vb(new db(u,s))}}var tP=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),nP=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new rP(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),rP=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,s_(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new nP(this.firestore,null,new Rb(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(tP);function iP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jo(e),GN("collection","path",t),e instanceof ZN){var a=Ab.fromString.apply(Ab,[t].concat(r));return QN(a),new rP(e,null,a)}if(!(e instanceof nP||e instanceof rP))throw new fb(lb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ab.fromString.apply(Ab,[t].concat(r)));return QN(o),new rP(e.firestore,null,o)}function aP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=jo(e),1===arguments.length&&(t=xb.V()),GN("doc","path",t),e instanceof ZN){var a=Ab.fromString.apply(Ab,[t].concat(r));return HN(a),new nP(e,null,new Rb(a))}if(!(e instanceof nP||e instanceof rP))throw new fb(lb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ab.fromString.apply(Ab,[t].concat(r)));return HN(o),new nP(e.firestore,e instanceof rP?e.converter:null,new Rb(o))}function oP(e,t){return e=jo(e),t=jo(t),(e instanceof nP||e instanceof rP)&&(t instanceof nP||t instanceof rP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function uP(e,t){return e=jo(e),t=jo(t),e instanceof tP&&t instanceof tP&&e.firestore===t.firestore&&g_(e._query,t._query)&&e.converter===t.converter}var sP=function(){function e(){var t=this;p(this,e),this.Ga=Promise.resolve(),this.za=[],this.ja=!1,this.Ha=[],this.Ja=null,this.Ya=!1,this.Za=!1,this.Xa=[],this.$o=new eC(this,"async_queue_retry"),this.eu=function(){var e=XT();e&&rb("AsyncQueue","Visibility state changed to "+e.visibilityState),t.$o.Bo()};var n=XT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.eu)}return g(e,[{key:"isShuttingDown",get:function(){return this.ja}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.tu(),this.nu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ja){this.ja=!0,this.Za=e||!1;var t=XT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.eu)}}},{key:"enqueue",value:function(e){var t=this;if(this.tu(),this.ja)return new Promise((function(){}));var n=new hb;return this.nu((function(){return t.ja&&t.Za?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.za.push(e),t.ru()}))}},{key:"ru",value:function(){var e=lo(so().mark((function e(){var t=this;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.za.length){e.next=14;break}return e.prev=1,e.next=4,this.za[0]();case 4:this.za.shift(),this.$o.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Jb(e.t0)){e.next=12;break}throw e.t0;case 12:rb("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.za.length>0&&this.$o.Oo((function(){return t.ru()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(e){var t=this,n=this.Ga.then((function(){return t.Ya=!0,e().catch((function(e){t.Ja=e,t.Ya=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ib("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ya=!1,e}))}));return this.Ga=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.tu(),this.Xa.indexOf(e)>-1&&(t=0);var i=QC.createAndSchedule(this,e,t,n,(function(e){return r.iu(e)}));return this.Ha.push(i),i}},{key:"tu",value:function(){this.Ja&&ub()}},{key:"verifyOperationInProgress",value:function(){}},{key:"su",value:function(){var e=lo(so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ga,e.next=3,t;case 3:if(t!==this.Ga){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ou",value:function(e){var t,n=C(this.Ha);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"_u",value:function(e){var t=this;return this.su().then((function(){t.Ha.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.Ha);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.su()}))}},{key:"au",value:function(e){this.Xa.push(e)}},{key:"iu",value:function(e){var t=this.Ha.indexOf(e);this.Ha.splice(t,1)}}]),e}();function cP(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var lP=function(){function e(){p(this,e),this._progressObserver={},this._taskCompletionResolver=new hb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),fP=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new sP,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||dP(this),this._firestoreClient.terminate()}}]),n}(ZN);function hP(e){return e._firestoreClient||dP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function dP(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new nx(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,qN(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new SN(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function pP(e,t,n){var r=new hb;return e.asyncQueue.enqueue(lo(so().mark((function i(){var a;return so().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,IN(e,n);case 3:return i.next=5,TN(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),AN(a=i.t0)){i.next=13;break}throw a;case 13:ab("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function vP(e){return function(e){var t=new hb;return e.asyncQueue.enqueueAndForget(lo(so().mark((function n(){return so().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=MA,n.next=3,FN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(hP(e=YN(e,fP)))}function mP(e){return function(e){return e.asyncQueue.enqueue(lo(so().mark((function t(){var n,r;return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ON(e);case 2:return n=t.sent,t.next=5,MN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=cb(e);return t.w_.delete(0),uC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(hP(e=YN(e,fP)))}function yP(e){return function(e){return e.asyncQueue.enqueue(lo(so().mark((function t(){var n,r;return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ON(e);case 2:return n=t.sent,t.next=5,MN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=cb(t)).w_.add(0),e.next=4,cC(n);case 4:n.D_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(hP(e=YN(e,fP)))}function gP(e,t){var n=hP(e=YN(e,fP)),r=new lP;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new wN(e,t)}(function(e,t){if(e instanceof Uint8Array)return kN(e,t);if(e instanceof ArrayBuffer)return kN(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?TS().encode(e):e),t)}(n,ZT(t));e.asyncQueue.enqueueAndForget(lo(so().mark((function t(){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=pN,t.next=3,FN(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function kP(e,t){return function(e,t){return e.asyncQueue.enqueue(lo(so().mark((function n(){return so().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=cb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kr.getNamedQuery(e,t)}))},n.next=3,LN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(hP(e=YN(e,fP)),t).then((function(t){return t?new tP(e,null,t.query):null}))}function bP(e){if(e._initialized||e._terminated)throw new fb(lb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var wP=function(){function e(t){p(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Qw.fromBase64String(t))}catch(t){throw new fb(lb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Qw.fromUint8Array(t))}}]),e}(),xP=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new fb(lb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pb(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var _P=g((function e(t){p(this,e),this._methodName=t})),SP=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new fb(lb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new fb(lb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return _b(this._lat,e._lat)||_b(this._long,e._long)}}]),e}(),IP=/^__.*__$/,EP=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new fS(e,this.data,this.fieldMask,t,this.fieldTransforms):new lS(e,this.data,t,this.fieldTransforms)}}]),e}(),TP=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new fS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function CP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ub()}}var AP=function(){function e(t,n,r,i,a,o){p(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.uu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"cu",get:function(){return this.settings.cu}},{key:"lu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"hu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.lu({path:n,Pu:!1});return r.Iu(e),r}},{key:"Tu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.lu({path:n,Pu:!1});return r.uu(),r}},{key:"Eu",value:function(e){return this.lu({path:void 0,Pu:!0})}},{key:"du",value:function(e){return $P(e,this.settings.methodName,this.settings.Au||!1,this.path,this.settings.Ru)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"uu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Iu(this.path.get(e))}},{key:"Iu",value:function(e){if(0===e.length)throw this.du("Document fields must not be empty");if(CP(this.cu)&&IP.test(e))throw this.du('Document fields cannot begin and end with "__"')}}]),e}(),NP=function(){function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||ZT(t)}return g(e,[{key:"Vu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new AP({cu:e,methodName:t,Ru:n,path:Pb.emptyPath(),Pu:!1,Au:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function PP(e){var t=e._freezeSettings(),n=ZT(e._databaseId);return new NP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function RP(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Vu(a.merge||a.mergeFields?2:0,t,n,i);GP("Data must be an object, but it was:",o,r);var u,s,c=qP(r,o);if(a.merge)u=new Kw(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=C(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=KP(t,l.value,n);if(!o.contains(d))throw new fb(lb.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));YP(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Kw(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new EP(new Ix(c),u,s)}var DP=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.cu)throw 1===e.cu?e.du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(_P);function OP(e,t,n){return new AP({cu:3,Ru:t.settings.Ru,methodName:e._methodName,Pu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var LP=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new eS(e.path,new K_)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(_P),MP=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).mu=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=OP(this,e,!0),n=this.mu.map((function(e){return BP(e,t)})),r=new H_(n);return new eS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(_P),FP=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).mu=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=OP(this,e,!0),n=this.mu.map((function(e){return BP(e,t)})),r=new $_(n);return new eS(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(_P),VP=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).fu=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new J_(e.serializer,j_(e.serializer,this.fu));return new eS(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(_P);function UP(e,t,n,r){var i=e.Vu(1,t,n);GP("Data must be an object, but it was:",i,r);var a=[],o=Ix.empty();Vw(r,(function(e,r){var u=QP(t,e,n);r=jo(r);var s=i.Tu(u);if(r instanceof DP)a.push(u);else{var c=BP(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Kw(a);return new TP(o,u,i.fieldTransforms)}function zP(e,t,n,r,i,a){var o=e.Vu(1,t,n),u=[KP(t,r,n)],s=[i];if(a.length%2!=0)throw new fb(lb.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(KP(t,a[c])),s.push(a[c+1]);for(var l=[],f=Ix.empty(),h=u.length-1;h>=0;--h)if(!YP(l,u[h])){var d=u[h],p=s[h];p=jo(p);var v=o.Tu(d);if(p instanceof DP)l.push(d);else{var m=BP(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Kw(l);return new TP(f,y,o.fieldTransforms)}function jP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return BP(n,e.Vu(r?4:3,t))}function BP(e,t){if(WP(e=jo(e)))return GP("Unsupported field value:",t,e),qP(e,t);if(e instanceof _P)return function(e,t){if(!CP(t.cu))throw t.du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.du("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Pu&&4!==t.cu)throw t.du("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=BP(n.value,t.Eu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=jo(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return j_(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Eb.fromDate(e);return{timestampValue:HS(t.serializer,n)}}if(e instanceof Eb){var r=new Eb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:HS(t.serializer,r)}}if(e instanceof SP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wP)return{bytesValue:QS(t.serializer,e._byteString)};if(e instanceof nP){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.du("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:JS(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.du("Unsupported field value: ".concat($N(e)))}(e,t)}function qP(e,t){var n={};return Uw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vw(e,(function(e,r){var i=BP(r,t.hu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function WP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Eb||e instanceof SP||e instanceof wP||e instanceof nP||e instanceof _P)}function GP(e,t,n){if(!WP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=$N(n);throw"an object"===r?t.du(e+" a custom object"):t.du(e+" "+r)}}function KP(e,t,n){if((t=jo(t))instanceof xP)return t._internalPath;if("string"==typeof t)return QP(e,t);throw $P("Field path arguments must be of type string or ",e,!1,void 0,n)}var HP=new RegExp("[~\\*/\\[\\]]");function QP(e,t,n){if(t.search(HP)>=0)throw $P("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(xP,d(t.split(".")))._internalPath}catch(Qe){throw $P("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function $P(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new fb(lb.INVALID_ARGUMENT,u+e+s)}function YP(e,t){return e.some((function(e){return e.isEqual(t)}))}var JP=function(){function e(t,n,r,i,a){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new nP(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new XP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ZP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),XP=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return uo(w(n.prototype),"data",this).call(this)}}]),n}(JP);function ZP(e,t){return"string"==typeof t?QP(e,t):t instanceof xP?t._internalPath:t._delegate._internalPath}function eR(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new fb(lb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tR=g((function e(){p(this,e)})),nR=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(tR);function rR(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof tR&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof aR})).length,n=e.filter((function(e){return e instanceof iR})).length;if(t>1||t>0&&n>0)throw new fb(lb.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=C(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var iR=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return yR(e._query,t),new tP(e.firestore,e.converter,m_(e._query,t))}},{key:"_parse",value:function(e){var t=PP(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new fb(lb.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){mR(o,a);var s,c=[],l=C(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(vR(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=vR(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||mR(o,a),u=jP(n,t,o,"in"===a||"not-in"===a);return Ox.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(nR);var aR=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Lx.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;yR(r,a),r=m_(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new tP(e.firestore,e.converter,m_(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(tR);var oR=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new fb(lb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new fb(lb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Px(t,n);return function(e,t){if(null===l_(e)){var n=f_(e);null!==n&&gR(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new tP(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new o_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(nR);var uR=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new tP(e.firestore,e.converter,y_(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(nR);var sR=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=pR(e,this.type,this._docOrFields,this._inclusive);return new tP(e.firestore,e.converter,function(e,t){return new o_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(nR);function cR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sR._create("startAt",t,!0)}function lR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sR._create("startAfter",t,!1)}var fR=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=pR(e,this.type,this._docOrFields,this._inclusive);return new tP(e.firestore,e.converter,function(e,t){return new o_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(nR);function hR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fR._create("endBefore",t,!1)}function dR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fR._create("endAt",t,!0)}function pR(e,t,n,r){if(n[0]=jo(n[0]),n[0]instanceof JP)return function(e,t,n,r,i){if(!r)throw new fb(lb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=C(d_(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(dx(t,r.key));else{var c=r.data.field(s.field);if(Zw(c))throw new fb(lb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new fb(lb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Cx(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=PP(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new fb(lb.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new fb(lb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!h_(e)&&-1!==c.indexOf("/"))throw new fb(lb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ab.fromString(c));if(!Rb.isDocumentKey(l))throw new fb(lb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Rb(l);u.push(dx(t,f))}else{var h=jP(n,r,c);u.push(h)}}return new Cx(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function vR(e,t,n){if("string"==typeof(n=jo(n))){if(""===n)throw new fb(lb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h_(t)&&-1!==n.indexOf("/"))throw new fb(lb.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ab.fromString(n));if(!Rb.isDocumentKey(r))throw new fb(lb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return dx(e,new Rb(r))}if(n instanceof nP)return dx(e,n._key);throw new fb(lb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat($N(n),"."))}function mR(e,t){if(!Array.isArray(e)||0===e.length)throw new fb(lb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function yR(e,t){if(t.isInequality()){var n=f_(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new fb(lb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=l_(e);null!==i&&gR(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new fb(lb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new fb(lb.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function gR(e,t,n){if(!n.isEqual(t))throw new fb(lb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var kR=function(){function e(){p(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ox(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ub()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Vw(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new SP(Jw(e.latitude),Jw(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ex(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(tx(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Yw(e);return new Eb(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ab.fromString(e);sb(wI(n));var r=new rx(n.get(1),n.get(3)),i=new Rb(n.popFirst(5));return r.isEqual(t)||ib("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function bR(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var wR=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new wP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new nP(this.firestore,null,t)}}]),n}(kR);var xR=function(){function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),_R=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return g(n,[{key:"exists",value:function(){return uo(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new SR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ZP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(JP),SR=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return uo(w(n.prototype),"data",this).call(this,e)}}]),n}(_R),IR=function(){function e(t,n,r,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xR(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new SR(n._firestore,n._userDataWriter,r.key,r,new xR(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new fb(lb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new SR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new SR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:ER(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function ER(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ub()}}function TR(e,t){return e instanceof _R&&t instanceof _R?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof IR&&t instanceof IR&&e._firestore===t._firestore&&uP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var CR=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new wP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new nP(this.firestore,null,t)}}]),n}(kR);function AR(e){e=YN(e,nP);var t=YN(e.firestore,fP),n=hP(t),r=new CR(t);return function(e,t){var n=new hb;return e.asyncQueue.enqueueAndForget(lo(so().mark((function r(){return so().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=lo(so().mark((function e(t,n,r){var i,a;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=cb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new fb(lb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=$C(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,LN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new _R(t,r,e._key,n,new xR(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function NR(e){e=YN(e,tP);var t=YN(e.firestore,fP),n=hP(t),r=new CR(t);return eR(e._query),BN(n,e._query).then((function(n){return new IR(t,r,e,n)}))}function PR(e){e=YN(e,tP);var t=YN(e.firestore,fP),n=hP(t),r=new CR(t);return function(e,t){var n=new hb;return e.asyncQueue.enqueueAndForget(lo(so().mark((function r(){return so().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=lo(so().mark((function e(t,n,r){var i,a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,IT(t,n,!0);case 3:i=e.sent,a=new vA(n,i.os),o=a.oa(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=$C(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,LN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new IR(t,r,e,n)}))}function RR(e){e=YN(e,tP);var t=YN(e.firestore,fP),n=hP(t),r=new CR(t);return BN(n,e._query,{source:"server"}).then((function(n){return new IR(t,r,e,n)}))}function DR(e,t,n){e=YN(e,nP);var r=YN(e.firestore,fP),i=bR(e.converter,t,n);return FR(r,[RP(PP(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nS.none())])}function OR(e,t,n){e=YN(e,nP);for(var r=YN(e.firestore,fP),i=PP(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return FR(r,[("string"==typeof(t=jo(t))||t instanceof xP?zP(i,"updateDoc",e._key,t,n,o):UP(i,"updateDoc",e._key,t)).toMutation(e._key,nS.exists(!0))])}function LR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=jo(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||cP(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(cP(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof nP)l=YN(e.firestore,fP),f=s_(e._key.path),c={next:function(t){n[s]&&n[s](VR(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=YN(e,tP);l=YN(p.firestore,fP),f=p._query;var v=new CR(l);c={next:function(e){n[s]&&n[s](new IR(l,v,p,e))},error:n[s+1],complete:n[s+2]},eR(e._query)}return function(e,t,n,r){var i=new bN(r),a=new sA(t,i,n);return e.asyncQueue.enqueueAndForget(lo(so().mark((function t(){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tA,t.next=3,UN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Fa(),e.asyncQueue.enqueueAndForget(lo(so().mark((function t(){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rA,t.next=3,UN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(hP(l),f,h,c)}function MR(e,t){return function(e,t){var n=new bN(t);return e.asyncQueue.enqueueAndForget(lo(so().mark((function t(){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){cb(e).N_.add(t),t.next()},t.next=3,UN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Fa(),e.asyncQueue.enqueueAndForget(lo(so().mark((function t(){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){cb(e).N_.delete(t)},t.next=3,UN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(hP(e=YN(e,fP)),cP(t)?t:{next:t})}function FR(e,t){return function(e,t){var n=new hb;return e.asyncQueue.enqueueAndForget(lo(so().mark((function r(){return so().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=IA,r.next=3,FN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(hP(e),t)}function VR(e,t,n){var r=n.docs.get(t._key),i=new CR(e);return new _R(e,i,t._key,r,new xR(n.hasPendingWrites,n.fromCache),t.converter)}var UR={maxAttempts:5},zR=function(){function e(t,n){p(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=PP(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=jR(e,this._firestore),i=bR(r.converter,t,n),a=RP(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,nS.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=jR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=jo(t))||t instanceof xP?zP(this._dataReader,"WriteBatch.update",i._key,t,n,o):UP(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,nS.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=jR(e,this._firestore);return this._mutations=this._mutations.concat(new yS(t._key,nS.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new fb(lb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function jR(e,t){if((e=jo(e)).firestore!==t)throw new fb(lb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var BR=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=jR(e,this._firestore),i=new CR(this._firestore);return uo(w(n.prototype),"get",this).call(this,e).then((function(e){return new _R(t._firestore,i,r._key,e._document,new xR(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){p(this,e),this._firestore=t,this._transaction=n,this._dataReader=PP(t)}return g(e,[{key:"get",value:function(e){var t=this,n=jR(e,this._firestore),r=new wR(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ub();var i=e[0];if(i.isFoundDocument())return new JP(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new JP(t._firestore,r,n._key,null,n.converter);throw ub()}))}},{key:"set",value:function(e,t,n){var r=jR(e,this._firestore),i=bR(r.converter,t,n),a=RP(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=jR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=jo(t))||t instanceof xP?zP(this._dataReader,"Transaction.update",i._key,t,n,o):UP(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=jR(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function qR(e,t,n){e=YN(e,fP);var r=Object.assign(Object.assign({},UR),n);return function(e){if(e.maxAttempts<1)throw new fb(lb.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new hb;return e.asyncQueue.enqueueAndForget(lo(so().mark((function i(){var a;return so().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,VN(e);case 2:a=i.sent,new _N(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(hP(e),(function(n){return t(new BR(e,n))}),r)}function WR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new MP("arrayUnion",t)}function GR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new FP("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){eb=e}(Uu),Ru(new Bo("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new fP(new mb(e.getProvider("auth-internal")),new bb(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new fb(lb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rx(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Gu(Xk,"4.1.1",e),Gu(Xk,"4.1.1","esm2017")}();var KR=function(){return KR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},KR.apply(this,arguments)},HR=function(e){return{loading:void 0===e||null===e,value:e}},QR=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return KR(KR({},e),{error:t.error,loading:!1,value:void 0});case"reset":return HR(t.defaultValue);case"value":return KR(KR({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),HR(t)),r=n[0],a=n[1],o=(0,i.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,i.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,i.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},$R=function(e,t,n){var r=(0,i.useRef)(e);return(0,i.useEffect)((function(){t(e,r.current)||(r.current=e,n&&n())})),r},YR=function(e,t){var n=!e&&!t,r=!!e&&!!t&&uP(e,t);return n||r},JR=function(e,t){return $R(e,YR,t)},XR=function(e,t){var n=function(e,t){var n=QR(),r=n.error,a=n.loading,o=n.reset,u=n.setError,s=n.setValue,c=n.value,l=JR(e,o);return(0,i.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?LR(l.current,t.snapshotListenOptions,s,u):LR(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]),[c,a,r]}(e,t),r=n[0],a=n[1],o=n[2];return[ZR(r,null===t||void 0===t?void 0:t.snapshotOptions,null===t||void 0===t?void 0:t.initialValue),a,o,r]},ZR=function(e,t,n){return(0,i.useMemo)((function(){var r;return null!==(r=null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(t)})))&&void 0!==r?r:n}),[e,t])};function eD(){return(0,xa.jsx)(rv,{children:(0,xa.jsx)(yv,{container:!0,style:{height:window.innerHeight-50,justifyContent:"center",alignItems:"center"},children:(0,xa.jsx)(yv,{container:!0,alignItems:"center",direction:"column",children:(0,xa.jsxs)("div",{className:"lds-ring",children:[(0,xa.jsx)("div",{}),(0,xa.jsx)("div",{}),(0,xa.jsx)("div",{}),(0,xa.jsx)("div",{})]})})})})}var tD="Message_messageContainer__r7CMB",nD="Message_messageWrapper__JqZ2Y",rD="Message_avatar__F3RZ7",iD="Message_fromThem__tDGhq",aD="Message_selected__6yS2O",oD="Message_content__n5DAt",uD="Message_username__AInRK",sD="Message_messageText__Mt4WI",cD="Message_quotedText__WiGb9",lD="Message_quotedName__FAkdG",fD="Message_fromMe__hBayj",hD="Message_time__FL8bf",dD="Message_reverse__5fWoG",pD="Message_toEnd__HpWRn",vD=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},mD=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.shouldPreventDefault,a=void 0===r||r,o=n.delay,u=void 0===o?300:o,s=f((0,i.useState)(!1),2),c=s[0],l=s[1],h=(0,i.useRef)(),d=(0,i.useRef)(),p=(0,i.useCallback)((function(t){a&&t.target&&(t.target.addEventListener("touchend",vD,{passive:!1}),d.current=t.target),h.current=setTimeout((function(){e(t),l(!0)}),u)}),[e,u,a]),v=(0,i.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];h.current&&clearTimeout(h.current),n&&!c&&t(),l(!1),a&&d.current&&d.current.removeEventListener("touchend",vD)}),[a,t,c]);return{onMouseDown:function(e){return p(e)},onTouchStart:function(e){return p(e)},onMouseUp:function(e){return v(e)},onMouseLeave:function(e){return v(e,!1)},onTouchEnd:function(e){return v(e)}}};var yD=n.p+"static/media/checked_message.b8e71ddfc8ad108d992e8d24d685253e.svg",gD=function(e){var t=e.message,n=e.user,r=e.time,a=e.onLongPress,o=e.isSelected,u=f((0,i.useState)(!1),2),s=u[0],c=u[1],l=n.uid===t.uid,h=l?fD:iD,d=o?aD:null,p=mD((function(){a(t)}),(function(){console.log("click is triggered")}),{shouldPreventDefault:!0,delay:800});return(0,xa.jsx)(xa.Fragment,{children:(0,xa.jsx)("div",{className:l?"".concat(tD," ").concat(dD," ").concat(pD):tD,children:(0,xa.jsxs)("div",nu(nu({className:l?"".concat(nD," ").concat(dD):nD},p),{},{children:[(0,xa.jsx)("div",{className:l?"".concat(rD," ").concat(d):"".concat(rD," ").concat(iD," ").concat(d),onClick:function(){return c(!s)},children:(0,xa.jsx)("img",{src:d?yD:t.photoURL,alt:"avatar"})}),(0,xa.jsxs)("div",{className:"".concat(oD," ").concat(h," ").concat(d),children:[s&&(0,xa.jsx)("div",{className:uD,children:t.displayName}),t.quotedText?(0,xa.jsx)(xa.Fragment,{children:(0,xa.jsxs)("div",{className:sD,children:[(0,xa.jsxs)("div",{className:lD,children:["\u043e\u0442 ",t.quotedName]}),(0,xa.jsx)("div",{className:cD,children:t.quotedText}),t.text]})}):(0,xa.jsx)("div",{className:sD,children:t.text}),(0,xa.jsx)("div",{className:hD,children:r})]})]}))})})},kD="Chat_container__hXW7r",bD="Chat_messagesContainer__+0DiS",wD="Chat_dateDivider__7-hQz",xD="Chat_selectedMessageContainer__zR9M9",_D="Chat_inputContainer__qsu-V",SD="Chat_selectedMessageText__2HpyP",ID="Chat_inputMessage__uOkyq",ED="Chat_sendButton__9bajV";var TD=n.p+"static/media/send_message.19cb374b3eba6f7dfbedec050d0b7bb7.svg";var CD=n.p+"static/media/from_message.c4e798867e80d27ab69f4949714faef2.svg";var AD=n.p+"static/media/delete_quoted_message.0ca691033c852d87ee119a96e6ec4f9b.svg",ND=function(e){var t=null===e||void 0===e?void 0:e.toDate(),n=null===t||void 0===t?void 0:t.getDate().toString().padStart(2,"0"),r=((null===t||void 0===t?void 0:t.getMonth())+1).toString().padStart(2,"0"),i=null===t||void 0===t?void 0:t.getFullYear(),a=null===t||void 0===t?void 0:t.getHours().toString().padStart(2,"0"),o=null===t||void 0===t?void 0:t.getMinutes().toString().padStart(2,"0");return{date:"".concat(n,".").concat(r,".").concat(i),time:"".concat(a,":").concat(o)}};var PD=function(){var e=(0,i.useContext)(vL),t=e.auth,n=e.firestore,r=f(Bp(t),1)[0],a=f((0,i.useState)(""),2),o=a[0],u=a[1],s=f(XR(n.collection("messages").orderBy("createdAt")),2),c=s[0],l=s[1],h=(0,i.useRef)(null),d=f((0,i.useState)(null),2),p=d[0],v=d[1],m=function(e){v(e)};(0,i.useEffect)((function(){h.current&&h.current.scrollIntoView({behavior:"smooth"})}),[c]);var y=function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.trim()){e.next=2;break}return e.abrupt("return");case 2:if(!(o.length>200)){e.next=5;break}return alert("\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f - 200 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),e.abrupt("return");case 5:return e.next=7,n.collection("messages").add({uid:r.uid,displayName:r.displayName,photoURL:r.photoURL,text:o,quotedText:(null===p||void 0===p?void 0:p.text)||null,quotedName:(null===p||void 0===p?void 0:p.displayName)||null,createdAt:Cv.firestore.FieldValue.serverTimestamp()});case 7:u(""),v(null);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l?(0,xa.jsx)(eD,{}):(0,xa.jsxs)("div",{className:kD,children:[(0,xa.jsxs)("div",{className:bD,children:[null===c||void 0===c?void 0:c.map((function(e,t){return(0,xa.jsxs)(i.Fragment,{children:[(0===t||t>0&&ND(e.createdAt).date!==ND(c[t-1].createdAt).date)&&(0,xa.jsx)("div",{className:wD,children:ND(e.createdAt).date}),(0,xa.jsx)(gD,{message:e,user:r,time:ND(e.createdAt).time,onLongPress:m,isSelected:p===e})]},e.createdAt)})),(0,xa.jsx)("div",{ref:h})]}),p&&(0,xa.jsxs)("div",{className:xD,children:[(0,xa.jsxs)("div",{className:SD,children:[(0,xa.jsx)("div",{children:(0,xa.jsx)("img",{src:CD,alt:""})}),"\u041e\u0442 ",(0,xa.jsx)("span",{children:p.displayName}),":"," ",window.innerWidth<500&&p.text.length>30?"".concat(p.text.slice(0,30),"..."):"".concat(p.text.slice(0,70),"...")]}),(0,xa.jsx)("img",{src:AD,alt:"",onClick:function(){return v(null)}})]}),(0,xa.jsxs)("div",{className:_D,children:[(0,xa.jsx)("textarea",{className:ID,value:o,onChange:function(e){return u(e.target.value)}}),(0,xa.jsx)("img",{src:TD,alt:"icon",onClick:y,className:ED})]})]})},RD=[{path:Jp,Element:(0,xa.jsx)(Nv,{})}],DD=[{path:Xp,Element:(0,xa.jsx)(PD,{})}];var OD=function(){var e=(0,i.useContext)(vL).auth;return f(Bp(e),1)[0]?(0,xa.jsxs)(Fe,{children:[DD.map((function(e){var t=e.path,n=e.Element;return(0,xa.jsx)(Le,{path:t,element:n},t)})),(0,xa.jsx)(Le,{path:"*",element:(0,xa.jsx)(Oe,{to:Xp})})]}):(0,xa.jsxs)(Fe,{children:[RD.map((function(e){var t=e.path,n=e.Element;return(0,xa.jsx)(Le,{path:t,element:n},t)})),(0,xa.jsx)(Le,{path:"*",element:(0,xa.jsx)(Oe,{to:Jp})})]})};var LD=function(){var e=(0,i.useContext)(vL).auth,t=f(Bp(e),3),n=(t[0],t[1]);return t[2],n?(0,xa.jsx)(eD,{}):(0,xa.jsxs)(Be,{children:[(0,xa.jsx)(Yp,{}),(0,xa.jsx)(OD,{})]})};function MD(){return window}var FD=2e3;function VD(e,t,n){return UD.apply(this,arguments)}function UD(){return UD=lo(so().mark((function e(t,n,r){var i,a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=MD(),o=a.BuildInfo,Ms(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,GD(n.sessionId);case 4:return u=e.sent,s={},qc()?s.ibi=o.packageName:zc()?s.apn=o.packageName:As(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",bp(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),UD.apply(this,arguments)}function zD(){return zD=lo(so().mark((function e(t){var n,r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=MD(),r=n.BuildInfo,i={},qc()?i.iosBundleId=r.packageName:zc()?i.androidPackageName=r.packageName:As(t,"operation-not-supported-in-this-environment"),e.next=5,Yd(t,i);case 5:case"end":return e.stop()}}),e)}))),zD.apply(this,arguments)}function jD(e){var t=MD().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function BD(e,t,n){return qD.apply(this,arguments)}function qD(){return qD=lo(so().mark((function e(t,n,r){var i,a,o;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=MD(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ns(t,"redirect-cancelled-by-user"))}),FD))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),zc()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),qD.apply(this,arguments)}function WD(e){var t,n,r,i,a,o,u,s,c,l,f=MD();Os("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Os("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Os("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Os("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Os("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function GD(e){return KD.apply(this,arguments)}function KD(){return(KD=lo(so().mark((function e(t){var n,r,i;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=HD(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HD(e){if(Ms(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var QD=20,$D=function(e){b(n,e);var t=S(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),uo(w(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Hd);function YD(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:tO(),postBody:null,tenantId:e.tenantId,error:Ns(e,"no-auth-event")}}function JD(e,t){return nO()._set(rO(e),t)}function XD(e){return ZD.apply(this,arguments)}function ZD(){return ZD=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nO()._get(rO(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,nO()._remove(rO(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),ZD.apply(this,arguments)}function eO(e,t){var n,r,i=function(e){var t=iO(e),n=t.link?decodeURIComponent(t.link):void 0,r=iO(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return iO(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=iO(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ns(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function tO(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<QD;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function nO(){return Nc(mh)}function rO(e){return Dc("authEvent",e.config.apiKey,e.name)}function iO(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return Mo(t.slice(1).join("?"))}var aO=function(){function e(){p(this,e),this._redirectPersistence=gh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qd,this._overrideRedirectResult=Rd}return g(e,[{key:"_initialize",value:function(){var e=lo(so().mark((function e(t){var n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new $D(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){As(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=lo(so().mark((function e(t,n,r,i){var a,o,u,s;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return WD(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ed.clear(),e.next=10,this._originValidation(t);case 10:return o=YD(t,r,i),e.next=13,JD(t,o);case 13:return e.next=15,VD(t,o,n);case 15:return u=e.sent,e.next=18,jD(u);case 18:return s=e.sent,e.abrupt("return",BD(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return zD.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=MD(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(lo(so().mark((function n(){return so().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,XD(e);case 2:t.onEvent(uO());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=lo(so().mark((function n(r){var i,a;return so().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,XD(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=eO(i,r.url)),t.onEvent(a||uO());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");MD().handleOpenURL=function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),oO=aO;function uO(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ns("no-auth-event")}}var sO=1e3;function cO(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function lO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo();return!("file:"!==cO()&&"ionic:"!==cO()&&"capacitor:"!==cO()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function fO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo();return Eo()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xo();return/Edge\/\d+/.test(e)}(e)}function hO(){try{var e=self.localStorage,t=wh();if(e)return e.setItem(t,"1"),e.removeItem(t),!fO()||To()}catch(n){return dO()&&To()}return!1}function dO(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function pO(){return("http:"===cO()||"https:"===cO()||So()||lO())&&!(Io()||_o())&&hO()&&!dO()}function vO(){return lO()&&"undefined"!==typeof document}function mO(){return yO.apply(this,arguments)}function yO(){return(yO=lo(so().mark((function e(){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vO()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),sO);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gO={LOCAL:"local",NONE:"none",SESSION:"session"},kO=Os,bO="persistence";function wO(e,t){kO(Object.values(gO).includes(t),e,"invalid-persistence-type"),Io()?kO(t!==gO.SESSION,e,"unsupported-persistence-type"):_o()?kO(t===gO.NONE,e,"unsupported-persistence-type"):dO()?kO(t===gO.NONE||t===gO.LOCAL&&To(),e,"unsupported-persistence-type"):kO(t===gO.NONE||hO(),e,"unsupported-persistence-type")}function xO(e){return _O.apply(this,arguments)}function _O(){return _O=lo(so().mark((function e(t){var n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=SO(),r=Dc(bO,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),_O.apply(this,arguments)}function SO(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var IO=Os,EO=function(){function e(){p(this,e),this.browserResolver=Nc(Ip),this.cordovaResolver=Nc(oO),this.underlyingResolver=null,this._redirectPersistence=gh,this._completeRedirectFn=qd,this._overrideRedirectResult=Rd}return g(e,[{key:"_initialize",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=lo(so().mark((function e(t,n,r,i){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=lo(so().mark((function e(t,n,r,i){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return vO()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return IO(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=lo(so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mO();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function TO(e){return e.unwrap()}function CO(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new DO(e,function(e,t){var n,r=jo(e),i=t;return Os(t.customData.operationType,r,"argument-error"),Os(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),oh._fromError(r,i)}(e,t));else if(r){var i=AO(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function AO(e){var t=(e instanceof Co?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Co)&&"temporaryProof"in t&&"phoneNumber"in t)return ld.credentialFromResult(e);var n,r=t.providerId;if(!r||r===hs.PASSWORD)return null;switch(r){case hs.GOOGLE:n=Hl;break;case hs.FACEBOOK:n=Kl;break;case hs.GITHUB:n=Ql;break;case hs.TWITTER:n=Jl;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?$l._create(r,u):Dl._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Gl(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Co?n.credentialFromError(e):n.credentialFromResult(e)}function NO(e,t){return t.catch((function(t){throw t instanceof Co&&CO(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,AO(t)),additionalUserInfo:ih(e),user:OO.getOrCreate(r)}}))}function PO(e,t){return RO.apply(this,arguments)}function RO(){return RO=lo(so().mark((function e(t,n){var r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return NO(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),RO.apply(this,arguments)}var DO=function(){function e(t,n){p(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return NO(TO(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),OO=function(){function e(t){p(this,e),this._delegate=t,this.multiFactor=function(e){var t=jo(e);return hh.has(t)||hh.set(t,fh._fromUser(t)),hh.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NO(this.auth,kf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PO(this.auth,id(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NO(this.auth,xd(this._delegate,t,EO)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xO(Jc(this.auth));case 2:return e.abrupt("return",Ud(this._delegate,t,EO));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NO(this.auth,wf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return PO(this.auth,function(e,t,n){return od.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return NO(this.auth,function(e,t,n){return wd.apply(this,arguments)}(this._delegate,e,EO))}},{key:"reauthenticateWithRedirect",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xO(Jc(this.auth));case 2:return e.abrupt("return",Fd(this._delegate,t,EO));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Gf.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uf(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Yf(jo(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Yf(jo(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return cd.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return $f.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Kf.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();OO.USER_MAP=new WeakMap;var LO=Os,MO=function(){function e(t,n){if(p(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;LO(r,"invalid-api-key",{appName:t.name}),LO(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?EO:void 0;this._delegate=n.initialize({options:{persistence:VO(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(_s),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?OO.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){il(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Of.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Lf(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Df.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=lo(so().mark((function e(t,n){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NO(this._delegate,Vf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Wf.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=jl.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=lo(so().mark((function e(){var t;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LO(pO(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,jd(this._delegate,EO);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",NO(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Jc(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=FO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=FO(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return zf.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Rf.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=lo(so().mark((function e(t){var n,r;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wO(this._delegate,t),e.t0=t,e.next=e.t0===gO.SESSION?4:e.t0===gO.LOCAL?6:e.t0===gO.NONE?11:13;break;case 4:return n=gh,e.abrupt("break",14);case 6:return e.next=8,Nc(Bh)._isAvailable();case 8:return r=e.sent,n=r?Bh:mh,e.abrupt("break",14);case 11:return n=Rc,e.abrupt("break",14);case 13:return e.abrupt("return",As("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return NO(this._delegate,function(e){return nf.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return NO(this._delegate,yf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return NO(this._delegate,function(e,t){return If.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return NO(this._delegate,function(e,t,n){return yf(jo(e),Bl.credential(t,n)).catch(function(){var t=lo(so().mark((function t(n){return so().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&Nf(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return NO(this._delegate,function(e,t,n){return jf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return PO(this._delegate,function(e,t,n){return rd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LO(pO(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",NO(this._delegate,kd(this._delegate,t,EO)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=lo(so().mark((function e(t){return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LO(pO(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,xO(this._delegate);case 3:return e.abrupt("return",Ld(this._delegate,t,EO));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ff.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function FO(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&OO.getOrCreate(e))},error:t,complete:n}}function VO(e,t){var n=function(e,t){var n=SO();if(!n)return[];var r=Dc(bO,e,t);switch(n.getItem(r)){case gO.NONE:return[Rc];case gO.LOCAL:return[Bh,gh];case gO.SESSION:return[gh];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Bh)||n.push(Bh),"undefined"!==typeof window)for(var r=0,i=[mh,gh];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Rc)||n.push(Rc),n}MO.Persistence=gO;var UO=function(){function e(){p(this,e),this.providerId="phone",this._delegate=new ld(TO(Cv.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ld.credential(e,t)}}]),e}();UO.PHONE_SIGN_IN_METHOD=ld.PHONE_SIGN_IN_METHOD,UO.PROVIDER_ID=ld.PROVIDER_ID;var zO,jO=Os,BO=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cv.app();p(this,e),jO(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new ed(i.auth(),t,n),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(zO=Cv).INTERNAL.registerComponent(new Bo("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new MO(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ds,PASSWORD_RESET:ps,RECOVER_EMAIL:vs,REVERT_SECOND_FACTOR_ADDITION:ms,VERIFY_AND_CHANGE_EMAIL:ys,VERIFY_EMAIL:gs}},EmailAuthProvider:Bl,FacebookAuthProvider:Kl,GithubAuthProvider:Ql,GoogleAuthProvider:Hl,OAuthProvider:Gl,SAMLAuthProvider:Yl,PhoneAuthProvider:UO,PhoneMultiFactorGenerator:Cp,RecaptchaVerifier:BO,TwitterAuthProvider:Jl,Auth:MO,AuthCredential:ul,Error:Co}).setInstantiationMode("LAZY").setMultipleInstances(!1)),zO.registerVersion("@firebase/auth-compat","0.4.5");function qO(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new fb("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function WO(){if("undefined"===typeof Uint8Array)throw new fb("unimplemented","Uint8Arrays are not available in this environment.")}function GO(){if("undefined"==typeof atob)throw new fb("unimplemented","Blobs are unavailable in Firestore in this environment.")}var KO=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return GO(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return WO(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return GO(),new e(wP.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return WO(),new e(wP.fromUint8Array(t))}}]),e}();function HO(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var QO=function(){function e(){p(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){bP(e=YN(e,fP));var n=hP(e);if(n._uninitializedComponentsProvider)throw new fb(lb.FAILED_PRECONDITION,"SDK cache is already specified.");ab("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new gN;return pP(n,i,new mN(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){bP(e=YN(e,fP));var t=hP(e);if(t._uninitializedComponentsProvider)throw new fb(lb.FAILED_PRECONDITION,"SDK cache is already specified.");ab("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new gN;return pP(t,r,new yN(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new fb(lb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new hb;return e._queue.enqueueAndForgetEvenWhileRestricted(lo(so().mark((function n(){return so().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=lo(so().mark((function e(t){var n;return so().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qb.v()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Qb.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(lT(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),$O=function(){function e(t,n,r){var i=this;p(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof rx||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ab("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eP(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return mP(this._delegate)}},{key:"disableNetwork",value:function(){return yP(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&KN("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return vP(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return MR(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new fb("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new cL(this,iP(this._delegate,e))}catch(t){throw tL(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new eL(this,aP(this._delegate,e))}catch(t){throw tL(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new oL(this,function(e,t){if(e=YN(e,ZN),GN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new fb(lb.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new tP(e,null,function(e){return new o_(Ab.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw tL(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return qR(this._delegate,(function(n){return e(new JO(t,n))}))}},{key:"batch",value:function(){var e=this;return hP(this._delegate),new XO(new zR(this._delegate,(function(t){return FR(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return gP(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return kP(this._delegate,e).then((function(e){return e?new oL(t,e):null}))}}]),e}(),YO=function(e){b(n,e);var t=S(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new KO(new wP(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return eL.forKey(t,this.firestore,null)}}]),n}(kR);var JO=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new YO(t)}return g(e,[{key:"get",value:function(e){var t=this,n=lL(e);return this._delegate.get(n).then((function(e){return new iL(t._firestore,new _R(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=lL(e);return n?(qO("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=lL(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=lL(e);return this._delegate.delete(t),this}}]),e}(),XO=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=lL(e);return n?(qO("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=lL(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=lL(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),ZO=function(){function e(t,n,r){p(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new SR(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new aL(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new YO(t),n),i.set(n,a)),a}}]),e}();ZO.INSTANCES=new WeakMap;var eL=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YO(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new cL(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new cL(this.firestore,iP(this._delegate,e))}catch(t){throw tL(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=jo(e))instanceof nP&&oP(this._delegate,e)}},{key:"set",value:function(e,t){t=qO("DocumentReference.set",t);try{return t?DR(this._delegate,e,t):DR(this._delegate,e)}catch(n){throw tL(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?OR(this._delegate,e):OR.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw tL(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return FR(YN((e=this._delegate).firestore,fP),[new yS(e._key,nS.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=nL(n),a=rL(n,(function(t){return new iL(e.firestore,new _R(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return LR(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?AR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=YN(e,nP);var t=YN(e.firestore,fP);return jN(hP(t),e._key,{source:"server"}).then((function(n){return VR(t,e,n)}))}(this._delegate):function(e){e=YN(e,nP);var t=YN(e.firestore,fP);return jN(hP(t),e._key).then((function(n){return VR(t,e,n)}))}(this._delegate)).then((function(e){return new iL(t.firestore,new _R(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ZO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new fb("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new nP(n._delegate,r,new Rb(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new nP(n._delegate,r,t))}}]),e}();function tL(e,t,n){return e.message=e.message.replace(t,n),e}function nL(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!HO(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function rL(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=HO(e[0])?e[0]:HO(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var iL=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new eL(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return TR(this._delegate,e._delegate)}}]),e}(),aL=function(e){b(n,e);var t=S(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||ub(),t}}]),n}(iL),oL=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new YO(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,rR(this._delegate,function(e,t,n){var r=t,i=ZP("where",e);return iR._create(i,r,n)}(t,n,r)))}catch(i){throw tL(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,rR(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ZP("orderBy",e);return oR._create(n,t)}(t,n)))}catch(r){throw tL(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,rR(this._delegate,(JN("limit",n=t),uR._create("limit",n,"F"))))}catch(n){throw tL(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,rR(this._delegate,(JN("limitToLast",n=t),uR._create("limitToLast",n,"L"))))}catch(n){throw tL(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,rR(this._delegate,cR.apply(void 0,arguments)))}catch(t){throw tL(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,rR(this._delegate,lR.apply(void 0,arguments)))}catch(t){throw tL(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,rR(this._delegate,hR.apply(void 0,arguments)))}catch(t){throw tL(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,rR(this._delegate,dR.apply(void 0,arguments)))}catch(t){throw tL(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return uP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?PR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?RR(this._delegate):NR(this._delegate)).then((function(e){return new sL(t.firestore,new IR(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=nL(n),a=rL(n,(function(t){return new sL(e.firestore,new IR(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return LR(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(ZO.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),uL=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new aL(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),sL=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new oL(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new aL(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new uL(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new aL(n._firestore,r))}))}},{key:"isEqual",value:function(e){return TR(this._delegate,e._delegate)}}]),e}(),cL=function(e){b(n,e);var t=S(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new eL(this.firestore,e):null}},{key:"doc",value:function(e){try{return new eL(this.firestore,void 0===e?aP(this._delegate):aP(this._delegate,e))}catch(t){throw tL(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=YN(e.firestore,fP),r=aP(e),i=bR(e.converter,t);return FR(n,[RP(PP(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nS.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new eL(t.firestore,e)}))}},{key:"isEqual",value:function(e){return oP(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(ZO.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(oL);function lL(e){return YN(e,nP)}var fL=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(xP,n)}return g(e,[{key:"isEqual",value:function(e){return(e=jo(e))instanceof xP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Pb.keyField().canonicalString())}}]),e}(),hL=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new LP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new DP("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=WR.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=GR.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new VP("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),dL={Firestore:$O,GeoPoint:SP,Timestamp:Eb,Blob:KO,Transaction:JO,WriteBatch:XO,DocumentReference:eL,DocumentSnapshot:iL,Query:oL,QueryDocumentSnapshot:aL,QuerySnapshot:sL,CollectionReference:cL,FieldPath:fL,FieldValue:hL,setLogLevel:function(e){var t;t=e,tb.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Bo("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},dL)))}(e,(function(e,t){return new $O(e,t,new QO)})),e.registerVersion("@firebase/firestore-compat","0.3.15")}(Cv);var pL=Cv.initializeApp({apiKey:"AIzaSyAGdFa1P0WhPI-9bw1C2EImNjFy88v-hT4",authDomain:"chat-react-be39d.firebaseapp.com",projectId:"chat-react-be39d",storageBucket:"chat-react-be39d.appspot.com",messagingSenderId:"135501839306",appId:"1:135501839306:web:aa40668e858fb9b089ad33",measurementId:"G-C53B4GRZRM"}),vL=(0,i.createContext)(null),mL=Cv.auth(),yL=Cv.firestore();o.createRoot(document.getElementById("root")).render((0,xa.jsx)(vL.Provider,{value:{app:pL,auth:mL,firestore:yL},children:(0,xa.jsx)(LD,{})}))}()}();
//# sourceMappingURL=main.11920fd1.js.map